import{r as p,a as Kh,R as Yh,g as dc,c as kr,b as Qh}from"./react-bd5e9abe.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var hc={exports:{}},ps={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=p,Zh=Symbol.for("react.element"),Jh=Symbol.for("react.fragment"),ef=Object.prototype.hasOwnProperty,tf=Xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nf={key:!0,ref:!0,__self:!0,__source:!0};function fc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ef.call(e,r)&&!nf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Zh,type:t,key:i,ref:o,props:s,_owner:tf.current}}ps.Fragment=Jh;ps.jsx=fc;ps.jsxs=fc;hc.exports=ps;var a=hc.exports,Si={},Ra=Kh;Si.createRoot=Ra.createRoot,Si.hydrateRoot=Ra.hydrateRoot;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qn(){return Qn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qn.apply(this,arguments)}var xt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xt||(xt={}));const Ia="popstate";function rf(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Ei("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Dr(s)}return of(e,n,null,t)}function fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function go(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sf(){return Math.random().toString(36).substr(2,8)}function ja(t,e){return{usr:t.state,key:t.key,idx:e}}function Ei(t,e,n,r){return n===void 0&&(n=null),Qn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kn(e):e,{state:n,key:e&&e.key||r||sf()})}function Dr(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function of(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=xt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Qn({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=xt.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:b})}function f(y,b){l=xt.Push;let w=Ei(v.location,y,b);n&&n(w,y),u=d()+1;let S=ja(w,u),k=v.createHref(w);try{o.pushState(S,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(k)}i&&c&&c({action:l,location:v.location,delta:1})}function _(y,b){l=xt.Replace;let w=Ei(v.location,y,b);n&&n(w,y),u=d();let S=ja(w,u),k=v.createHref(w);o.replaceState(S,"",k),i&&c&&c({action:l,location:v.location,delta:0})}function g(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:Dr(y);return fe(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let v={get action(){return l},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ia,h),c=y,()=>{s.removeEventListener(Ia,h),c=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:_,go(y){return o.go(y)}};return v}var Oa;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Oa||(Oa={}));function af(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?kn(e):e,s=vo(r.pathname||"/",n);if(s==null)return null;let i=pc(t);lf(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=gf(i[l],wf(s));return o}function pc(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(fe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=St([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pc(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:_f(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of _c(i.path))s(i,o,c)}),e}function _c(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=_c(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function lf(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mf(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cf=/^:\w+$/,uf=3,df=2,hf=1,ff=10,pf=-2,Pa=t=>t==="*";function _f(t,e){let n=t.split("/"),r=n.length;return n.some(Pa)&&(r+=pf),e&&(r+=df),n.filter(s=>!Pa(s)).reduce((s,i)=>s+(cf.test(i)?uf:i===""?hf:ff),r)}function mf(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function gf(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=vf({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(r,d.params);let h=l.route;i.push({params:r,pathname:St([s,d.pathname]),pathnameBase:Sf(St([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=St([s,d.pathnameBase]))}return i}function vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yf(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{if(d==="*"){let f=l[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return u[d]=xf(l[h]||"",d),u},{}),pathname:i,pathnameBase:o,pattern:t}}function yf(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),go(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wf(t){try{return decodeURI(t)}catch(e){return go(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xf(t,e){try{return decodeURIComponent(t)}catch(n){return go(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function vo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bf(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?kn(t):t;return{pathname:n?n.startsWith("/")?n:Cf(n,e):e,search:Ef(r),hash:Nf(s)}}function Cf(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xs(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mc(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gc(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=kn(t):(s=Qn({},t),fe(!s.pathname||!s.pathname.includes("?"),Xs("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),Xs("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),Xs("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(r||o==null)l=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=bf(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const St=t=>t.join("/").replace(/\/\/+/g,"/"),Sf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ef=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nf=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vc=["post","put","patch","delete"];new Set(vc);const Tf=["get",...vc];new Set(Tf);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mr(){return Mr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mr.apply(this,arguments)}const yo=p.createContext(null),yc=p.createContext(null),nn=p.createContext(null),_s=p.createContext(null),mt=p.createContext({outlet:null,matches:[],isDataRoute:!1}),wc=p.createContext(null);function Rf(t,e){let{relative:n}=e===void 0?{}:e;fr()||fe(!1);let{basename:r,navigator:s}=p.useContext(nn),{hash:i,pathname:o,search:l}=xo(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:St([r,o])),s.createHref({pathname:c,search:l,hash:i})}function fr(){return p.useContext(_s)!=null}function Tn(){return fr()||fe(!1),p.useContext(_s).location}function xc(t){p.useContext(nn).static||p.useLayoutEffect(t)}function wo(){let{isDataRoute:t}=p.useContext(mt);return t?qf():If()}function If(){fr()||fe(!1);let t=p.useContext(yo),{basename:e,navigator:n}=p.useContext(nn),{matches:r}=p.useContext(mt),{pathname:s}=Tn(),i=JSON.stringify(mc(r).map(c=>c.pathnameBase)),o=p.useRef(!1);return xc(()=>{o.current=!0}),p.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=gc(c,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:St([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,i,s,t])}const jf=p.createContext(null);function Of(t){let e=p.useContext(mt).outlet;return e&&p.createElement(jf.Provider,{value:t},e)}function Pf(){let{matches:t}=p.useContext(mt),e=t[t.length-1];return e?e.params:{}}function xo(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=p.useContext(mt),{pathname:s}=Tn(),i=JSON.stringify(mc(r).map(o=>o.pathnameBase));return p.useMemo(()=>gc(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function Lf(t,e){return Af(t,e)}function Af(t,e,n){fr()||fe(!1);let{navigator:r}=p.useContext(nn),{matches:s}=p.useContext(mt),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=Tn(),u;if(e){var d;let v=typeof e=="string"?kn(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||fe(!1),u=v}else u=c;let h=u.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",_=af(t,{pathname:f}),g=Bf(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:St([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:St([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n);return e&&g?p.createElement(_s.Provider,{value:{location:Mr({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xt.Pop}},g):g}function Df(){let t=Hf(),e=kf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,i)}const Mf=p.createElement(Df,null);class $f extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?p.createElement(mt.Provider,{value:this.props.routeContext},p.createElement(wc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ff(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(yo);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(mt.Provider,{value:e},r)}function Bf(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||fe(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,c,u)=>{let d=c.route.id?o==null?void 0:o[c.route.id]:null,h=null;n&&(h=c.route.errorElement||Mf);let f=e.concat(i.slice(0,u+1)),_=()=>{let g;return d?g=h:c.route.Component?g=p.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=l,p.createElement(Ff,{match:c,routeContext:{outlet:l,matches:f,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?p.createElement($f,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:_(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):_()},null)}var bc=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bc||{}),$r=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($r||{});function Uf(t){let e=p.useContext(yo);return e||fe(!1),e}function Wf(t){let e=p.useContext(yc);return e||fe(!1),e}function zf(t){let e=p.useContext(mt);return e||fe(!1),e}function Cc(t){let e=zf(),n=e.matches[e.matches.length-1];return n.route.id||fe(!1),n.route.id}function Hf(){var t;let e=p.useContext(wc),n=Wf($r.UseRouteError),r=Cc($r.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function qf(){let{router:t}=Uf(bc.UseNavigateStable),e=Cc($r.UseNavigateStable),n=p.useRef(!1);return xc(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Mr({fromRouteId:e},i)))},[t,e])}function Vf(t){return Of(t.context)}function rt(t){fe(!1)}function Gf(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xt.Pop,navigator:i,static:o=!1}=t;fr()&&fe(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof r=="string"&&(r=kn(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:_="default"}=r,g=p.useMemo(()=>{let v=vo(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:_},navigationType:s}},[l,u,d,h,f,_,s]);return g==null?null:p.createElement(nn.Provider,{value:c},p.createElement(_s.Provider,{children:n,value:g}))}function Kf(t){let{children:e,location:n}=t;return Lf(Ni(e),n)}new Promise(()=>{});function Ni(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,Ni(r.props.children,i));return}r.type!==rt&&fe(!1),!r.props.index||!r.props.children||fe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ni(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fr(){return Fr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fr.apply(this,arguments)}function Sc(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Yf(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qf(t,e){return t.button===0&&(!e||e==="_self")&&!Yf(t)}const Xf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Zf=["aria-current","caseSensitive","className","end","style","to","children"],Jf="startTransition",La=Yh[Jf];function ep(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=rf({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&La?La(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.createElement(Gf,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o})}const tp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",np=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d}=e,h=Sc(e,Xf),{basename:f}=p.useContext(nn),_,g=!1;if(typeof u=="string"&&np.test(u)&&(_=u,tp))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),k=vo(S.pathname,f);S.origin===w.origin&&k!=null?u=k+S.search+S.hash:g=!0}catch{}let v=Rf(u,{relative:s}),y=rp(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s});function b(w){r&&r(w),w.defaultPrevented||y(w)}return p.createElement("a",Fr({},h,{href:_||v,onClick:g||i?r:b,ref:n,target:c}))}),Aa=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,children:u}=e,d=Sc(e,Zf),h=xo(c,{relative:d.relative}),f=Tn(),_=p.useContext(yc),{navigator:g}=p.useContext(nn),v=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,y=f.pathname,b=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(y=y.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase());let w=y===v||!o&&y.startsWith(v)&&y.charAt(v.length)==="/",S=b!=null&&(b===v||!o&&b.startsWith(v)&&b.charAt(v.length)==="/"),k=w?r:void 0,T;typeof i=="function"?T=i({isActive:w,isPending:S}):T=[i,w?"active":null,S?"pending":null].filter(Boolean).join(" ");let P=typeof l=="function"?l({isActive:w,isPending:S}):l;return p.createElement(Xe,Fr({},d,{"aria-current":k,className:T,ref:n,style:P,to:c}),typeof u=="function"?u({isActive:w,isPending:S}):u)});var Da;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Da||(Da={}));var Ma;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ma||(Ma={}));function rp(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,l=wo(),c=Tn(),u=xo(t,{relative:o});return p.useCallback(d=>{if(Qf(d,n)){d.preventDefault();let h=r!==void 0?r:Dr(c)===Dr(u);l(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[c,l,u,r,s,n,t,i,o])}const bo=""+new URL("../img/logo.svg",import.meta.url).href,sp="_footer_381xk_1",ip="_menu_381xk_18",op="_logo_381xk_28",ap="_circles_381xk_85",lp="_first_381xk_85",cp="_second_381xk_86",up="_third_381xk_87",dp="_fourd_381xk_88",vt={footer:sp,menu:ip,logo:op,circles:ap,first:lp,second:cp,third:up,fourd:dp};function hp(){const t=[{name:"Головна",path:"/"},{name:"Новини",path:"/news"},{name:"Наші Герої",path:"/memorial"},{name:"Музей",path:"/museum"},{name:"Контакти",path:"/contacts"}],e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return a.jsxs("footer",{className:vt.footer,children:[a.jsxs("div",{className:vt.menu,children:[a.jsx("div",{className:vt.logo,children:a.jsx(Xe,{to:"/",onClick:e,children:a.jsx("img",{src:bo,alt:"logo"})})}),a.jsx("nav",{children:a.jsx("ul",{children:t.map((n,r)=>a.jsx("li",{children:a.jsx(Xe,{to:n.path,onClick:e,children:n.name})},r))})})]}),a.jsxs("div",{className:vt.circles,children:[a.jsx("div",{className:vt.first}),a.jsx("div",{className:vt.second}),a.jsx("div",{className:vt.third}),a.jsx("div",{className:vt.fourd})]})]})}const fp=t=>{window.scrollY>90&&(window.scrollY>(window.lastScrollY||0)?t(!0):t(!1),window.lastScrollY=window.scrollY)},$a=t=>{window.scrollTo({top:t?0:document.documentElement.scrollHeight,behavior:"smooth"})},pp="_disable_zzpep_19",_p="_header_wrapper_zzpep_22",mp="_logo_zzpep_41",gp="_active_zzpep_57",vp="_burger_zzpep_124",yp="_popMenu_zzpep_146",wp="_cross_zzpep_169",xp="_first_zzpep_215",bp="_second_zzpep_216",Cp="_third_zzpep_217",Sp="_fourd_zzpep_218",Ep="_fived_zzpep_219",Np="_sixed_zzpep_220",kp="_sevened_zzpep_221",oe={disable:pp,header_wrapper:_p,logo:mp,active:gp,burger:vp,popMenu:yp,cross:wp,first:xp,second:bp,third:Cp,fourd:Sp,fived:Ep,sixed:Np,sevened:kp};function Tp(){const t=Tn(),[e,n]=p.useState(!1),[r,s]=p.useState(!1),[i,o]=p.useState(!1),l=[{name:"Головна",path:"/"},{name:"Новини",path:"/news"},{name:"Наші Герої",path:"/memorial"},{name:"Музей",path:"/museum"}],c=[{name:"Головна",path:"/"},{name:"Новини",path:"/news"},{name:"Наші Герої",path:"/memorial"},{name:"Музей",path:"/museum"},{name:"Контакти",path:"/contacts"}];return p.useEffect(()=>{n(!1),$a(!0)},[t.pathname]),p.useEffect(()=>{const u=new Image;u.src=bo,u.onload=()=>{o(!0)}},[]),p.useEffect(()=>{const u=()=>fp(n);return window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]),a.jsxs(a.Fragment,{children:[a.jsx("header",{className:e?oe.disable:null,children:a.jsxs("div",{className:oe.header_wrapper,children:[a.jsx(Xe,{to:"/",className:i?oe.logo+" "+oe.active:oe.logo,style:{backgroundImage:"url(/img/logo.svg)"}}),a.jsx("nav",{children:a.jsxs("ul",{children:[l.map((u,d)=>a.jsx("li",{children:a.jsx(Aa,{to:u.path,className:({isActive:h})=>h?oe.active:void 0,exact:"true",children:u.name})},d)),a.jsx("li",{onClick:()=>{$a(!1)},children:a.jsx("a",{children:"Контакти"})})]})}),a.jsx("div",{className:r?oe.burger+" "+oe.disable:oe.burger,onClick:()=>s(!0),children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[a.jsx("path",{d:"M32 29H4C3.73478 29 3.48043 28.8946 3.29289 28.7071C3.10536 28.5196 3 28.2652 3 28C3 27.7348 3.10536 27.4804 3.29289 27.2929C3.48043 27.1054 3.73478 27 4 27H32C32.2652 27 32.5196 27.1054 32.7071 27.2929C32.8946 27.4804 33 27.7348 33 28C33 28.2652 32.8946 28.5196 32.7071 28.7071C32.5196 28.8946 32.2652 29 32 29Z",fill:"black"}),a.jsx("path",{d:"M32 19H4C3.73478 19 3.48043 18.8946 3.29289 18.7071C3.10536 18.5196 3 18.2652 3 18C3 17.7348 3.10536 17.4804 3.29289 17.2929C3.48043 17.1054 3.73478 17 4 17H32C32.2652 17 32.5196 17.1054 32.7071 17.2929C32.8946 17.4804 33 17.7348 33 18C33 18.2652 32.8946 18.5196 32.7071 18.7071C32.5196 18.8946 32.2652 19 32 19Z",fill:"black"}),a.jsx("path",{d:"M32 9H4C3.73478 9 3.48043 8.89464 3.29289 8.70711C3.10536 8.51957 3 8.26522 3 8C3 7.73478 3.10536 7.48043 3.29289 7.29289C3.48043 7.10536 3.73478 7 4 7H32C32.2652 7 32.5196 7.10536 32.7071 7.29289C32.8946 7.48043 33 7.73478 33 8C33 8.26522 32.8946 8.51957 32.7071 8.70711C32.5196 8.89464 32.2652 9 32 9Z",fill:"black"})]})})]})}),a.jsxs("div",{className:r?oe.popMenu+" "+oe.active:oe.popMenu,children:[a.jsx("div",{className:r?oe.cross:oe.cross+" "+oe.disable,onClick:()=>s(!1),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"23",viewBox:"0 0 23 23",fill:"none",children:a.jsx("path",{d:"M13.19 11.4739L22.7235 1.96593C22.9119 1.74653 23.0103 1.46429 22.9991 1.17564C22.988 0.886988 22.868 0.613172 22.6632 0.408911C22.4584 0.204651 22.1838 0.0849886 21.8944 0.0738392C21.605 0.0626898 21.322 0.160874 21.102 0.34877L11.5685 9.85677L2.03498 0.337301C1.81843 0.121331 1.52472 0 1.21847 0C0.912228 0 0.618524 0.121331 0.401975 0.337301C0.185426 0.553271 0.0637695 0.846189 0.0637695 1.15162C0.0637695 1.45705 0.185426 1.74996 0.401975 1.96593L9.94697 11.4739L0.401975 20.9819C0.281591 21.0848 0.183818 21.2113 0.114791 21.3536C0.0457641 21.4959 0.00697439 21.6509 0.00085697 21.8088C-0.00526045 21.9668 0.0214258 22.1243 0.0792416 22.2715C0.137057 22.4186 0.224754 22.5523 0.336827 22.6641C0.4489 22.7758 0.58293 22.8633 0.730503 22.921C0.878077 22.9786 1.03601 23.0052 1.19439 22.9991C1.35276 22.993 1.50817 22.9544 1.65084 22.8855C1.79351 22.8167 1.92038 22.7192 2.02347 22.5991L11.5685 13.0911L21.102 22.5991C21.322 22.787 21.605 22.8852 21.8944 22.874C22.1838 22.8629 22.4584 22.7432 22.6632 22.539C22.868 22.3347 22.988 22.0609 22.9991 21.7722C23.0103 21.4836 22.9119 21.2013 22.7235 20.9819L13.19 11.4739Z",fill:"black"})})}),a.jsx("nav",{children:a.jsx("ul",{children:c.map((u,d)=>a.jsx("li",{children:a.jsx(Aa,{to:u.path,className:({isActive:h})=>h?oe.active:void 0,exact:"true",onClick:()=>s(!1),children:u.name})},d))})}),a.jsxs("div",{className:oe.circles,children:[a.jsx("div",{className:oe.first}),a.jsx("div",{className:oe.second}),a.jsx("div",{className:oe.third}),a.jsx("div",{className:oe.fourd}),a.jsx("div",{className:oe.fived}),a.jsx("div",{className:oe.sixed}),a.jsx("div",{className:oe.sevened})]})]})]})}function Rp(){return a.jsx("main",{children:a.jsx(Vf,{})})}const Ip=()=>a.jsxs(a.Fragment,{children:[a.jsx(Tp,{}),a.jsx(Rp,{}),a.jsx(hp,{})]}),Fa=""+new URL("../img/main.jpg",import.meta.url).href,jp="_tittle_context_1ihsa_1",Op="_title_1ihsa_8",Pp="_sub_title_1ihsa_9",Lp="_hero_block_1ihsa_35",Ap="_block__title_1ihsa_44",Dp="_title_image_1ihsa_70",Mp="_active_1ihsa_88",$p="_circles_1ihsa_96",Fp="_first_1ihsa_96",Bp="_second_1ihsa_97",Up="_third_1ihsa_98",Wp="_fourd_1ihsa_99",zp="_fifth_1ihsa_100",Hp="_sixth_1ihsa_101",qp="_seventh_1ihsa_102",xe={tittle_context:jp,title:Op,sub_title:Pp,hero_block:Lp,block__title:Ap,title_image:Dp,active:Mp,circles:$p,first:Fp,second:Bp,third:Up,fourd:Wp,fifth:zp,sixth:Hp,seventh:qp};function Vp(){const[t,e]=p.useState(!1);return p.useEffect(()=>{const n=new Image;n.src=Fa,n.onload=()=>{e(!0)}},[]),a.jsxs("section",{className:xe.tittle_context,children:[a.jsxs("h2",{className:xe.title,children:[a.jsx("span",{children:"Аврора:"})," шлях до перемоги"]}),a.jsxs("div",{className:xe.sub_title,children:["Аврора від початку повномасштабного вторгнення не тільки не призупинила свою роботу, а тільки зросла й зміцніла. ",a.jsx("b",{children:"Чому?"})]}),a.jsxs("div",{className:xe.hero_block,children:[a.jsx("div",{className:xe.block__title,children:"Тому що Аврора - справжні герої та героїні свого часу, які:"}),a.jsxs("ul",{className:xe.block__list,children:[a.jsx("li",{children:"захищають Україну, навіть ціною власного життя;"}),a.jsx("li",{children:"щодня працюють, щоб підтримувати країну економічно;"}),a.jsx("li",{children:"волонтерять, донатять та допомагають чим можуть;"})]})]}),a.jsx("div",{className:t?xe.title_image+" "+xe.active:xe.title_image,style:{backgroundImage:`url(${Fa})`}}),a.jsxs("div",{className:xe.circles,children:[a.jsx("div",{className:xe.first}),a.jsx("div",{className:xe.second}),a.jsx("div",{className:xe.third}),a.jsx("div",{className:xe.fourd}),a.jsx("div",{className:xe.fifth}),a.jsx("div",{className:xe.sixth}),a.jsx("div",{className:xe.seventh})]})]})}var Ec={exports:{}},Gp="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kp=Gp,Yp=Kp;function Nc(){}function kc(){}kc.resetWarningCache=Nc;var Qp=function(){function t(r,s,i,o,l,c){if(c!==Yp){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kc,resetWarningCache:Nc};return n.PropTypes=n,n};Ec.exports=Qp();var Xp=Ec.exports;const m=dc(Xp),Zp="_customBtn_1mxj1_1",Jp="_text_1mxj1_26",Ba={customBtn:Zp,text:Jp};De.propTypes={text:m.string.isRequired,noArrow:m.bool.isRequired,white:m.bool};De.defaultProps={noArrow:!1};function De({text:t,noArrow:e,white:n}){return a.jsxs("button",{className:Ba.customBtn,type:"button",style:{backgroundColor:n?"#fff":"auto"},children:[a.jsx("div",{className:Ba.text,children:t}),e?null:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"30",viewBox:"0 0 16 30",fill:"none",children:a.jsx("path",{d:"M13.2655 15L0.332184 1.91705C0.225702 1.81161 0.141519 1.68644 0.0845067 1.54877C0.0274942 1.4111 -0.00121526 1.26367 3.94178e-05 1.11501C0.0012941 0.966349 0.0324872 0.819408 0.0918154 0.682691C0.151144 0.545974 0.237429 0.422197 0.345676 0.31852C0.453923 0.214844 0.581984 0.133327 0.722447 0.0786887C0.862911 0.0240501 1.01299 -0.0026262 1.164 0.000203734C1.315 0.00303367 1.46394 0.0353136 1.60219 0.0951755C1.74044 0.155037 1.86525 0.241293 1.96941 0.34895L15.6765 14.216C15.8839 14.4259 16 14.7071 16 15C16 15.2929 15.8839 15.5741 15.6765 15.784L1.96941 29.6511C1.86525 29.7587 1.74044 29.845 1.60219 29.9048C1.46394 29.9647 1.315 29.997 1.164 29.9998C1.01299 30.0026 0.862911 29.976 0.722447 29.9213C0.581984 29.8667 0.453923 29.7852 0.345676 29.6815C0.237429 29.5778 0.151144 29.454 0.0918154 29.3173C0.0324872 29.1806 0.0012941 29.0337 3.94178e-05 28.885C-0.00121526 28.7363 0.0274942 28.5889 0.0845067 28.4512C0.141519 28.3136 0.225702 28.1884 0.332184 28.083L13.2655 15Z",fill:"black"})})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x=function(t,e){if(!t)throw Rn(e)},Rn=function(t){return new Error("Firebase Database ("+Tc.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},e_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Co={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,_=u&63;c||(_=64,o||(f=64)),r.push(n[d],n[h],n[f],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rc(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new t_;const f=i<<2|l>>4;if(r.push(f),u!==64){const _=l<<4&240|u>>2;if(r.push(_),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ic=function(t){const e=Rc(t);return Co.encodeByteArray(e,!0)},Br=function(t){return Ic(t).replace(/\./g,"")},ki=function(t){try{return Co.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){return Xn(void 0,t)}function Xn(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!r_(n)||(t[n]=Xn(t[n],e[n]));return t}function r_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=()=>s_().__FIREBASE_DEFAULTS__,o_=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ki(t[1]);return e&&JSON.parse(e)},So=()=>{try{return i_()||o_()||a_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l_=t=>{var e,n;return(n=(e=So())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},c_=t=>{const e=l_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jc=()=>{var t;return(t=So())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Br(JSON.stringify(n)),Br(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u_())}function d_(){var t;const e=(t=So())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h_(){return typeof self=="object"&&self.self===self}function f_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lc(){return Tc.NODE_ADMIN===!0}function p_(){try{return typeof indexedDB=="object"}catch{return!1}}function __(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="FirebaseError";class rn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=m_,Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ms.prototype.create)}}class ms{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?g_(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new rn(s,l,r)}}function g_(t,e){return t.replace(v_,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const v_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t){return JSON.parse(t)}function pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Zn(ki(i[0])||""),n=Zn(ki(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},y_=function(t){const e=Ac(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},w_=function(t){const e=Ac(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gt(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ti(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ur(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ua(i)&&Ua(o)){if(!Ri(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ua(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,d;for(let h=0;h<80;h++){h<40?h<20?(u=l^i&(o^l),d=1518500249):(u=i^o^l,d=1859775393):h<60?(u=i&o|l&(i|o),d=2400959708):(u=i^o^l,d=3395469782);const f=(s<<5|s>>>27)+u+c+d+r[h]&4294967295;c=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function C_(t,e){const n=new S_(t,e);return n.subscribe.bind(n)}class S_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E_(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Zs),s.error===void 0&&(s.error=Zs),s.complete===void 0&&(s.complete=Zs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E_(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zs(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e,n,r){let s;if(r<e?s="at least "+e:r>n&&(s=n===0?"none":"no more than "+n),s){const i=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+s+".";throw new Error(i)}};function Ae(t,e){return`${t} failed: ${e} argument `}function me(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Ae(t,e)+"must be a valid function.")}function Wa(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Ae(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,x(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},gs=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t){return t&&t._delegate?t._delegate:t}class at{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Oe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T_(e))try{this.getOrInitializeService({instanceIdentifier:Bt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Bt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bt){return this.instances.has(e)}getOptions(e=Bt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bt){return this.component?this.component.multipleInstances?e:Bt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k_(t){return t===Bt?void 0:t}function T_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ii(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=[];var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const Mc={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},R_=te.INFO,I_={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},j_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=I_[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vs{constructor(e){this.name=e,this._logLevel=R_,this._logHandler=j_,this._userLogHandler=null,Eo.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Mc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}function O_(t){Eo.forEach(e=>{e.setLogLevel(t)})}function P_(t,e){for(const n of Eo){let r=null;e&&e.level&&(r=Mc[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,i,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");i>=(r??s.logLevel)&&t({level:te[i].toLowerCase(),message:l,args:o,type:s.name})}}}const L_=(t,e)=>e.some(n=>t instanceof n);let za,Ha;function A_(){return za||(za=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D_(){return Ha||(Ha=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $c=new WeakMap,ji=new WeakMap,Fc=new WeakMap,Js=new WeakMap,No=new WeakMap;function M_(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Et(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$c.set(n,t)}).catch(()=>{}),No.set(e,t),e}function $_(t){if(ji.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ji.set(t,e)}let Oi={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ji.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fc.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Et(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F_(t){Oi=t(Oi)}function B_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ei(this),e,...n);return Fc.set(r,e.sort?e.sort():[e]),Et(r)}:D_().includes(t)?function(...e){return t.apply(ei(this),e),Et($c.get(this))}:function(...e){return Et(t.apply(ei(this),e))}}function U_(t){return typeof t=="function"?B_(t):(t instanceof IDBTransaction&&$_(t),L_(t,A_())?new Proxy(t,Oi):t)}function Et(t){if(t instanceof IDBRequest)return M_(t);if(Js.has(t))return Js.get(t);const e=U_(t);return e!==t&&(Js.set(t,e),No.set(e,t)),e}const ei=t=>No.get(t);function W_(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Et(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Et(o.result),c.oldVersion,c.newVersion,Et(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const z_=["get","getKey","getAll","getAllKeys","count"],H_=["put","add","delete","clear"],ti=new Map;function qa(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ti.get(e))return ti.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=H_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||z_.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return ti.set(e,i),i}F_(t=>({...t,get:(e,n,r)=>qa(e,n)||t.get(e,n,r),has:(e,n)=>!!qa(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pi="@firebase/app",Va="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=new vs("@firebase/app"),G_="@firebase/app-compat",K_="@firebase/analytics-compat",Y_="@firebase/analytics",Q_="@firebase/app-check-compat",X_="@firebase/app-check",Z_="@firebase/auth",J_="@firebase/auth-compat",e1="@firebase/database",t1="@firebase/database-compat",n1="@firebase/functions",r1="@firebase/functions-compat",s1="@firebase/installations",i1="@firebase/installations-compat",o1="@firebase/messaging",a1="@firebase/messaging-compat",l1="@firebase/performance",c1="@firebase/performance-compat",u1="@firebase/remote-config",d1="@firebase/remote-config-compat",h1="@firebase/storage",f1="@firebase/storage-compat",p1="@firebase/firestore",_1="@firebase/firestore-compat",m1="firebase",g1="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="[DEFAULT]",v1={[Pi]:"fire-core",[G_]:"fire-core-compat",[Y_]:"fire-analytics",[K_]:"fire-analytics-compat",[X_]:"fire-app-check",[Q_]:"fire-app-check-compat",[Z_]:"fire-auth",[J_]:"fire-auth-compat",[e1]:"fire-rtdb",[t1]:"fire-rtdb-compat",[n1]:"fire-fn",[r1]:"fire-fn-compat",[s1]:"fire-iid",[i1]:"fire-iid-compat",[o1]:"fire-fcm",[a1]:"fire-fcm-compat",[l1]:"fire-perf",[c1]:"fire-perf-compat",[u1]:"fire-rc",[d1]:"fire-rc-compat",[h1]:"fire-gcs",[f1]:"fire-gcs-compat",[p1]:"fire-fst",[_1]:"fire-fst-compat","fire-js":"fire-js",[m1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It=new Map,Jn=new Map;function Wr(t,e){try{t.container.addComponent(e)}catch(n){Kt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bc(t,e){t.container.addOrOverwriteComponent(e)}function Yt(t){const e=t.name;if(Jn.has(e))return Kt.debug(`There were multiple attempts to register component ${e}.`),!1;Jn.set(e,t);for(const n of It.values())Wr(n,t);return!0}function ko(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function y1(t,e,n=Rt){ko(t,e).clearInstance(n)}function w1(){Jn.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ft=new ms("app","Firebase",x1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b1=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new at("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=g1;function To(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ft.create("bad-app-name",{appName:String(s)});if(n||(n=jc()),!n)throw ft.create("no-options");const i=It.get(s);if(i){if(Ri(n,i.options)&&Ri(r,i.config))return i;throw ft.create("duplicate-app",{appName:s})}const o=new Dc(s);for(const c of Jn.values())o.addComponent(c);const l=new b1(n,r,o);return It.set(s,l),l}function Uc(t=Rt){const e=It.get(t);if(!e&&t===Rt&&jc())return To();if(!e)throw ft.create("no-app",{appName:t});return e}function C1(){return Array.from(It.values())}async function Wc(t){const e=t.name;It.has(e)&&(It.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function it(t,e,n){var r;let s=(r=v1[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kt.warn(l.join(" "));return}Yt(new at(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function zc(t,e){if(t!==null&&typeof t!="function")throw ft.create("invalid-log-argument");P_(t,e)}function Hc(t){O_(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firebase-heartbeat-database",E1=1,er="firebase-heartbeat-store";let ni=null;function qc(){return ni||(ni=W_(S1,E1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(er)}}}).catch(t=>{throw ft.create("idb-open",{originalErrorMessage:t.message})})),ni}async function N1(t){try{return await(await qc()).transaction(er).objectStore(er).get(Vc(t))}catch(e){if(e instanceof rn)Kt.warn(e.message);else{const n=ft.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kt.warn(n.message)}}}async function Ga(t,e){try{const r=(await qc()).transaction(er,"readwrite");await r.objectStore(er).put(e,Vc(t)),await r.done}catch(n){if(n instanceof rn)Kt.warn(n.message);else{const r=ft.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kt.warn(r.message)}}}function Vc(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=1024,T1=30*24*60*60*1e3;class R1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ka();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=T1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ka(),{heartbeatsToSend:n,unsentEntries:r}=I1(this._heartbeatsCache.heartbeats),s=Br(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ka(){return new Date().toISOString().substring(0,10)}function I1(t,e=k1){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ya(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ya(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p_()?__().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await N1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ga(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ga(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ya(t){return Br(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){Yt(new at("platform-logger",e=>new q_(e),"PRIVATE")),Yt(new at("heartbeat",e=>new R1(e),"PRIVATE")),it(Pi,Va,t),it(Pi,Va,"esm2017"),it("fire-js","")}O1("");const P1=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:rn,SDK_VERSION:ys,_DEFAULT_ENTRY_NAME:Rt,_addComponent:Wr,_addOrOverwriteComponent:Bc,_apps:It,_clearComponents:w1,_components:Jn,_getProvider:ko,_registerComponent:Yt,_removeServiceInstance:y1,deleteApp:Wc,getApp:Uc,getApps:C1,initializeApp:To,onLog:zc,registerVersion:it,setLogLevel:Hc},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this._delegate=e,this.firebase=n,Wr(e,new at("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Wc(this._delegate)))}_getService(e,n=Rt){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Rt){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Wr(this._delegate,e)}_addOrOverwriteComponent(e){Bc(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Qa=new ms("app-compat","Firebase",A1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){const e={},n={__esModule:!0,initializeApp:i,app:s,registerVersion:it,setLogLevel:Hc,onLog:zc,apps:null,SDK_VERSION:ys,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:P1}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function s(u){if(u=u||Rt,!Be(e,u))throw Qa.create("no-app",{appName:u});return e[u]}s.App=t;function i(u,d={}){const h=To(u,d);if(Be(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(u=>e[u])}function l(u){const d=u.name,h=d.replace("-compat","");if(Yt(u)&&u.type==="PUBLIC"){const f=(_=s())=>{if(typeof _[h]!="function")throw Qa.create("invalid-app-argument",{appName:d});return _[h]()};u.serviceProps!==void 0&&Xn(f,u.serviceProps),n[h]=f,t.prototype[h]=function(..._){return this._getService.bind(this,d).apply(this,u.multipleInstances?_:[])}}return u.type==="PUBLIC"?n[h]:null}function c(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(){const t=D1(L1);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Gc,extendNamespace:e,createSubscribe:C_,ErrorFactory:ms,deepExtend:Xn});function e(n){Xn(t,n)}return t}const M1=Gc();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new vs("@firebase/app-compat"),$1="@firebase/app-compat",F1="0.2.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){it($1,F1,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(h_()&&self.firebase!==void 0){Xa.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Xa.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const ws=M1;B1();var U1="firebase",W1="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws.registerVersion(U1,W1,"app-compat");const Za="@firebase/database",Ja="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="";function Yc(t){Kc=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zn(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Be(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new z1(e)}}catch{}return new H1},Wt=Qc("localStorage"),Li=Qc("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new vs("@firebase/database"),Xc=function(){let t=1;return function(){return t++}}(),Zc=function(t){const e=N_(t),n=new b_;n.update(e);const r=n.digest();return Co.encodeByteArray(r)},pr=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=pr.apply(null,r):typeof r=="object"?e+=pe(r):e+=r,e+=" "}return e};let Ht=null,el=!0;const Jc=function(t,e){x(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(mn.logLevel=te.VERBOSE,Ht=mn.log.bind(mn),e&&Li.set("logging_enabled",!0)):typeof t=="function"?Ht=t:(Ht=null,Li.remove("logging_enabled"))},ve=function(...t){if(el===!0&&(el=!1,Ht===null&&Li.get("logging_enabled")===!0&&Jc(!0)),Ht){const e=pr.apply(null,t);Ht(e)}},_r=function(t){return function(...e){ve(t,...e)}},Ai=function(...t){const e="FIREBASE INTERNAL ERROR: "+pr(...t);mn.error(e)},lt=function(...t){const e=`FIREBASE FATAL ERROR: ${pr(...t)}`;throw mn.error(e),new Error(e)},Ne=function(...t){const e="FIREBASE WARNING: "+pr(...t);mn.warn(e)},q1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ne("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xs=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},V1=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},jt="[MIN_NAME]",_t="[MAX_NAME]",sn=function(t,e){if(t===e)return 0;if(t===jt||e===_t)return-1;if(e===jt||t===_t)return 1;{const n=tl(t),r=tl(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},G1=function(t,e){return t===e?0:t<e?-1:1},Mn=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+pe(e))},Ro=function(t){if(typeof t!="object"||t===null)return pe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=pe(e[r]),n+=":",n+=Ro(t[e[r]]);return n+="}",n},eu=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function ye(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tu=function(t){x(!xs(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,c;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const d=u.join("");let h="";for(c=0;c<64;c+=8){let f=parseInt(d.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},K1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Y1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Q1(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const X1=new RegExp("^-?(0*)\\d{1,10}$"),Z1=-2147483648,J1=2147483647,tl=function(t){if(X1.test(t)){const e=Number(t);if(e>=Z1&&e<=J1)return e}return null},In=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ne("Exception was thrown by user callback.",n),e},Math.floor(0))}},em=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hn=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ne(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ne(e)}}class gn{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gn.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="5",nu="v",ru="s",su="r",iu="f",ou=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,au="ls",lu="p",Di="ac",cu="websocket",uu="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r,s,i=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wt.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wt.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function rm(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function hu(t,e,n){x(typeof e=="string","typeof type must == string"),x(typeof n=="object","typeof params must == object");let r;if(e===cu)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===uu)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);rm(t)&&(n.ns=t.namespace);const s=[];return ye(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.counters_={}}incrementCounter(e,n=1){Be(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return n_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={},si={};function jo(t){const e=t.toString();return ri[e]||(ri[e]=new sm),ri[e]}function im(t,e){const n=t.toString();return si[n]||(si[n]=e()),si[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&In(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="start",am="close",lm="pLPCommand",cm="pRTLPCB",fu="id",pu="pw",_u="ser",um="cb",dm="seg",hm="ts",fm="d",pm="dframe",mu=1870,gu=30,_m=mu-gu,mm=25e3,gm=3e4;class bt{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_r(e),this.stats_=jo(n),this.urlFn=c=>(this.appCheckToken&&(c[Di]=this.appCheckToken),hu(n,uu,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new om(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(gm)),V1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Oo((...i)=>{const[o,l,c,u,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nl)this.id=l,this.password=c;else if(o===am)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[nl]="t",r[_u]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[um]=this.scriptTagHolder.uniqueCallbackIdentifier),r[nu]=Io,this.transportSessionId&&(r[ru]=this.transportSessionId),this.lastSessionId&&(r[au]=this.lastSessionId),this.applicationId&&(r[lu]=this.applicationId),this.appCheckToken&&(r[Di]=this.appCheckToken),typeof location<"u"&&location.hostname&&ou.test(location.hostname)&&(r[su]=iu);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bt.forceAllow_=!0}static forceDisallow(){bt.forceDisallow_=!0}static isAvailable(){return bt.forceAllow_?!0:!bt.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!K1()&&!Y1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ic(n),s=eu(r,_m);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[pm]="t",r[fu]=e,r[pu]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Oo{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Xc(),window[lm+this.uniqueCallbackIdentifier]=e,window[cm+this.uniqueCallbackIdentifier]=n,this.myIFrame=Oo.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){ve("frame writing exception"),l.stack&&ve(l.stack),ve(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ve("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[fu]=this.myID,e[pu]=this.myPW,e[_u]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+gu+r.length<=mu;){const o=this.pendingSegs.shift();r=r+"&"+dm+s+"="+o.seg+"&"+hm+s+"="+o.ts+"&"+fm+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(mm)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ve("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=16384,ym=45e3;let zr=null;typeof MozWebSocket<"u"?zr=MozWebSocket:typeof WebSocket<"u"&&(zr=WebSocket);class ze{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_r(this.connId),this.stats_=jo(n),this.connURL=ze.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[nu]=Io,typeof location<"u"&&location.hostname&&ou.test(location.hostname)&&(o[su]=iu),n&&(o[ru]=n),r&&(o[au]=r),s&&(o[Di]=s),i&&(o[lu]=i),hu(e,cu,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wt.set("previous_websocket_failure",!0);try{let r;Lc(),this.mySock=new zr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ze.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&zr!==null&&!ze.forceDisallow_}static previouslyFailed(){return Wt.isInMemoryStorage||Wt.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wt.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Zn(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(x(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=eu(n,vm);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ym))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ze.responsesRequiredToBeHealthy=2;ze.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[bt,ze]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ze&&ze.isAvailable();let r=n&&!ze.previouslyFailed();if(e.webSocketOnly&&(n||Ne("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ze];else{const s=this.transports_=[];for(const i of yn.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);yn.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yn.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=6e4,xm=5e3,bm=10*1024,Cm=100*1024,ii="t",rl="d",Sm="s",sl="r",Em="e",il="o",ol="a",al="n",ll="p",Nm="h";class km{constructor(e,n,r,s,i,o,l,c,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_r("c:"+this.id+":"),this.transportManager_=new yn(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Hn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Cm?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bm?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ii in e){const n=e[ii];n===ol?this.upgradeIfSecondaryHealthy_():n===sl?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===il&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mn("t",e),r=Mn("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ll,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ol,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:al,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mn("t",e),r=Mn("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mn(ii,e);if(rl in e){const r=e[rl];if(n===Nm){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===al){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Sm?this.onConnectionShutdown_(r):n===sl?this.onReset_(r):n===Em?Ai("Server Error: "+r):n===il?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ai("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Io!==r&&Ne("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Hn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(wm))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xm))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ll,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.allowedEvents_=e,this.listeners_={},x(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){x(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends yu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Hr}getInitialEvent(e){return x(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=32,ul=768;class Z{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Y(){return new Z("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ot(t){return t.pieces_.length-t.pieceNum_}function ne(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Z(t.pieces_,e)}function Po(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Tm(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function tr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function wu(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Z(e,0)}function le(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Z)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Z(n,0)}function U(t){return t.pieceNum_>=t.pieces_.length}function Re(t,e){const n=B(t),r=B(e);if(n===null)return e;if(n===r)return Re(ne(t),ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Rm(t,e){const n=tr(t,0),r=tr(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=sn(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Lo(t,e){if(Ot(t)!==Ot(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function He(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ot(t)>Ot(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Im{constructor(e,n){this.errorPrefix_=n,this.parts_=tr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gs(this.parts_[r]);xu(this)}}function jm(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=gs(e),xu(t)}function Om(t){const e=t.parts_.pop();t.byteLength_-=gs(e),t.parts_.length>0&&(t.byteLength_-=1)}function xu(t){if(t.byteLength_>ul)throw new Error(t.errorPrefix_+"has a key path longer than "+ul+" bytes ("+t.byteLength_+").");if(t.parts_.length>cl)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cl+") or object contains a cycle "+Ut(t))}function Ut(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends yu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ao}getInitialEvent(e){return x(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=1e3,Pm=60*5*1e3,dl=30*1e3,Lm=1.3,Am=3e4,Dm="server_kill",hl=3;class pt extends vu{constructor(e,n,r,s,i,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=pt.nextPersistentConnectionId_++,this.log_=_r("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$n,this.maxReconnectDelay_=Pm,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Lc())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ao.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Hr.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(pe(i)),x(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Oe,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),x(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),x(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const c=l.d,u=l.s;pt.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Be(e,"w")){const r=Gt(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Ne(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||w_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dl)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=y_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),x(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+pe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ai("Unrecognized action received from server: "+pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){x(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$n,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$n,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Am&&(this.reconnectDelay_=$n),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Lm)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+pt.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},u=function(h){x(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?ve("getToken() completed but was canceled"):(ve("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new km(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Ne(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(Dm)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ne(h),c())}}}interrupt(e){ve("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ve("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ti(this.interruptReasons_)&&(this.reconnectDelay_=$n,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Ro(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Z(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){ve("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hl&&(this.reconnectDelay_=dl,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ve("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hl&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Kc.replace(/\./g,"-")]=1,Pc()?e["framework.cordova"]=1:f_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hr.getInstance().currentlyOnline();return Ti(this.interruptReasons_)&&e}}pt.nextPersistentConnectionId_=0;pt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new z(jt,e),s=new z(jt,n);return this.compare(r,s)!==0}minPost(){return z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr;class bu extends bs{static get __EMPTY_NODE(){return Tr}static set __EMPTY_NODE(e){Tr=e}compare(e,n){return sn(e.name,n.name)}isDefinedOn(e){throw Rn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return z.MIN}maxPost(){return new z(_t,Tr)}makePost(e,n){return x(typeof e=="string","KeyIndex indexValue must always be a string."),new z(e,Tr)}toString(){return".key"}}const ot=new bu;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ge{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ge.RED,this.left=s??Le.EMPTY_NODE,this.right=i??Le.EMPTY_NODE}copy(e,n,r,s,i){return new ge(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Le.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Le.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ge.RED=!0;ge.BLACK=!1;class Mm{copy(e,n,r,s,i){return this}insert(e,n,r){return new ge(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Le{constructor(e,n=Le.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Le(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ge.BLACK,null,null))}remove(e){return new Le(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ge.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rr(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rr(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rr(this.root_,null,this.comparator_,!0,e)}}Le.EMPTY_NODE=new Mm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t,e){return sn(t.name,e.name)}function Do(t,e){return sn(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mi;function Fm(t){Mi=t}const Cu=function(t){return typeof t=="number"?"number:"+tu(t):"string:"+t},Su=function(t){if(t.isLeafNode()){const e=t.val();x(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Be(e,".sv"),"Priority must be a string or number.")}else x(t===Mi||t.isEmpty(),"priority of unexpected type.");x(t===Mi||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl;class _e{constructor(e,n=_e.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,x(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Su(this.priorityNode_)}static set __childrenNodeConstructor(e){fl=e}static get __childrenNodeConstructor(){return fl}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new _e(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:_e.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return U(e)?this:B(e)===".priority"?this.priorityNode_:_e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:_e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=B(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(x(r!==".priority"||Ot(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,_e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ne(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Cu(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=tu(this.value_):e+=this.value_,this.lazyHash_=Zc(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===_e.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof _e.__childrenNodeConstructor?-1:(x(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=_e.VALUE_TYPE_ORDER.indexOf(n),i=_e.VALUE_TYPE_ORDER.indexOf(r);return x(s>=0,"Unknown leaf type: "+n),x(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}_e.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu,Nu;function Bm(t){Eu=t}function Um(t){Nu=t}class Wm extends bs{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?sn(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(_t,new _e("[PRIORITY-POST]",Nu))}makePost(e,n){const r=Eu(e);return new z(n,new _e("[PRIORITY-POST]",r))}toString(){return".priority"}}const ie=new Wm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=Math.log(2);class Hm{constructor(e){const n=i=>parseInt(Math.log(i)/zm,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qr=function(t,e,n,r){t.sort(e);const s=function(c,u){const d=u-c;let h,f;if(d===0)return null;if(d===1)return h=t[c],f=n?n(h):h,new ge(f,h.node,ge.BLACK,null,null);{const _=parseInt(d/2,10)+c,g=s(c,_),v=s(_+1,u);return h=t[_],f=n?n(h):h,new ge(f,h.node,ge.BLACK,g,v)}},i=function(c){let u=null,d=null,h=t.length;const f=function(g,v){const y=h-g,b=h;h-=g;const w=s(y+1,b),S=t[y],k=n?n(S):S;_(new ge(k,S.node,v,null,w))},_=function(g){u?(u.left=g,u=g):(d=g,u=g)};for(let g=0;g<c.count;++g){const v=c.nextBitIsOne(),y=Math.pow(2,c.count-(g+1));v?f(y,ge.BLACK):(f(y,ge.BLACK),f(y,ge.RED))}return d},o=new Hm(t.length),l=i(o);return new Le(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oi;const dn={};class ht{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return x(dn&&ie,"ChildrenNode.ts has not been loaded"),oi=oi||new ht({".priority":dn},{".priority":ie}),oi}get(e){const n=Gt(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Le?n:null}hasIndex(e){return Be(this.indexSet_,e.toString())}addIndex(e,n){x(e!==ot,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(z.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=qr(r,e.getCompare()):l=dn;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const d=Object.assign({},this.indexes_);return d[c]=l,new ht(d,u)}addToIndexes(e,n){const r=Ur(this.indexes_,(s,i)=>{const o=Gt(this.indexSet_,i);if(x(o,"Missing index implementation for "+i),s===dn)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(z.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),qr(l,o.getCompare())}else return dn;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new z(e.name,l))),c.insert(e,e.node)}});return new ht(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ur(this.indexes_,s=>{if(s===dn)return s;{const i=n.get(e.name);return i?s.remove(new z(e.name,i)):s}});return new ht(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fn;class j{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Su(this.priorityNode_),this.children_.isEmpty()&&x(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fn||(Fn=new j(new Le(Do),null,ht.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fn}updatePriority(e){return this.children_.isEmpty()?this:new j(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Fn:n}}getChild(e){const n=B(e);return n===null?this:this.getImmediateChild(n).getChild(ne(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(x(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new z(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Fn:this.priorityNode_;return new j(s,o,i)}}updateChild(e,n){const r=B(e);if(r===null)return n;{x(B(e)!==".priority"||Ot(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ne(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(ie,(o,l)=>{n[o]=l.val(e),r++,i&&j.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Cu(this.getPriority().val())+":"),this.forEachChild(ie,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Zc(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new z(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new z(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,z.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,z.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===mr?-1:0}withIndex(e){if(e===ot||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new j(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ot||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ie),s=n.getIterator(ie);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ot?null:this.indexMap_.get(e.toString())}}j.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qm extends j{constructor(){super(new Le(Do),j.EMPTY_NODE,ht.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}}const mr=new qm;Object.defineProperties(z,{MIN:{value:new z(jt,j.EMPTY_NODE)},MAX:{value:new z(_t,mr)}});bu.__EMPTY_NODE=j.EMPTY_NODE;_e.__childrenNodeConstructor=j;Fm(mr);Um(mr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=!0;function ue(t,e=null){if(t===null)return j.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),x(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new _e(n,ue(e))}if(!(t instanceof Array)&&Vm){const n=[];let r=!1;if(ye(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=ue(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new z(o,c)))}}),n.length===0)return j.EMPTY_NODE;const i=qr(n,$m,o=>o.name,Do);if(r){const o=qr(n,ie.getCompare());return new j(i,ue(e),new ht({".priority":o},{".priority":ie}))}else return new j(i,ue(e),ht.Default)}else{let n=j.EMPTY_NODE;return ye(t,(r,s)=>{if(Be(t,r)&&r.substring(0,1)!=="."){const i=ue(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(ue(e))}}Bm(ue);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends bs{constructor(e){super(),this.indexPath_=e,x(!U(e)&&B(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?sn(e.name,n.name):i}makePost(e,n){const r=ue(e),s=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new z(n,s)}maxPost(){const e=j.EMPTY_NODE.updateChild(this.indexPath_,mr);return new z(_t,e)}toString(){return tr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends bs{compare(e,n){const r=e.node.compareTo(n.node);return r===0?sn(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(e,n){const r=ue(e);return new z(n,r)}toString(){return".value"}}const $o=new Gm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){return{type:"value",snapshotNode:t}}function wn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function nr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function rr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Km(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){x(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(nr(n,l)):x(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(wn(n,r)):o.trackChildChange(rr(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ie,(s,i)=>{n.hasChild(s)||r.trackChildChange(nr(s,i))}),n.isLeafNode()||n.forEachChild(ie,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(rr(s,i,o))}else r.trackChildChange(wn(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.indexedFilter_=new Fo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sr.getStartPost_(e),this.endPost_=sr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new z(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(j.EMPTY_NODE);const i=this;return n.forEachChild(ie,(o,l)=>{i.matches(new z(o,l))||(s=s.updateImmediateChild(o,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new z(n,r))||(r=j.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=j.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(j.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const h=this.index_.getCompare();o=(f,_)=>h(_,f)}else o=this.index_.getCompare();const l=e;x(l.numChildren()===this.limit_,"");const c=new z(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(l.hasChild(n)){const h=l.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const _=f==null?1:o(f,c);if(d&&!r.isEmpty()&&_>=0)return i!=null&&i.trackChildChange(rr(n,r,h)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(nr(n,h));const v=l.updateImmediateChild(n,j.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(wn(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:d&&o(u,c)>=0?(i!=null&&(i.trackChildChange(nr(u.name,u.node)),i.trackChildChange(wn(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,j.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return x(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return x(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jt}hasEnd(){return this.endSet_}getIndexEndValue(){return x(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return x(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_t}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return x(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ie}copy(){const e=new Cs;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Qm(t){return t.loadsAllData()?new Fo(t.getIndex()):t.hasLimit()?new Ym(t):new sr(t)}function Xm(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Zm(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function $i(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Jm(t,e,n){let r;return t.index_===ot||n?r=$i(t,e,n):r=$i(t,e,_t),r.startAfterSet_=!0,r}function Fi(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function eg(t,e,n){let r;return t.index_===ot||n?r=Fi(t,e,n):r=Fi(t,e,jt),r.endBeforeSet_=!0,r}function Ss(t,e){const n=t.copy();return n.index_=e,n}function pl(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ie?n="$priority":t.index_===$o?n="$value":t.index_===ot?n="$key":(x(t.index_ instanceof Mo,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=pe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+pe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _l(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ie&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends vu{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=_r("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(x(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Vr.getListenId_(e,r),l={};this.listens_[o]=l;const c=pl(e._queryParams);this.restRequest_(i+".json",c,(u,d)=>{let h=d;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(i,h,!1,r),Gt(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",s(f,null)}})}unlisten(e,n){const r=Vr.getListenId_(e,n);delete this.listens_[r]}get(e){const n=pl(e._queryParams),r=e._path.toString(),s=new Oe;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+x_(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Zn(l.responseText)}catch{Ne("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Ne("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return{value:null,children:new Map}}function jn(t,e,n){if(U(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=B(e);t.children.has(r)||t.children.set(r,Gr());const s=t.children.get(r);e=ne(e),jn(s,e,n)}}function Bi(t,e){if(U(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(ie,(r,s)=>{jn(t,new Z(r),s)}),Bi(t,e)}}else if(t.children.size>0){const n=B(e);return e=ne(e),t.children.has(n)&&Bi(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Ui(t,e,n){t.value!==null?n(e,t.value):ng(t,(r,s)=>{const i=new Z(e.toString()+"/"+r);Ui(s,i,n)})}function ng(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ye(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=10*1e3,sg=30*1e3,ig=5*60*1e3;class og{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rg(e);const r=ml+(sg-ml)*Math.random();Hn(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ye(e,(s,i)=>{i>0&&Be(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Hn(this.reportStats_.bind(this),Math.floor(Math.random()*2*ig))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ye||(Ye={}));function Bo(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Uo(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wo(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ye.ACK_USER_WRITE,this.source=Bo()}operationForChild(e){if(U(this.path)){if(this.affectedTree.value!=null)return x(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Z(e));return new Kr(Y(),n,this.revert)}}else return x(B(this.path)===e,"operationForChild called for unrelated child."),new Kr(ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){this.source=e,this.path=n,this.type=Ye.LISTEN_COMPLETE}operationForChild(e){return U(this.path)?new ir(this.source,Y()):new ir(this.source,ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ye.OVERWRITE}operationForChild(e){return U(this.path)?new Qt(this.source,Y(),this.snap.getImmediateChild(e)):new Qt(this.source,ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ye.MERGE}operationForChild(e){if(U(this.path)){const n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new Qt(this.source,Y(),n.value):new xn(this.source,Y(),n)}else return x(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xn(this.source,ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(U(e))return this.isFullyInitialized()&&!this.filtered_;const n=B(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lg(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Km(o.childName,o.snapshotNode))}),Bn(t,s,"child_removed",e,r,n),Bn(t,s,"child_added",e,r,n),Bn(t,s,"child_moved",i,r,n),Bn(t,s,"child_changed",e,r,n),Bn(t,s,"value",e,r,n),s}function Bn(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,c)=>ug(t,l,c)),o.forEach(l=>{const c=cg(t,l,i);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function cg(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ug(t,e,n){if(e.childName==null||n.childName==null)throw Rn("Should only compare child_ events.");const r=new z(e.childName,e.snapshotNode),s=new z(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,e){return{eventCache:t,serverCache:e}}function qn(t,e,n,r){return Es(new Pt(e,n,r),t.serverCache)}function Tu(t,e,n,r){return Es(t.eventCache,new Pt(e,n,r))}function Yr(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xt(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ai;const dg=()=>(ai||(ai=new Le(G1)),ai);class se{constructor(e,n=dg()){this.value=e,this.children=n}static fromObject(e){let n=new se(null);return ye(e,(r,s)=>{n=n.set(new Z(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Y(),value:this.value};if(U(e))return null;{const r=B(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(ne(e),n);return i!=null?{path:le(new Z(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(U(e))return this;{const n=B(e),r=this.children.get(n);return r!==null?r.subtree(ne(e)):new se(null)}}set(e,n){if(U(e))return new se(n,this.children);{const r=B(e),i=(this.children.get(r)||new se(null)).set(ne(e),n),o=this.children.insert(r,i);return new se(this.value,o)}}remove(e){if(U(e))return this.children.isEmpty()?new se(null):new se(null,this.children);{const n=B(e),r=this.children.get(n);if(r){const s=r.remove(ne(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new se(null):new se(this.value,i)}else return this}}get(e){if(U(e))return this.value;{const n=B(e),r=this.children.get(n);return r?r.get(ne(e)):null}}setTree(e,n){if(U(e))return n;{const r=B(e),i=(this.children.get(r)||new se(null)).setTree(ne(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new se(this.value,o)}}fold(e){return this.fold_(Y(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(le(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Y(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(U(e))return null;{const i=B(e),o=this.children.get(i);return o?o.findOnPath_(ne(e),le(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Y(),n)}foreachOnPath_(e,n,r){if(U(e))return this;{this.value&&r(n,this.value);const s=B(e),i=this.children.get(s);return i?i.foreachOnPath_(ne(e),le(n,s),r):new se(null)}}foreach(e){this.foreach_(Y(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(le(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.writeTree_=e}static empty(){return new Qe(new se(null))}}function Vn(t,e,n){if(U(e))return new Qe(new se(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Re(s,e);return i=i.updateChild(o,n),new Qe(t.writeTree_.set(s,i))}else{const s=new se(n),i=t.writeTree_.setTree(e,s);return new Qe(i)}}}function Wi(t,e,n){let r=t;return ye(n,(s,i)=>{r=Vn(r,le(e,s),i)}),r}function gl(t,e){if(U(e))return Qe.empty();{const n=t.writeTree_.setTree(e,new se(null));return new Qe(n)}}function zi(t,e){return on(t,e)!=null}function on(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Re(n.path,e)):null}function vl(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ie,(r,s)=>{e.push(new z(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new z(r,s.value))}),e}function Nt(t,e){if(U(e))return t;{const n=on(t,e);return n!=null?new Qe(new se(n)):new Qe(t.writeTree_.subtree(e))}}function Hi(t){return t.writeTree_.isEmpty()}function bn(t,e){return Ru(Y(),t.writeTree_,e)}function Ru(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(x(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Ru(le(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(le(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){return Pu(e,t)}function hg(t,e,n,r,s){x(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Vn(t.visibleWrites,e,n)),t.lastWriteId=r}function fg(t,e,n,r){x(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Wi(t.visibleWrites,e,n),t.lastWriteId=r}function pg(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function _g(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);x(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&mg(l,r.path)?s=!1:He(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return gg(t),!0;if(r.snap)t.visibleWrites=gl(t.visibleWrites,r.path);else{const l=r.children;ye(l,c=>{t.visibleWrites=gl(t.visibleWrites,le(r.path,c))})}return!0}else return!1}function mg(t,e){if(t.snap)return He(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&He(le(t.path,n),e))return!0;return!1}function gg(t){t.visibleWrites=Iu(t.allWrites,vg,Y()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vg(t){return t.visible}function Iu(t,e,n){let r=Qe.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)He(n,o)?(l=Re(n,o),r=Vn(r,l,i.snap)):He(o,n)&&(l=Re(o,n),r=Vn(r,Y(),i.snap.getChild(l)));else if(i.children){if(He(n,o))l=Re(n,o),r=Wi(r,l,i.children);else if(He(o,n))if(l=Re(o,n),U(l))r=Wi(r,Y(),i.children);else{const c=Gt(i.children,B(l));if(c){const u=c.getChild(ne(l));r=Vn(r,Y(),u)}}}else throw Rn("WriteRecord should have .snap or .children")}}return r}function ju(t,e,n,r,s){if(!r&&!s){const i=on(t.visibleWrites,e);if(i!=null)return i;{const o=Nt(t.visibleWrites,e);if(Hi(o))return n;if(n==null&&!zi(o,Y()))return null;{const l=n||j.EMPTY_NODE;return bn(o,l)}}}else{const i=Nt(t.visibleWrites,e);if(!s&&Hi(i))return n;if(!s&&n==null&&!zi(i,Y()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(He(u.path,e)||He(e,u.path))},l=Iu(t.allWrites,o,e),c=n||j.EMPTY_NODE;return bn(l,c)}}}function yg(t,e,n){let r=j.EMPTY_NODE;const s=on(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ie,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Nt(t.visibleWrites,e);return n.forEachChild(ie,(o,l)=>{const c=bn(Nt(i,new Z(o)),l);r=r.updateImmediateChild(o,c)}),vl(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Nt(t.visibleWrites,e);return vl(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function wg(t,e,n,r,s){x(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=le(e,n);if(zi(t.visibleWrites,i))return null;{const o=Nt(t.visibleWrites,i);return Hi(o)?s.getChild(n):bn(o,s.getChild(n))}}function xg(t,e,n,r){const s=le(e,n),i=on(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Nt(t.visibleWrites,s);return bn(o,r.getNode().getImmediateChild(n))}else return null}function bg(t,e){return on(t.visibleWrites,e)}function Cg(t,e,n,r,s,i,o){let l;const c=Nt(t.visibleWrites,e),u=on(c,Y());if(u!=null)l=u;else if(n!=null)l=bn(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],h=o.getCompare(),f=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let _=f.getNext();for(;_&&d.length<s;)h(_,r)!==0&&d.push(_),_=f.getNext();return d}else return[]}function Sg(){return{visibleWrites:Qe.empty(),allWrites:[],lastWriteId:-1}}function Qr(t,e,n,r){return ju(t.writeTree,t.treePath,e,n,r)}function zo(t,e){return yg(t.writeTree,t.treePath,e)}function yl(t,e,n,r){return wg(t.writeTree,t.treePath,e,n,r)}function Xr(t,e){return bg(t.writeTree,le(t.treePath,e))}function Eg(t,e,n,r,s,i){return Cg(t.writeTree,t.treePath,e,n,r,s,i)}function Ho(t,e,n){return xg(t.writeTree,t.treePath,e,n)}function Ou(t,e){return Pu(le(t.treePath,e),t.writeTree)}function Pu(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;x(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),x(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,rr(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,nr(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,wn(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,rr(r,e.snapshotNode,s.oldSnap));else throw Rn("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Lu=new kg;class qo{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Pt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ho(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xt(this.viewCache_),i=Eg(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){return{filter:t}}function Rg(t,e){x(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),x(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Ig(t,e,n,r,s){const i=new Ng;let o,l;if(n.type===Ye.OVERWRITE){const u=n;u.source.fromUser?o=qi(t,e,u.path,u.snap,r,s,i):(x(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!U(u.path),o=Zr(t,e,u.path,u.snap,r,s,l,i))}else if(n.type===Ye.MERGE){const u=n;u.source.fromUser?o=Og(t,e,u.path,u.children,r,s,i):(x(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Vi(t,e,u.path,u.children,r,s,l,i))}else if(n.type===Ye.ACK_USER_WRITE){const u=n;u.revert?o=Ag(t,e,u.path,r,s,i):o=Pg(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===Ye.LISTEN_COMPLETE)o=Lg(t,e,n.path,r,i);else throw Rn("Unknown operation type: "+n.type);const c=i.getChanges();return jg(e,o,c),{viewCache:o,changes:c}}function jg(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Yr(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(ku(Yr(e)))}}function Au(t,e,n,r,s,i){const o=e.eventCache;if(Xr(r,n)!=null)return e;{let l,c;if(U(n))if(x(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Xt(e),d=u instanceof j?u:j.EMPTY_NODE,h=zo(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const u=Qr(r,Xt(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=B(n);if(u===".priority"){x(Ot(n)===1,"Can't have a priority with additional path components");const d=o.getNode();c=e.serverCache.getNode();const h=yl(r,n,d,c);h!=null?l=t.filter.updatePriority(d,h):l=o.getNode()}else{const d=ne(n);let h;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const f=yl(r,n,o.getNode(),c);f!=null?h=o.getNode().getImmediateChild(u).updateChild(d,f):h=o.getNode().getImmediateChild(u)}else h=Ho(r,u,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),u,h,d,s,i):l=o.getNode()}}return qn(e,l,o.isFullyInitialized()||U(n),t.filter.filtersNodes())}}function Zr(t,e,n,r,s,i,o,l){const c=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(U(n))u=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){const _=c.getNode().updateChild(n,r);u=d.updateFullNode(c.getNode(),_,null)}else{const _=B(n);if(!c.isCompleteForPath(n)&&Ot(n)>1)return e;const g=ne(n),y=c.getNode().getImmediateChild(_).updateChild(g,r);_===".priority"?u=d.updatePriority(c.getNode(),y):u=d.updateChild(c.getNode(),_,y,g,Lu,null)}const h=Tu(e,u,c.isFullyInitialized()||U(n),d.filtersNodes()),f=new qo(s,h,i);return Au(t,h,n,s,f,l)}function qi(t,e,n,r,s,i,o){const l=e.eventCache;let c,u;const d=new qo(s,e,i);if(U(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=qn(e,u,!0,t.filter.filtersNodes());else{const h=B(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=qn(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=ne(n),_=l.getNode().getImmediateChild(h);let g;if(U(f))g=r;else{const v=d.getCompleteChild(h);v!=null?Po(f)===".priority"&&v.getChild(wu(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=j.EMPTY_NODE}if(_.equals(g))c=e;else{const v=t.filter.updateChild(l.getNode(),h,g,f,d,o);c=qn(e,v,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function wl(t,e){return t.eventCache.isCompleteForChild(e)}function Og(t,e,n,r,s,i,o){let l=e;return r.foreach((c,u)=>{const d=le(n,c);wl(e,B(d))&&(l=qi(t,l,d,u,s,i,o))}),r.foreach((c,u)=>{const d=le(n,c);wl(e,B(d))||(l=qi(t,l,d,u,s,i,o))}),l}function xl(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Vi(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;U(n)?u=r:u=new se(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const _=e.serverCache.getNode().getImmediateChild(h),g=xl(t,_,f);c=Zr(t,c,new Z(h),g,s,i,o,l)}}),u.children.inorderTraversal((h,f)=>{const _=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!_){const g=e.serverCache.getNode().getImmediateChild(h),v=xl(t,g,f);c=Zr(t,c,new Z(h),v,s,i,o,l)}}),c}function Pg(t,e,n,r,s,i,o){if(Xr(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(U(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Zr(t,e,n,c.getNode().getChild(n),s,i,l,o);if(U(n)){let u=new se(null);return c.getNode().forEachChild(ot,(d,h)=>{u=u.set(new Z(d),h)}),Vi(t,e,n,u,s,i,l,o)}else return e}else{let u=new se(null);return r.foreach((d,h)=>{const f=le(n,d);c.isCompleteForPath(f)&&(u=u.set(d,c.getNode().getChild(f)))}),Vi(t,e,n,u,s,i,l,o)}}function Lg(t,e,n,r,s){const i=e.serverCache,o=Tu(e,i.getNode(),i.isFullyInitialized()||U(n),i.isFiltered());return Au(t,o,n,r,Lu,s)}function Ag(t,e,n,r,s,i){let o;if(Xr(r,n)!=null)return e;{const l=new qo(r,e,s),c=e.eventCache.getNode();let u;if(U(n)||B(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Qr(r,Xt(e));else{const h=e.serverCache.getNode();x(h instanceof j,"serverChildren would be complete if leaf node"),d=zo(r,h)}d=d,u=t.filter.updateFullNode(c,d,i)}else{const d=B(n);let h=Ho(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=c.getImmediateChild(d)),h!=null?u=t.filter.updateChild(c,d,h,ne(n),l,i):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(c,d,j.EMPTY_NODE,ne(n),l,i):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Qr(r,Xt(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||Xr(r,Y())!=null,qn(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Fo(r.getIndex()),i=Qm(r);this.processor_=Tg(i);const o=n.serverCache,l=n.eventCache,c=s.updateFullNode(j.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(j.EMPTY_NODE,l.getNode(),null),d=new Pt(c,o.isFullyInitialized(),s.filtersNodes()),h=new Pt(u,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=Es(h,d),this.eventGenerator_=new ag(this.query_)}get query(){return this.query_}}function Mg(t){return t.viewCache_.serverCache.getNode()}function $g(t){return Yr(t.viewCache_)}function Fg(t,e){const n=Xt(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!U(e)&&!n.getImmediateChild(B(e)).isEmpty())?n.getChild(e):null}function bl(t){return t.eventRegistrations_.length===0}function Bg(t,e){t.eventRegistrations_.push(e)}function Cl(t,e,n){const r=[];if(n){x(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Sl(t,e,n,r){e.type===Ye.MERGE&&e.source.queryId!==null&&(x(Xt(t.viewCache_),"We should always have a full cache before handling merges"),x(Yr(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=Ig(t.processor_,s,e,n,r);return Rg(t.processor_,i.viewCache),x(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Du(t,i.changes,i.viewCache.eventCache.getNode(),null)}function Ug(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ie,(i,o)=>{r.push(wn(i,o))}),n.isFullyInitialized()&&r.push(ku(n.getNode())),Du(t,r,n.getNode(),e)}function Du(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return lg(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr;class Mu{constructor(){this.views=new Map}}function Wg(t){x(!Jr,"__referenceConstructor has already been defined"),Jr=t}function zg(){return x(Jr,"Reference.ts has not been loaded"),Jr}function Hg(t){return t.views.size===0}function Vo(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return x(i!=null,"SyncTree gave us an op for an invalid query."),Sl(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(Sl(o,e,n,r));return i}}function $u(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=Qr(n,s?r:null),c=!1;l?c=!0:r instanceof j?(l=zo(n,r),c=!1):(l=j.EMPTY_NODE,c=!1);const u=Es(new Pt(l,c,!1),new Pt(r,s,!1));return new Dg(e,u)}return o}function qg(t,e,n,r,s,i){const o=$u(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Bg(o,n),Ug(o,n)}function Vg(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=Lt(t);if(s==="default")for(const[c,u]of t.views.entries())o=o.concat(Cl(u,n,r)),bl(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||i.push(u.query));else{const c=t.views.get(s);c&&(o=o.concat(Cl(c,n,r)),bl(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||i.push(c.query)))}return l&&!Lt(t)&&i.push(new(zg())(e._repo,e._path)),{removed:i,events:o}}function Fu(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function kt(t,e){let n=null;for(const r of t.views.values())n=n||Fg(r,e);return n}function Bu(t,e){if(e._queryParams.loadsAllData())return ks(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Uu(t,e){return Bu(t,e)!=null}function Lt(t){return ks(t)!=null}function ks(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es;function Gg(t){x(!es,"__referenceConstructor has already been defined"),es=t}function Kg(){return x(es,"Reference.ts has not been loaded"),es}let Yg=1;class El{constructor(e){this.listenProvider_=e,this.syncPointTree_=new se(null),this.pendingWriteTree_=Sg(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Go(t,e,n,r,s){return hg(t.pendingWriteTree_,e,n,r,s),s?On(t,new Qt(Bo(),e,n)):[]}function Qg(t,e,n,r){fg(t.pendingWriteTree_,e,n,r);const s=se.fromObject(n);return On(t,new xn(Bo(),e,s))}function Ct(t,e,n=!1){const r=pg(t.pendingWriteTree_,e);if(_g(t.pendingWriteTree_,e)){let i=new se(null);return r.snap!=null?i=i.set(Y(),!0):ye(r.children,o=>{i=i.set(new Z(o),!0)}),On(t,new Kr(r.path,i,n))}else return[]}function gr(t,e,n){return On(t,new Qt(Uo(),e,n))}function Xg(t,e,n){const r=se.fromObject(n);return On(t,new xn(Uo(),e,r))}function Zg(t,e){return On(t,new ir(Uo(),e))}function Jg(t,e,n){const r=Ko(t,n);if(r){const s=Yo(r),i=s.path,o=s.queryId,l=Re(i,e),c=new ir(Wo(o),l);return Qo(t,i,c)}else return[]}function ts(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||Uu(o,e))){const c=Vg(o,e,n,r);Hg(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=c.removed;if(l=c.events,!s){const d=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(i,(f,_)=>Lt(_));if(d&&!h){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const _=n0(f);for(let g=0;g<_.length;++g){const v=_[g],y=v.query,b=qu(t,v);t.listenProvider_.startListening(Gn(y),or(t,y),b.hashFn,b.onComplete)}}}!h&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(Gn(e),null):u.forEach(f=>{const _=t.queryToTagMap.get(Rs(f));t.listenProvider_.stopListening(Gn(f),_)}))}r0(t,u)}return l}function Wu(t,e,n,r){const s=Ko(t,r);if(s!=null){const i=Yo(s),o=i.path,l=i.queryId,c=Re(o,e),u=new Qt(Wo(l),c,n);return Qo(t,o,u)}else return[]}function e0(t,e,n,r){const s=Ko(t,r);if(s){const i=Yo(s),o=i.path,l=i.queryId,c=Re(o,e),u=se.fromObject(n),d=new xn(Wo(l),c,u);return Qo(t,o,d)}else return[]}function Gi(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,_)=>{const g=Re(f,s);i=i||kt(_,g),o=o||Lt(_)});let l=t.syncPointTree_.get(s);l?(o=o||Lt(l),i=i||kt(l,Y())):(l=new Mu,t.syncPointTree_=t.syncPointTree_.set(s,l));let c;i!=null?c=!0:(c=!1,i=j.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((_,g)=>{const v=kt(g,Y());v&&(i=i.updateImmediateChild(_,v))}));const u=Uu(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=Rs(e);x(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const _=s0();t.queryToTagMap.set(f,_),t.tagToQueryMap.set(_,f)}const d=Ns(t.pendingWriteTree_,s);let h=qg(l,e,n,d,i,c);if(!u&&!o&&!r){const f=Bu(l,e);h=h.concat(i0(t,e,f))}return h}function Ts(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=Re(o,e),u=kt(l,c);if(u)return u});return ju(s,e,i,n,!0)}function t0(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,d)=>{const h=Re(u,n);r=r||kt(d,h)});let s=t.syncPointTree_.get(n);s?r=r||kt(s,Y()):(s=new Mu,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new Pt(r,!0,!1):null,l=Ns(t.pendingWriteTree_,e._path),c=$u(s,e,l,i?o.getNode():j.EMPTY_NODE,i);return $g(c)}function On(t,e){return zu(e,t.syncPointTree_,null,Ns(t.pendingWriteTree_,Y()))}function zu(t,e,n,r){if(U(t.path))return Hu(t,e,n,r);{const s=e.get(Y());n==null&&s!=null&&(n=kt(s,Y()));let i=[];const o=B(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const u=n?n.getImmediateChild(o):null,d=Ou(r,o);i=i.concat(zu(l,c,u,d))}return s&&(i=i.concat(Vo(s,t,r,n))),i}}function Hu(t,e,n,r){const s=e.get(Y());n==null&&s!=null&&(n=kt(s,Y()));let i=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,u=Ou(r,o),d=t.operationForChild(o);d&&(i=i.concat(Hu(d,l,c,u)))}),s&&(i=i.concat(Vo(s,t,r,n))),i}function qu(t,e){const n=e.query,r=or(t,n);return{hashFn:()=>(Mg(e)||j.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Jg(t,n._path,r):Zg(t,n._path);{const i=Q1(s,n);return ts(t,n,null,i)}}}}function or(t,e){const n=Rs(e);return t.queryToTagMap.get(n)}function Rs(t){return t._path.toString()+"$"+t._queryIdentifier}function Ko(t,e){return t.tagToQueryMap.get(e)}function Yo(t){const e=t.indexOf("$");return x(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}}function Qo(t,e,n){const r=t.syncPointTree_.get(e);x(r,"Missing sync point for query tag that we're tracking");const s=Ns(t.pendingWriteTree_,e);return Vo(r,n,s,null)}function n0(t){return t.fold((e,n,r)=>{if(n&&Lt(n))return[ks(n)];{let s=[];return n&&(s=Fu(n)),ye(r,(i,o)=>{s=s.concat(o)}),s}})}function Gn(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Kg())(t._repo,t._path):t}function r0(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Rs(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function s0(){return Yg++}function i0(t,e,n){const r=e._path,s=or(t,e),i=qu(t,n),o=t.listenProvider_.startListening(Gn(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)x(!Lt(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,d,h)=>{if(!U(u)&&d&&Lt(d))return[ks(d).query];{let f=[];return d&&(f=f.concat(Fu(d).map(_=>_.query))),ye(h,(_,g)=>{f=f.concat(g)}),f}});for(let u=0;u<c.length;++u){const d=c[u];t.listenProvider_.stopListening(Gn(d),or(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Xo(n)}node(){return this.node_}}class Zo{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=le(this.path_,e);return new Zo(this.syncTree_,n)}node(){return Ts(this.syncTree_,this.path_)}}const o0=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Nl=function(t,e,n){if(!t||typeof t!="object")return t;if(x(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return a0(t[".sv"],e,n);if(typeof t[".sv"]=="object")return l0(t[".sv"],e);x(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},a0=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:x(!1,"Unexpected server value: "+t)}},l0=function(t,e,n){t.hasOwnProperty("increment")||x(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&x(!1,"Unexpected increment value: "+r);const s=e.node();if(x(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Vu=function(t,e,n,r){return ea(e,new Zo(n,t),r)},Jo=function(t,e,n){return ea(t,new Xo(e),n)};function ea(t,e,n){const r=t.getPriority().val(),s=Nl(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=Nl(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new _e(l,ue(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new _e(s))),o.forEachChild(ie,(l,c)=>{const u=ea(c,e.getImmediateChild(l),n);u!==c&&(i=i.updateImmediateChild(l,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Is(t,e){let n=e instanceof Z?e:new Z(e),r=t,s=B(n);for(;s!==null;){const i=Gt(r.node.children,s)||{children:{},childCount:0};r=new ta(s,r,i),n=ne(n),s=B(n)}return r}function an(t){return t.node.value}function na(t,e){t.node.value=e,Ki(t)}function Gu(t){return t.node.childCount>0}function c0(t){return an(t)===void 0&&!Gu(t)}function js(t,e){ye(t.node.children,(n,r)=>{e(new ta(n,t,r))})}function Ku(t,e,n,r){n&&!r&&e(t),js(t,s=>{Ku(s,e,!0,r)}),n&&r&&e(t)}function u0(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vr(t){return new Z(t.parent===null?t.name:vr(t.parent)+"/"+t.name)}function Ki(t){t.parent!==null&&d0(t.parent,t.name,t)}function d0(t,e,n){const r=c0(n),s=Be(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Ki(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Ki(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=/[\[\].#$\/\u0000-\u001F\u007F]/,f0=/[\[\].#$\u0000-\u001F\u007F]/,li=10*1024*1024,Os=function(t){return typeof t=="string"&&t.length!==0&&!h0.test(t)},Yu=function(t){return typeof t=="string"&&t.length!==0&&!f0.test(t)},p0=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Yu(t)},ar=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!xs(t)||t&&typeof t=="object"&&Be(t,".sv")},ct=function(t,e,n,r){r&&e===void 0||yr(Ae(t,"value"),e,n)},yr=function(t,e,n){const r=n instanceof Z?new Im(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ut(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ut(r)+" with contents = "+e.toString());if(xs(e))throw new Error(t+"contains "+e.toString()+" "+Ut(r));if(typeof e=="string"&&e.length>li/3&&gs(e)>li)throw new Error(t+"contains a string greater than "+li+" utf8 bytes "+Ut(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(ye(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Os(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ut(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);jm(r,o),yr(t,l,r),Om(r)}),s&&i)throw new Error(t+' contains ".value" child '+Ut(r)+" in addition to actual children.")}},_0=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=tr(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Os(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Rm);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&He(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},Qu=function(t,e,n,r){if(r&&e===void 0)return;const s=Ae(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];ye(e,(o,l)=>{const c=new Z(o);if(yr(s,l,le(n,c)),Po(c)===".priority"&&!ar(l))throw new Error(s+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(c)}),_0(s,i)},ra=function(t,e,n){if(!(n&&e===void 0)){if(xs(e))throw new Error(Ae(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ar(e))throw new Error(Ae(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wr=function(t,e,n,r){if(!(r&&n===void 0)&&!Os(n))throw new Error(Ae(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},lr=function(t,e,n,r){if(!(r&&n===void 0)&&!Yu(n))throw new Error(Ae(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},m0=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lr(t,e,n,r)},qe=function(t,e){if(B(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Xu=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Os(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!p0(n))throw new Error(Ae(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ps(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Lo(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Zu(t,e,n){Ps(t,n),Ju(t,r=>Lo(r,e))}function Ue(t,e,n){Ps(t,n),Ju(t,r=>He(r,e)||He(e,r))}function Ju(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(v0(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function v0(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ht&&ve("event: "+n.toString()),In(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="repo_interrupt",y0=25;class w0{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gr(),this.transactionQueueTree_=new ta,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function x0(t,e,n){if(t.stats_=jo(t.repoInfo_),t.forceRestClient_||em())t.server_=new Vr(t.repoInfo_,(r,s,i,o)=>{kl(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Tl(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new pt(t.repoInfo_,e,(r,s,i,o)=>{kl(t,r,s,i,o)},r=>{Tl(t,r)},r=>{b0(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=im(t.repoInfo_,()=>new og(t.stats_,t.server_)),t.infoData_=new tg,t.infoSyncTree_=new El({startListening:(r,s,i,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=gr(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),sa(t,"connected",!1),t.serverSyncTree_=new El({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,c)=>{const u=o(l,c);Ue(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function td(t){const n=t.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xr(t){return o0({timestamp:td(t)})}function kl(t,e,n,r,s){t.dataUpdateCount++;const i=new Z(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const c=Ur(n,u=>ue(u));o=e0(t.serverSyncTree_,i,c,s)}else{const c=ue(n);o=Wu(t.serverSyncTree_,i,c,s)}else if(r){const c=Ur(n,u=>ue(u));o=Xg(t.serverSyncTree_,i,c)}else{const c=ue(n);o=gr(t.serverSyncTree_,i,c)}let l=i;o.length>0&&(l=Cn(t,i)),Ue(t.eventQueue_,l,o)}function Tl(t,e){sa(t,"connected",e),e===!1&&E0(t)}function b0(t,e){ye(e,(n,r)=>{sa(t,n,r)})}function sa(t,e,n){const r=new Z("/.info/"+e),s=ue(n);t.infoData_.updateSnapshot(r,s);const i=gr(t.infoSyncTree_,r,s);Ue(t.eventQueue_,r,i)}function Ls(t){return t.nextWriteId_++}function C0(t,e,n){const r=t0(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=ue(s).withIndex(e._queryParams.getIndex());Gi(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=gr(t.serverSyncTree_,e._path,i);else{const l=or(t.serverSyncTree_,e);o=Wu(t.serverSyncTree_,e._path,i,l)}return Ue(t.eventQueue_,e._path,o),ts(t.serverSyncTree_,e,n,null,!0),i},s=>(Pn(t,"get for query "+pe(e)+" failed: "+s),Promise.reject(new Error(s))))}function ia(t,e,n,r,s){Pn(t,"set",{path:e.toString(),value:n,priority:r});const i=xr(t),o=ue(n,r),l=Ts(t.serverSyncTree_,e),c=Jo(o,l,i),u=Ls(t),d=Go(t.serverSyncTree_,e,c,u,!0);Ps(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(f,_)=>{const g=f==="ok";g||Ne("set at "+e+" failed: "+f);const v=Ct(t.serverSyncTree_,u,!g);Ue(t.eventQueue_,e,v),At(t,s,f,_)});const h=aa(t,e);Cn(t,h),Ue(t.eventQueue_,h,[])}function S0(t,e,n,r){Pn(t,"update",{path:e.toString(),value:n});let s=!0;const i=xr(t),o={};if(ye(n,(l,c)=>{s=!1,o[l]=Vu(le(e,l),ue(c),t.serverSyncTree_,i)}),s)ve("update() called with empty data.  Don't do anything."),At(t,r,"ok",void 0);else{const l=Ls(t),c=Qg(t.serverSyncTree_,e,o,l);Ps(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,d)=>{const h=u==="ok";h||Ne("update at "+e+" failed: "+u);const f=Ct(t.serverSyncTree_,l,!h),_=f.length>0?Cn(t,e):e;Ue(t.eventQueue_,_,f),At(t,r,u,d)}),ye(n,u=>{const d=aa(t,le(e,u));Cn(t,d)}),Ue(t.eventQueue_,e,[])}}function E0(t){Pn(t,"onDisconnectEvents");const e=xr(t),n=Gr();Ui(t.onDisconnect_,Y(),(s,i)=>{const o=Vu(s,i,t.serverSyncTree_,e);jn(n,s,o)});let r=[];Ui(n,Y(),(s,i)=>{r=r.concat(gr(t.serverSyncTree_,s,i));const o=aa(t,s);Cn(t,o)}),t.onDisconnect_=Gr(),Ue(t.eventQueue_,Y(),r)}function N0(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,s)=>{r==="ok"&&Bi(t.onDisconnect_,e),At(t,n,r,s)})}function Rl(t,e,n,r){const s=ue(n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(i,o)=>{i==="ok"&&jn(t.onDisconnect_,e,s),At(t,r,i,o)})}function k0(t,e,n,r,s){const i=ue(n,r);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,l)=>{o==="ok"&&jn(t.onDisconnect_,e,i),At(t,s,o,l)})}function T0(t,e,n,r){if(Ti(n)){ve("onDisconnect().update() called with empty data.  Don't do anything."),At(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(s,i)=>{s==="ok"&&ye(n,(o,l)=>{const c=ue(l);jn(t.onDisconnect_,le(e,o),c)}),At(t,r,s,i)})}function R0(t,e,n){let r;B(e._path)===".info"?r=Gi(t.infoSyncTree_,e,n):r=Gi(t.serverSyncTree_,e,n),Zu(t.eventQueue_,e._path,r)}function Yi(t,e,n){let r;B(e._path)===".info"?r=ts(t.infoSyncTree_,e,n):r=ts(t.serverSyncTree_,e,n),Zu(t.eventQueue_,e._path,r)}function nd(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ed)}function I0(t){t.persistentConnection_&&t.persistentConnection_.resume(ed)}function Pn(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ve(n,...e)}function At(t,e,n,r){e&&In(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function j0(t,e,n,r,s,i){Pn(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:Xc(),applyLocally:i,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=oa(t,e,void 0);o.currentInputSnapshot=l;const c=o.update(l.val());if(c===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{yr("transaction failed: Data returned ",c,o.path),o.status=0;const u=Is(t.transactionQueueTree_,e),d=an(u)||[];d.push(o),na(u,d);let h;typeof c=="object"&&c!==null&&Be(c,".priority")?(h=Gt(c,".priority"),x(ar(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Ts(t.serverSyncTree_,e)||j.EMPTY_NODE).getPriority().val();const f=xr(t),_=ue(c,h),g=Jo(_,l,f);o.currentOutputSnapshotRaw=_,o.currentOutputSnapshotResolved=g,o.currentWriteId=Ls(t);const v=Go(t.serverSyncTree_,e,g,o.currentWriteId,o.applyLocally);Ue(t.eventQueue_,e,v),As(t,t.transactionQueueTree_)}}function oa(t,e,n){return Ts(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function As(t,e=t.transactionQueueTree_){if(e||Ds(t,e),an(e)){const n=sd(t,e);x(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&O0(t,vr(e),n)}else Gu(e)&&js(e,n=>{As(t,n)})}function O0(t,e,n){const r=n.map(u=>u.currentWriteId),s=oa(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const d=n[u];x(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Re(e,d.path);i=i.updateChild(h,d.currentOutputSnapshotRaw)}const l=i.val(!0),c=e;t.server_.put(c.toString(),l,u=>{Pn(t,"transaction put response",{path:c.toString(),status:u});let d=[];if(u==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(Ct(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ds(t,Is(t.transactionQueueTree_,e)),As(t,t.transactionQueueTree_),Ue(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)In(h[f])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ne("transaction at "+c.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}Cn(t,e)}},o)}function Cn(t,e){const n=rd(t,e),r=vr(n),s=sd(t,n);return P0(t,s,r),r}function P0(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=Re(n,c.path);let d=!1,h;if(x(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,h=c.abortReason,s=s.concat(Ct(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=y0)d=!0,h="maxretry",s=s.concat(Ct(t.serverSyncTree_,c.currentWriteId,!0));else{const f=oa(t,c.path,o);c.currentInputSnapshot=f;const _=e[l].update(f.val());if(_!==void 0){yr("transaction failed: Data returned ",_,c.path);let g=ue(_);typeof _=="object"&&_!=null&&Be(_,".priority")||(g=g.updatePriority(f.getPriority()));const y=c.currentWriteId,b=xr(t),w=Jo(g,f,b);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=w,c.currentWriteId=Ls(t),o.splice(o.indexOf(y),1),s=s.concat(Go(t.serverSyncTree_,c.path,w,c.currentWriteId,c.applyLocally)),s=s.concat(Ct(t.serverSyncTree_,y,!0))}else d=!0,h="nodata",s=s.concat(Ct(t.serverSyncTree_,c.currentWriteId,!0))}Ue(t.eventQueue_,n,s),s=[],d&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(h),!1,null))))}Ds(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)In(r[l]);As(t,t.transactionQueueTree_)}function rd(t,e){let n,r=t.transactionQueueTree_;for(n=B(e);n!==null&&an(r)===void 0;)r=Is(r,n),e=ne(e),n=B(e);return r}function sd(t,e){const n=[];return id(t,e,n),n.sort((r,s)=>r.order-s.order),n}function id(t,e,n){const r=an(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);js(e,s=>{id(t,s,n)})}function Ds(t,e){const n=an(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,na(e,n.length>0?n:void 0)}js(e,r=>{Ds(t,r)})}function aa(t,e){const n=vr(rd(t,e)),r=Is(t.transactionQueueTree_,e);return u0(r,s=>{ci(t,s)}),ci(t,r),Ku(r,s=>{ci(t,s)}),n}function ci(t,e){const n=an(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(x(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(x(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Ct(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?na(e,void 0):n.length=i+1,Ue(t.eventQueue_,vr(e),s);for(let o=0;o<r.length;o++)In(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function A0(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ne(`Invalid query segment '${n}' in query '${t}'`)}return e}const Qi=function(t,e){const n=D0(t),r=n.namespace;n.domain==="firebase.com"&&lt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&lt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||q1();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new du(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Z(n.pathString)}},D0=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(s=L0(t.substring(d,h)));const f=A0(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const _=e.slice(0,u);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",M0=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Il.charAt(n%64),n=Math.floor(n/64);x(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Il.charAt(e[s]);return x(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+pe(this.snapshot.exportVal())}}class ad{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return x(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $0=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Oe;return N0(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){qe("OnDisconnect.remove",this._path);const e=new Oe;return Rl(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){qe("OnDisconnect.set",this._path),ct("OnDisconnect.set",e,this._path,!1);const n=new Oe;return Rl(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){qe("OnDisconnect.setWithPriority",this._path),ct("OnDisconnect.setWithPriority",e,this._path,!1),ra("OnDisconnect.setWithPriority",n,!1);const r=new Oe;return k0(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){qe("OnDisconnect.update",this._path),Qu("OnDisconnect.update",e,this._path,!1);const n=new Oe;return T0(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return U(this._path)?null:Po(this._path)}get ref(){return new Ve(this._repo,this._path)}get _queryIdentifier(){const e=_l(this._queryParams),n=Ro(e);return n==="{}"?"default":n}get _queryObject(){return _l(this._queryParams)}isEqual(e){if(e=we(e),!(e instanceof Me))return!1;const n=this._repo===e._repo,r=Lo(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Tm(this._path)}}function Ms(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Dt(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ot){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==jt)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==_t)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===ie){if(e!=null&&!ar(e)||n!=null&&!ar(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(x(t.getIndex()instanceof Mo||t.getIndex()===$o,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function $s(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ve extends Me{constructor(e,n){super(e,n,new Cs,!1)}get parent(){const e=wu(this._path);return e===null?null:new Ve(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let Fs=class Xi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Z(e),r=Zt(this.ref,e);return new Xi(this._node.getChild(n),r,ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Xi(s,Zt(this.ref,r),ie)))}hasChild(e){const n=new Z(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function ld(t,e){return t=we(t),t._checkNotDeleted("ref"),e!==void 0?Zt(t._root,e):t._root}function jl(t,e){t=we(t),t._checkNotDeleted("refFromURL");const n=Qi(e,t._repo.repoInfo_.nodeAdmin);Xu("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&lt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),ld(t,n.path.toString())}function Zt(t,e){return t=we(t),B(t._path)===null?m0("child","path",e,!1):lr("child","path",e,!1),new Ve(t._repo,le(t._path,e))}function F0(t,e){t=we(t),qe("push",t._path),ct("push",e,t._path,!0);const n=td(t._repo),r=M0(n),s=Zt(t,r),i=Zt(t,r);let o;return e!=null?o=ca(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function B0(t){return qe("remove",t._path),ca(t,null)}function ca(t,e){t=we(t),qe("set",t._path),ct("set",e,t._path,!1);const n=new Oe;return ia(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function U0(t,e){t=we(t),qe("setPriority",t._path),ra("setPriority",e,!1);const n=new Oe;return ia(t._repo,le(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function W0(t,e,n){if(qe("setWithPriority",t._path),ct("setWithPriority",e,t._path,!1),ra("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Oe;return ia(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function z0(t,e){Qu("update",e,t._path,!1);const n=new Oe;return S0(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function H0(t){t=we(t);const e=new la(()=>{}),n=new br(e);return C0(t._repo,t,n).then(r=>new Fs(r,new Ve(t._repo,t._path),t._queryParams.getIndex()))}class br{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new od("value",this,new Fs(e.snapshotNode,new Ve(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ad(this,e,n):null}matches(e){return e instanceof br?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Bs{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ad(this,e,n):null}createEvent(e,n){x(e.childName!=null,"Child events should have a childName.");const r=Zt(new Ve(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new od(e.type,this,new Fs(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Bs?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Cr(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const c=n,u=(d,h)=>{Yi(t._repo,t,l),c(d,h)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new la(n,i||void 0),l=e==="value"?new br(o):new Bs(e,o);return R0(t._repo,t,l),()=>Yi(t._repo,t,l)}function Zi(t,e,n,r){return Cr(t,"value",e,n,r)}function Ol(t,e,n,r){return Cr(t,"child_added",e,n,r)}function Pl(t,e,n,r){return Cr(t,"child_changed",e,n,r)}function Ll(t,e,n,r){return Cr(t,"child_moved",e,n,r)}function Al(t,e,n,r){return Cr(t,"child_removed",e,n,r)}function Dl(t,e,n){let r=null;const s=n?new la(n):null;e==="value"?r=new br(s):e&&(r=new Bs(e,s)),Yi(t._repo,t,r)}class Ze{}class cd extends Ze{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ct("endAt",this._value,e._path,!0);const n=Fi(e._queryParams,this._value,this._key);if($s(n),Dt(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Me(e._repo,e._path,n,e._orderByCalled)}}function q0(t,e){return wr("endAt","key",e,!0),new cd(t,e)}class V0 extends Ze{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ct("endBefore",this._value,e._path,!1);const n=eg(e._queryParams,this._value,this._key);if($s(n),Dt(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Me(e._repo,e._path,n,e._orderByCalled)}}function G0(t,e){return wr("endBefore","key",e,!0),new V0(t,e)}class ud extends Ze{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ct("startAt",this._value,e._path,!0);const n=$i(e._queryParams,this._value,this._key);if($s(n),Dt(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Me(e._repo,e._path,n,e._orderByCalled)}}function K0(t=null,e){return wr("startAt","key",e,!0),new ud(t,e)}class Y0 extends Ze{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){ct("startAfter",this._value,e._path,!1);const n=Jm(e._queryParams,this._value,this._key);if($s(n),Dt(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Me(e._repo,e._path,n,e._orderByCalled)}}function Q0(t,e){return wr("startAfter","key",e,!0),new Y0(t,e)}class X0 extends Ze{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Me(e._repo,e._path,Xm(e._queryParams,this._limit),e._orderByCalled)}}function Z0(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new X0(t)}class J0 extends Ze{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Me(e._repo,e._path,Zm(e._queryParams,this._limit),e._orderByCalled)}}function e2(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new J0(t)}class t2 extends Ze{constructor(e){super(),this._path=e}_apply(e){Ms(e,"orderByChild");const n=new Z(this._path);if(U(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Mo(n),s=Ss(e._queryParams,r);return Dt(s),new Me(e._repo,e._path,s,!0)}}function n2(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return lr("orderByChild","path",t,!1),new t2(t)}class r2 extends Ze{_apply(e){Ms(e,"orderByKey");const n=Ss(e._queryParams,ot);return Dt(n),new Me(e._repo,e._path,n,!0)}}function s2(){return new r2}class i2 extends Ze{_apply(e){Ms(e,"orderByPriority");const n=Ss(e._queryParams,ie);return Dt(n),new Me(e._repo,e._path,n,!0)}}function o2(){return new i2}class a2 extends Ze{_apply(e){Ms(e,"orderByValue");const n=Ss(e._queryParams,$o);return Dt(n),new Me(e._repo,e._path,n,!0)}}function l2(){return new a2}class c2 extends Ze{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(ct("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new cd(this._value,this._key)._apply(new ud(this._value,this._key)._apply(e))}}function u2(t,e){return wr("equalTo","key",e,!0),new c2(t,e)}function Ge(t,...e){let n=we(t);for(const r of e)n=r._apply(n);return n}Wg(Ve);Gg(Ve);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="FIREBASE_DATABASE_EMULATOR_HOST",Ji={};let h2=!1;function f2(t,e,n,r){t.repoInfo_=new du(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function dd(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||lt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ve("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Qi(i,s),l=o.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[d2]),u?(c=!0,i=`http://${u}?ns=${l.namespace}`,o=Qi(i,s),l=o.repoInfo):c=!o.repoInfo.secure;const d=s&&c?new gn(gn.OWNER):new nm(t.name,t.options,e);Xu("Invalid Firebase Database URL",o),U(o.path)||lt("Database URL must point to the root of a Firebase Database (not including a child path).");const h=_2(l,t,d,new tm(t.name,n));return new m2(h,t)}function p2(t,e){const n=Ji[e];(!n||n[t.key]!==t)&&lt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),nd(t),delete n[t.key]}function _2(t,e,n,r){let s=Ji[e.name];s||(s={},Ji[e.name]=s);let i=s[t.toURLString()];return i&&lt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new w0(t,h2,n,r),s[t.toURLString()]=i,i}let m2=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(x0(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ve(this._repo,Y())),this._rootInternal}_delete(){return this._rootInternal!==null&&(p2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&lt("Cannot call "+e+" on a deleted database.")}};function hd(){yn.IS_TRANSPORT_INITIALIZED&&Ne("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function g2(){hd(),bt.forceDisallow()}function v2(){hd(),ze.forceDisallow(),bt.forceAllow()}function y2(t,e,n,r={}){t=we(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&lt("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&lt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new gn(gn.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Oc(r.mockUserToken,t.app.options.projectId);i=new gn(o)}f2(s,e,n,i)}function w2(t){t=we(t),t._checkNotDeleted("goOffline"),nd(t._repo)}function x2(t){t=we(t),t._checkNotDeleted("goOnline"),I0(t._repo)}function b2(t,e){Jc(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){Yc(ys),Yt(new at("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return dd(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),it(Za,Ja,t),it(Za,Ja,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={".sv":"timestamp"};function E2(){return S2}function N2(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k2=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function T2(t,e,n){var r;if(t=we(t),qe("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,i=new Oe,o=(c,u,d)=>{let h=null;c?i.reject(c):(h=new Fs(d,new Ve(t._repo,t._path),ie),i.resolve(new k2(u,h)))},l=Zi(t,()=>{});return j0(t._repo,t._path,e,o,l,s),i.promise}pt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};pt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};C2();const R2="@firebase/database-compat",I2="1.0.1";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new vs("@firebase/database-compat"),fd=function(t){const e="FIREBASE WARNING: "+t;j2.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Ae(t,e)+"must be a boolean.")},P2=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ae(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this._delegate=e}cancel(e){O("OnDisconnect.cancel",0,1,arguments.length),me("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){O("OnDisconnect.remove",0,1,arguments.length),me("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){O("OnDisconnect.set",1,2,arguments.length),me("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),s=>n(s)),r}setWithPriority(e,n,r){O("OnDisconnect.setWithPriority",2,3,arguments.length),me("OnDisconnect.setWithPriority","onComplete",r,!0);const s=this._delegate.setWithPriority(e,n);return r&&s.then(()=>r(null),i=>r(i)),s}update(e,n){if(O("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,fd("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}me("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),s=>n(s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return O("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this._database=e,this._delegate=n}val(){return O("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return O("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return O("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return O("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return O("DataSnapshot.child",0,1,arguments.length),e=String(e),lr("DataSnapshot.child","path",e,!1),new Tt(this._database,this._delegate.child(e))}hasChild(e){return O("DataSnapshot.hasChild",1,1,arguments.length),lr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return O("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return O("DataSnapshot.forEach",1,1,arguments.length),me("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Tt(this._database,n)))}hasChildren(){return O("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return O("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return O("DataSnapshot.ref",0,0,arguments.length),new zt(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ce{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,s){var i;O("Query.on",2,4,arguments.length),me("Query.on","callback",n,!1);const o=Ce.getCancelAndContextArgs_("Query.on",r,s),l=(u,d)=>{n.call(o.context,new Tt(this.database,u),d)};l.userCallback=n,l.context=o.context;const c=(i=o.cancel)===null||i===void 0?void 0:i.bind(o.context);switch(e){case"value":return Zi(this._delegate,l,c),n;case"child_added":return Ol(this._delegate,l,c),n;case"child_removed":return Al(this._delegate,l,c),n;case"child_changed":return Pl(this._delegate,l,c),n;case"child_moved":return Ll(this._delegate,l,c),n;default:throw new Error(Ae("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(O("Query.off",0,3,arguments.length),P2("Query.off",e,!0),me("Query.off","callback",n,!0),Wa("Query.off","context",r,!0),n){const s=()=>{};s.userCallback=n,s.context=r,Dl(this._delegate,e,s)}else Dl(this._delegate,e)}get(){return H0(this._delegate).then(e=>new Tt(this.database,e))}once(e,n,r,s){O("Query.once",1,4,arguments.length),me("Query.once","callback",n,!0);const i=Ce.getCancelAndContextArgs_("Query.once",r,s),o=new Oe,l=(u,d)=>{const h=new Tt(this.database,u);n&&n.call(i.context,h,d),o.resolve(h)};l.userCallback=n,l.context=i.context;const c=u=>{i.cancel&&i.cancel.call(i.context,u),o.reject(u)};switch(e){case"value":Zi(this._delegate,l,c,{onlyOnce:!0});break;case"child_added":Ol(this._delegate,l,c,{onlyOnce:!0});break;case"child_removed":Al(this._delegate,l,c,{onlyOnce:!0});break;case"child_changed":Pl(this._delegate,l,c,{onlyOnce:!0});break;case"child_moved":Ll(this._delegate,l,c,{onlyOnce:!0});break;default:throw new Error(Ae("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return O("Query.limitToFirst",1,1,arguments.length),new Ce(this.database,Ge(this._delegate,Z0(e)))}limitToLast(e){return O("Query.limitToLast",1,1,arguments.length),new Ce(this.database,Ge(this._delegate,e2(e)))}orderByChild(e){return O("Query.orderByChild",1,1,arguments.length),new Ce(this.database,Ge(this._delegate,n2(e)))}orderByKey(){return O("Query.orderByKey",0,0,arguments.length),new Ce(this.database,Ge(this._delegate,s2()))}orderByPriority(){return O("Query.orderByPriority",0,0,arguments.length),new Ce(this.database,Ge(this._delegate,o2()))}orderByValue(){return O("Query.orderByValue",0,0,arguments.length),new Ce(this.database,Ge(this._delegate,l2()))}startAt(e=null,n){return O("Query.startAt",0,2,arguments.length),new Ce(this.database,Ge(this._delegate,K0(e,n)))}startAfter(e=null,n){return O("Query.startAfter",0,2,arguments.length),new Ce(this.database,Ge(this._delegate,Q0(e,n)))}endAt(e=null,n){return O("Query.endAt",0,2,arguments.length),new Ce(this.database,Ge(this._delegate,q0(e,n)))}endBefore(e=null,n){return O("Query.endBefore",0,2,arguments.length),new Ce(this.database,Ge(this._delegate,G0(e,n)))}equalTo(e,n){return O("Query.equalTo",1,2,arguments.length),new Ce(this.database,Ge(this._delegate,u2(e,n)))}toString(){return O("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return O("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(O("Query.isEqual",1,1,arguments.length),!(e instanceof Ce)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const s={cancel:void 0,context:void 0};if(n&&r)s.cancel=n,me(e,"cancel",s.cancel,!0),s.context=r,Wa(e,"context",s.context,!0);else if(n)if(typeof n=="object"&&n!==null)s.context=n;else if(typeof n=="function")s.cancel=n;else throw new Error(Ae(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return s}get ref(){return new zt(this.database,new Ve(this._delegate._repo,this._delegate._path))}}let zt=class _n extends Ce{constructor(e,n){super(e,new Me(n._repo,n._path,new Cs,!1)),this.database=e,this._delegate=n}getKey(){return O("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return O("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new _n(this.database,Zt(this._delegate,e))}getParent(){O("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new _n(this.database,e):null}getRoot(){return O("Reference.root",0,0,arguments.length),new _n(this.database,this._delegate.root)}set(e,n){O("Reference.set",1,2,arguments.length),me("Reference.set","onComplete",n,!0);const r=ca(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}update(e,n){if(O("Reference.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,fd("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}qe("Reference.update",this._delegate._path),me("Reference.update","onComplete",n,!0);const r=z0(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}setWithPriority(e,n,r){O("Reference.setWithPriority",2,3,arguments.length),me("Reference.setWithPriority","onComplete",r,!0);const s=W0(this._delegate,e,n);return r&&s.then(()=>r(null),i=>r(i)),s}remove(e){O("Reference.remove",0,1,arguments.length),me("Reference.remove","onComplete",e,!0);const n=B0(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){O("Reference.transaction",1,3,arguments.length),me("Reference.transaction","transactionUpdate",e,!1),me("Reference.transaction","onComplete",n,!0),O2("Reference.transaction","applyLocally",r,!0);const s=T2(this._delegate,e,{applyLocally:r}).then(i=>new A2(i.committed,new Tt(this.database,i.snapshot)));return n&&s.then(i=>n(null,i.committed,i.snapshot),i=>n(i,!1,null)),s}setPriority(e,n){O("Reference.setPriority",1,2,arguments.length),me("Reference.setPriority","onComplete",n,!0);const r=U0(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}push(e,n){O("Reference.push",0,2,arguments.length),me("Reference.push","onComplete",n,!0);const r=F0(this._delegate,e),s=r.then(o=>new _n(this.database,o));n&&s.then(()=>n(null),o=>n(o));const i=new _n(this.database,r);return i.then=s.then.bind(s),i.catch=s.catch.bind(s,void 0),i}onDisconnect(){return qe("Reference.onDisconnect",this._delegate._path),new L2(new $0(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:g2,forceLongPolling:v2}}useEmulator(e,n,r={}){y2(this._delegate,e,n,r)}ref(e){if(O("database.ref",0,1,arguments.length),e instanceof zt){const n=jl(this._delegate,e.toString());return new zt(this,n)}else{const n=ld(this._delegate,e);return new zt(this,n)}}refFromURL(e){O("database.refFromURL",1,1,arguments.length);const r=jl(this._delegate,e);return new zt(this,r)}goOffline(){return O("database.goOffline",0,0,arguments.length),w2(this._delegate)}goOnline(){return O("database.goOnline",0,0,arguments.length),x2(this._delegate)}}cr.ServerValue={TIMESTAMP:E2(),increment:t=>N2(t)};function D2({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:s,namespace:i,nodeAdmin:o=!1}){Yc(n);const l=new Dc("database-standalone"),c=new Ii("auth-internal",l);c.setComponent(new at("auth-internal",()=>r,"PRIVATE"));let u;return s&&(u=new Ii("app-check-internal",l),u.setComponent(new at("app-check-internal",()=>s,"PRIVATE"))),{instance:new cr(dd(t,c,u,e,o),t),namespace:i}}var M2=Object.freeze({__proto__:null,initStandalone:D2});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=cr.ServerValue;function F2(t){t.INTERNAL.registerComponent(new at("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),s=e.getProvider("database").getImmediate({identifier:n});return new cr(s,r)},"PUBLIC").setServiceProps({Reference:zt,Query:Ce,Database:cr,DataSnapshot:Tt,enableLogging:b2,INTERNAL:M2,ServerValue:$2}).setMultipleInstances(!0)),t.registerVersion(R2,I2)}F2(ws);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="firebasestorage.googleapis.com",_d="storageBucket",B2=2*60*1e3,U2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he extends rn{constructor(e,n,r=0){super(ui(e),`Firebase Storage: ${n} (${ui(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,he.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ui(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var de;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(de||(de={}));function ui(t){return"storage/"+t}function ua(){const t="An unknown error occurred, please check the error payload for server response.";return new he(de.UNKNOWN,t)}function W2(t){return new he(de.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function z2(t){return new he(de.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function H2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new he(de.UNAUTHENTICATED,t)}function q2(){return new he(de.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function V2(t){return new he(de.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function G2(){return new he(de.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K2(){return new he(de.CANCELED,"User canceled the upload/download.")}function Y2(t){return new he(de.INVALID_URL,"Invalid URL '"+t+"'.")}function Q2(t){return new he(de.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function X2(){return new he(de.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_d+"' property when initializing the app?")}function Z2(){return new he(de.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function J2(){return new he(de.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ev(t){return new he(de.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function eo(t){return new he(de.INVALID_ARGUMENT,t)}function md(){return new he(de.APP_DELETED,"The Firebase app was deleted.")}function tv(t){return new he(de.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kn(t,e){return new he(de.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Un(t){throw new he(de.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fe.makeFromUrl(e,n)}catch{return new Fe(e,"")}if(r.path==="")return r;throw Q2(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",_=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},v=n===pd?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",b=new RegExp(`^https?://${v}/${s}/${y}`,"i"),S=[{regex:l,indices:c,postModify:i},{regex:_,indices:g,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<S.length;k++){const T=S[k],P=T.regex.exec(e);if(P){const ee=P[T.indices.bucket];let N=P[T.indices.path];N||(N=""),r=new Fe(ee,N),T.postModify(r);break}}if(r==null)throw Y2(e);return r}}class nv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...y){u||(u=!0,e.apply(null,y))}function h(y){s=setTimeout(()=>{s=null,t(_,c())},y)}function f(){i&&clearTimeout(i)}function _(y,...b){if(u){f();return}if(y){f(),d.call(null,y,...b);return}if(c()||o){f(),d.call(null,y,...b);return}r<64&&(r*=2);let S;l===1?(l=2,S=0):S=(r+Math.random())*1e3,h(S)}let g=!1;function v(y){g||(g=!0,f(),!u&&(s!==null?(y||(l=2),clearTimeout(s),h(0)):y||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function sv(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){return t!==void 0}function ov(t){return typeof t=="object"&&!Array.isArray(t)}function da(t){return typeof t=="string"||t instanceof String}function Ml(t){return ha()&&t instanceof Blob}function ha(){return typeof Blob<"u"&&!d_()}function $l(t,e,n,r){if(r<e)throw eo(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw eo(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gd(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qt||(qt={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,s,i,o,l,c,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,g)=>{this.resolve_=_,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ir(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===qt.NO_ERROR,c=i.getStatus();if(!l||av(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===qt.ABORT;r(!1,new Ir(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Ir(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());iv(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=ua();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?md():K2();o(c)}else{const c=G2();o(c)}};this.canceled_?n(!1,new Ir(!1,null,!0)):this.backoffId_=rv(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sv(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ir{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cv(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uv(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dv(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hv(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fv(t,e,n,r,s,i,o=!0){const l=gd(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return dv(u,e),cv(u,n),uv(u,i),hv(u,r),new lv(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _v(...t){const e=pv();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ha())return new Blob(t);throw new he(de.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mv(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t){if(typeof atob>"u")throw ev("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class di{constructor(e,n){this.data=e,this.contentType=n||null}}function vv(t,e){switch(t){case st.RAW:return new di(vd(e));case st.BASE64:case st.BASE64URL:return new di(yd(t,e));case st.DATA_URL:return new di(wv(e),xv(e))}throw ua()}function vd(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function yv(t){let e;try{e=decodeURIComponent(t)}catch{throw Kn(st.DATA_URL,"Malformed data URL.")}return vd(e)}function yd(t,e){switch(t){case st.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Kn(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case st.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Kn(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gv(e)}catch(s){throw s.message.includes("polyfill")?s:Kn(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class wd{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kn(st.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=bv(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function wv(t){const e=new wd(t);return e.base64?yd(st.BASE64,e.rest):yv(e.rest)}function xv(t){return new wd(t).contentType}function bv(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){let r=0,s="";Ml(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ml(this.data_)){const r=this.data_,s=mv(r,e,n);return s===null?null:new wt(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wt(r,!0)}}static getBlob(...e){if(ha()){const n=e.map(r=>r instanceof wt?r.data_:r);return new wt(_v.apply(null,n))}else{const n=e.map(o=>da(o)?vv(st.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new wt(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){let e;try{e=JSON.parse(t)}catch{return null}return ov(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Sv(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function bd(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){return e}class ke{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Ev}}let jr=null;function Nv(t){return!da(t)||t.length<2?t:bd(t)}function Cd(){if(jr)return jr;const t=[];t.push(new ke("bucket")),t.push(new ke("generation")),t.push(new ke("metageneration")),t.push(new ke("name","fullPath",!0));function e(i,o){return Nv(o)}const n=new ke("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new ke("size");return s.xform=r,t.push(s),t.push(new ke("timeCreated")),t.push(new ke("updated")),t.push(new ke("md5Hash",null,!0)),t.push(new ke("cacheControl",null,!0)),t.push(new ke("contentDisposition",null,!0)),t.push(new ke("contentEncoding",null,!0)),t.push(new ke("contentLanguage",null,!0)),t.push(new ke("contentType",null,!0)),t.push(new ke("metadata","customMetadata",!0)),jr=t,jr}function kv(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Fe(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Tv(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return kv(r,t),r}function Sd(t,e,n){const r=xd(e);return r===null?null:Tv(t,r,n)}function Rv(t,e,n,r){const s=xd(e);if(s===null||!da(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),_=Us(f,n,r),g=gd({alt:"media",token:u});return _+g})[0]}function Iv(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class fa{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){if(!t)throw ua()}function jv(t,e){function n(r,s){const i=Sd(t,s,e);return Ed(i!==null),i}return n}function Ov(t,e){function n(r,s){const i=Sd(t,s,e);return Ed(i!==null),Rv(i,s,t.host,t._protocol)}return n}function Nd(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=q2():s=H2():n.getStatus()===402?s=z2(t.bucket):n.getStatus()===403?s=V2(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function kd(t){const e=Nd(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=W2(t.path)),i.serverResponse=s.serverResponse,i}return n}function Pv(t,e,n){const r=e.fullServerUrl(),s=Us(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new fa(s,i,Ov(t,n),o);return l.errorHandler=kd(e),l}function Lv(t,e){const n=e.fullServerUrl(),r=Us(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,u){}const l=new fa(r,s,o,i);return l.successCodes=[200,204],l.errorHandler=kd(e),l}function Av(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Dv(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Av(null,e)),r}function Mv(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let S="";for(let k=0;k<2;k++)S=S+Math.random().toString().slice(2);return S}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=Dv(e,r,s),d=Iv(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",_=wt.getBlob(h,r,f);if(_===null)throw Z2();const g={name:u.fullPath},v=Us(i,t.host,t._protocol),y="POST",b=t.maxUploadRetryTime,w=new fa(v,y,jv(t,n),b);return w.urlParams=g,w.headers=o,w.body=_.uploadData(),w.errorHandler=Nd(e),w}class $v{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qt.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qt.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qt.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Un("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Un("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Un("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Un("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Un("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Fv extends $v{initXhr(){this.xhr_.responseType="text"}}function pa(){return new Fv}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this._service=e,n instanceof Fe?this._location=n:this._location=Fe.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jt(e,n)}get root(){const e=new Fe(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bd(this._location.path)}get storage(){return this._service}get parent(){const e=Cv(this._location.path);if(e===null)return null;const n=new Fe(this._location.bucket,e);return new Jt(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tv(e)}}function Bv(t,e,n){t._throwIfRoot("uploadBytes");const r=Mv(t.storage,t._location,Cd(),new wt(e,!0),n);return t.storage.makeRequestWithTokens(r,pa).then(s=>({metadata:s,ref:t}))}function Uv(t){t._throwIfRoot("getDownloadURL");const e=Pv(t.storage,t._location,Cd());return t.storage.makeRequestWithTokens(e,pa).then(n=>{if(n===null)throw J2();return n})}function Wv(t){t._throwIfRoot("deleteObject");const e=Lv(t.storage,t._location);return t.storage.makeRequestWithTokens(e,pa)}function zv(t,e){const n=Sv(t._location.path,e),r=new Fe(t._location.bucket,n);return new Jt(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t){return/^[A-Za-z]+:\/\//.test(t)}function qv(t,e){return new Jt(t,e)}function Td(t,e){if(t instanceof _a){const n=t;if(n._bucket==null)throw X2();const r=new Jt(n,n._bucket);return e!=null?Td(r,e):r}else return e!==void 0?zv(t,e):t}function Vv(t,e){if(e&&Hv(e)){if(t instanceof _a)return qv(t,e);throw eo("To use ref(service, url), the first argument must be a Storage instance.")}else return Td(t,e)}function Fl(t,e){const n=e==null?void 0:e[_d];return n==null?null:Fe.makeFromBucketSpec(n,t)}function Gv(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Oc(s,t.app.options.projectId))}class _a{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=pd,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B2,this._maxUploadRetryTime=U2,this._requests=new Set,s!=null?this._bucket=Fe.makeFromBucketSpec(s,this._host):this._bucket=Fl(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fe.makeFromBucketSpec(this._url,e):this._bucket=Fl(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$l("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$l("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jt(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new nv(md());{const o=fv(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Bl="@firebase/storage",Ul="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="storage";function Id(t,e,n){return t=we(t),Bv(t,e,n)}function jd(t){return t=we(t),Uv(t)}function Kv(t){return t=we(t),Wv(t)}function ma(t,e){return t=we(t),Vv(t,e)}function Od(t=Uc(),e){t=we(t);const r=ko(t,Rd).getImmediate({identifier:e}),s=c_("storage");return s&&Yv(r,...s),r}function Yv(t,e,n,r={}){Gv(t,e,n,r)}function Qv(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new _a(n,r,s,e,ys)}function Xv(){Yt(new at(Rd,Qv,"PUBLIC").setMultipleInstances(!0)),it(Bl,Ul,""),it(Bl,Ul,"esm2017")}Xv();const Zv={apiKey:"AIzaSyAWhtPH6vjSqyp3eV1ajAA3kYmioV8Mu0k",authDomain:"auroranewstest.firebaseapp.com",databaseURL:"https://auroranewstest-default-rtdb.europe-west1.firebasedatabase.app",projectId:"auroranewstest",storageBucket:"auroranewstest.appspot.com",messagingSenderId:"208974671200",appId:"1:208974671200:web:365116daa02a390e3c8205",measurementId:"G-SLMB59D1YP"},Pd=ws.initializeApp(Zv),Ws=ws.database(Pd),Ld=Od(Pd),zs=t=>Ws.ref(t),ln=async(t,e,n)=>{try{const s=(await t.once("value")).val();if(s){const i=Object.values(s);e(n?i.sort((o,l)=>o.count-l.count):i)}}catch(r){console.error("Помилка отримання бази елементів:",r)}},Ee=(t,e)=>{let n;return t.length<=e?n=t:n=t.substring(0,e-3)+"...",n},Jv="_short_news_44fwh_1",ey="_title_44fwh_29",ty="_list_44fwh_43",ny="_mobile_44fwh_49",ry="_item_44fwh_58",sy="_name_44fwh_65",iy="_right_44fwh_71",oy="_date_44fwh_77",ay="_likes_44fwh_89",ly="_count_44fwh_104",cy="_desktop_44fwh_120",uy="_left_wrapper_44fwh_127",dy="_info_44fwh_136",hy="_messages_44fwh_142",fy="_subMessage_44fwh_154",py="_right_wrapper_44fwh_161",_y="_content_44fwh_200",my="_content__button_44fwh_216",gy="_button__text_44fwh_228",vy="_button__arrow_44fwh_237",yy="_all_44fwh_277",wy="_link_44fwh_296",xy="_customBtm_44fwh_296",V={short_news:Jv,title:ey,list:ty,mobile:ny,item:ry,name:sy,right:iy,date:oy,likes:ay,count:ly,desktop:cy,left_wrapper:uy,info:dy,messages:hy,subMessage:fy,right_wrapper:py,content:_y,content__button:my,button__text:gy,button__arrow:vy,all:yy,link:wy,customBtm:xy};function by(){const t=wo(),[e,n]=p.useState([]),r=zs("/data/news"),s=()=>ln(r,n,!0),i=c=>t(`/news/${c.key}`),o=()=>e.map(c=>a.jsxs("div",{className:V.item,children:[a.jsxs("div",{className:V.content,children:[a.jsx("div",{className:V.name,children:Ee(c.title,47)}),a.jsxs("button",{className:V.content__button,onClick:()=>i(c),children:[a.jsx("div",{className:V.button__text,children:"дізнатись більше"}),a.jsx("div",{className:V.button__arrow,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"16",viewBox:"0 0 9 16",fill:"none",children:a.jsx("path",{d:"M7.13277 8L0.666092 1.45852C0.612851 1.40581 0.57076 1.34322 0.542253 1.27439C0.513747 1.20555 0.499392 1.13184 0.50002 1.05751C0.500647 0.983175 0.516244 0.909704 0.545908 0.841346C0.575572 0.772987 0.618714 0.711098 0.672838 0.65926C0.726962 0.607422 0.790992 0.566664 0.861224 0.539344C0.931456 0.512025 1.00649 0.498687 1.082 0.500102C1.1575 0.501517 1.23197 0.517657 1.30109 0.547588C1.37022 0.577519 1.43263 0.620646 1.48471 0.674475L8.33823 7.60798C8.44196 7.71293 8.5 7.85357 8.5 8C8.5 8.14643 8.44196 8.28707 8.33823 8.39202L1.48471 15.3255C1.43263 15.3794 1.37022 15.4225 1.30109 15.4524C1.23197 15.4823 1.1575 15.4985 1.082 15.4999C1.00649 15.5013 0.931456 15.488 0.861224 15.4607C0.790992 15.4333 0.726962 15.3926 0.672838 15.3407C0.618714 15.2889 0.575572 15.227 0.545908 15.1587C0.516244 15.0903 0.500647 15.0168 0.50002 14.9425C0.499392 14.8682 0.513747 14.7944 0.542253 14.7256C0.57076 14.6568 0.612851 14.5942 0.666092 14.5415L7.13277 8Z",fill:"black"})})})]})]}),a.jsxs("div",{className:V.info,children:[a.jsx("div",{className:V.date,children:c.date}),a.jsxs("div",{className:V.likes,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",children:a.jsx("path",{d:"M30.69 9.85875C30.5236 9.20739 30.2667 8.58256 29.9269 8.0025C29.6004 7.39907 29.1831 6.8495 28.6894 6.37312C27.9736 5.65977 27.126 5.09237 26.1937 4.7025C24.3172 3.93234 22.2128 3.93234 20.3362 4.7025C19.4551 5.07548 18.6455 5.5989 17.9437 6.24937L17.8406 6.37312L16.5 7.71375L15.1594 6.37312L15.0562 6.24937C14.3545 5.5989 13.5449 5.07548 12.6637 4.7025C10.7872 3.93234 8.68279 3.93234 6.80624 4.7025C5.87395 5.09237 5.02635 5.65977 4.31061 6.37312C3.33167 7.32565 2.63869 8.53301 2.30999 9.85875C2.13512 10.532 2.05187 11.2257 2.06249 11.9212C2.06249 12.5771 2.14499 13.2289 2.30999 13.86C2.48289 14.4995 2.73219 15.1158 3.05249 15.6956C3.3984 16.2917 3.82142 16.8395 4.31061 17.325L16.5 29.5144L28.6894 17.325C29.1782 16.8465 29.5969 16.2979 29.9269 15.6956C30.5967 14.5512 30.9459 13.2473 30.9375 11.9212C30.9482 11.2257 30.8649 10.532 30.69 9.85875Z",fill:"#FF0000"})}),a.jsx("div",{className:V.count,children:c.likes})]})]})]},c.key)),l=()=>e.length>0&&a.jsxs("div",{className:V.item,children:[a.jsx("div",{className:V.name,children:Ee(e[0].title,35)}),a.jsxs("div",{className:V.right,children:[a.jsx("div",{className:V.date,children:e[0].date}),a.jsxs("div",{className:V.likes,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",children:a.jsx("path",{d:"M30.69 9.85875C30.5236 9.20739 30.2667 8.58256 29.9269 8.0025C29.6004 7.39907 29.1831 6.8495 28.6894 6.37312C27.9736 5.65977 27.126 5.09237 26.1937 4.7025C24.3172 3.93234 22.2128 3.93234 20.3362 4.7025C19.4551 5.07548 18.6455 5.5989 17.9437 6.24937L17.8406 6.37312L16.5 7.71375L15.1594 6.37312L15.0562 6.24937C14.3545 5.5989 13.5449 5.07548 12.6637 4.7025C10.7872 3.93234 8.68279 3.93234 6.80624 4.7025C5.87395 5.09237 5.02635 5.65977 4.31061 6.37312C3.33167 7.32565 2.63869 8.53301 2.30999 9.85875C2.13512 10.532 2.05187 11.2257 2.06249 11.9212C2.06249 12.5771 2.14499 13.2289 2.30999 13.86C2.48289 14.4995 2.73219 15.1158 3.05249 15.6956C3.3984 16.2917 3.82142 16.8395 4.31061 17.325L16.5 29.5144L28.6894 17.325C29.1782 16.8465 29.5969 16.2979 29.9269 15.6956C30.5967 14.5512 30.9459 13.2473 30.9375 11.9212C30.9482 11.2257 30.8649 10.532 30.69 9.85875Z",fill:"#FF0000"})}),a.jsx("div",{className:V.count,children:e[0].likes})]})]})]},e[0].key);return p.useEffect(()=>{e.length===0&&s()},[e]),a.jsxs("section",{className:V.short_news,children:[a.jsx("h3",{className:V.title,children:"Новини"}),a.jsxs("div",{className:V.list+" "+V.desktop,children:[a.jsxs("div",{className:V.left_wrapper,children:[a.jsxs("div",{className:V.info,children:["Цей сайт створений для того, щоб назавжди закарбувати у пам’яті ",a.jsx("b",{children:"часи незламності."})]}),a.jsxs("div",{className:V.messages,children:[a.jsxs("div",{className:V.item,children:[a.jsx("b",{children:"Зібрати"})," в одному місці всі нагороди та трофеї цієї війни, які ми отримали на знак подяки."]}),a.jsxs("div",{className:V.item,children:[a.jsx("b",{children:"Зберегти"})," неймовірні історії наших аврорівців, які пережили обстріли, окупацію, евакуацію, втрати, блекаути і стали ще сильнішими."]})]}),a.jsx("div",{className:V.subMessage,children:"Увіковічити пам’ять полеглих."}),a.jsx("div",{className:V.all,children:a.jsx(Xe,{to:"/news",className:V.link,children:a.jsx(De,{text:"Читати Всі Новини"})})})]}),a.jsx("div",{className:V.right_wrapper,children:o()})]}),a.jsx("div",{className:V.list+" "+V.mobile,children:l()}),a.jsx("div",{className:V.all+" "+V.mobile,children:a.jsx(Xe,{to:"/news",className:V.link,children:a.jsx(De,{text:"Всі Новини"})})})]})}const hi=""+new URL("../img/museum.jpg",import.meta.url).href,Cy="_MuseumShort_lfcdz_1",Sy="_title_lfcdz_22",Ey="_MuseumShort_wrapper_lfcdz_38",Ny="_mobile_lfcdz_45",ky="_img_lfcdz_53",Ty="_active_lfcdz_67",Ry="_backSide_lfcdz_79",Iy="_circles_lfcdz_96",jy="_first_lfcdz_103",Oy="_second_lfcdz_104",Py="_third_lfcdz_105",Ly="_fourd_lfcdz_106",Ay="_desktop_lfcdz_142",Dy="_left_lfcdz_149",My="_rigth_lfcdz_166",$y="_wrapper__title_lfcdz_177",Fy="_list_lfcdz_182",By="_description_lfcdz_213",Uy="_btn_lfcdz_218",Wy="_fifth_lfcdz_234",zy="_sixth_lfcdz_235",Q={MuseumShort:Cy,title:Sy,MuseumShort_wrapper:Ey,mobile:Ny,img:ky,active:Ty,backSide:Ry,circles:Iy,first:jy,second:Oy,third:Py,fourd:Ly,desktop:Ay,left:Dy,rigth:My,wrapper__title:$y,list:Fy,description:By,btn:Uy,fifth:Wy,sixth:zy};function Hy(){const[t,e]=p.useState(!1);return p.useEffect(()=>{const n=new Image;n.src=hi,n.onload=()=>{e(!0)}},[]),a.jsxs("section",{className:Q.MuseumShort,children:[a.jsx("h3",{className:Q.title,children:"Музей"}),a.jsxs("div",{className:Q.MuseumShort_wrapper+" "+Q.desktop,children:[a.jsx("div",{className:t?Q.left+" "+Q.active:Q.left,style:{backgroundImage:`url(${hi})`}}),a.jsxs("div",{className:Q.rigth,children:[a.jsx("div",{className:Q.wrapper__title,children:'Ми створили віртуальний музей подяк, нагород та трофеїв компанії "Аврора", отриманих у період великої війни.'}),a.jsxs("ul",{className:Q.list,children:[a.jsx("li",{children:"жовто-блакитний прапор, підписаний захисниками за підтримку у зборі коштів на позашляховик для передової"}),a.jsx("li",{children:"уламки ракет, збитих ППО"}),a.jsx("li",{children:"відзнака Президента України, виготовлена з бахмутської солі та кримського ракушняка"}),a.jsx("li",{children:"амуніція, покинута ворогом на позиції"})]}),a.jsx("div",{className:Q.description,children:"У цьому розділі маєте можливість побачити ексклюзивну колекцію Аврори."}),a.jsx("div",{className:Q.btn,children:a.jsx(Xe,{to:"/museum",children:a.jsx(De,{text:"читати більше"})})})]})]}),a.jsxs("div",{className:Q.MuseumShort_wrapper+" "+Q.mobile,children:[a.jsx("div",{className:Q.backSide,children:a.jsxs("div",{className:Q.circles,children:[a.jsx("div",{className:Q.first}),a.jsx("div",{className:Q.second}),a.jsx("div",{className:Q.third}),a.jsx("div",{className:Q.fourd})]})}),a.jsx("div",{className:t?Q.img+" "+Q.active:Q.img,style:{backgroundImage:`url(${hi})`}}),a.jsx(Xe,{to:"/museum",children:a.jsx(De,{text:"читати більше"})})]}),a.jsxs("div",{className:Q.circles,children:[a.jsx("div",{className:Q.first}),a.jsx("div",{className:Q.second}),a.jsx("div",{className:Q.third}),a.jsx("div",{className:Q.fourd}),a.jsx("div",{className:Q.fifth}),a.jsx("div",{className:Q.sixth})]})]})}const fi=""+new URL("../img/memorial.jpg",import.meta.url).href,qy="_memorialShort_11rya_1",Vy="_title_11rya_21",Gy="_memorialShort_wrapper_11rya_37",Ky="_mobile_11rya_46",Yy="_img_11rya_54",Qy="_active_11rya_68",Xy="_backSide_11rya_76",Zy="_circles_11rya_93",Jy="_first_11rya_100",ew="_second_11rya_101",tw="_third_11rya_102",nw="_fourd_11rya_103",rw="_desktop_11rya_139",sw="_left_11rya_146",iw="_wrapper__title_11rya_156",ow="_description_11rya_161",aw="_item_11rya_168",lw="_btn_11rya_175",cw="_right_11rya_182",re={memorialShort:qy,title:Vy,memorialShort_wrapper:Gy,mobile:Ky,img:Yy,active:Qy,backSide:Xy,circles:Zy,first:Jy,second:ew,third:tw,fourd:nw,desktop:rw,left:sw,wrapper__title:iw,description:ow,item:aw,btn:lw,right:cw};function uw(){const[t,e]=p.useState(!1);return p.useEffect(()=>{const n=new Image;n.src=fi,n.onload=()=>{e(!0)}},[]),a.jsxs("section",{className:re.memorialShort,children:[a.jsx("h3",{className:re.title,children:"Наші Герої"}),a.jsxs("div",{className:re.memorialShort_wrapper+" "+re.desktop,children:[a.jsxs("div",{className:re.left,children:[a.jsx("div",{className:re.wrapper__title,children:"Це віртуальна дошка пам'яті аврорівців, які після 24 лютого 2022 року стали на захист країни."}),a.jsxs("div",{className:re.description,children:[a.jsxs("div",{className:re.item,children:["Вони віддали найдорожче - ",a.jsx("b",{children:"своє життя"})," - заради нашого майбутнього у вільній і незалежній Україні."]}),a.jsxs("div",{className:re.item,children:["Ми вшановуємо наших полеглих колег, щоб завжди ",a.jsx("b",{children:"пам’ятати"})," ціну перемоги."]})]}),a.jsx("div",{className:re.btn,children:a.jsx(Xe,{to:"/memorial",children:a.jsx(De,{text:"читати більше"})})})]}),a.jsx("div",{className:t?re.right+" "+re.active:re.right,style:{backgroundImage:`url(${fi})`}})]}),a.jsxs("div",{className:re.memorialShort_wrapper+" "+re.mobile,children:[a.jsx("div",{className:re.backSide,children:a.jsxs("div",{className:re.circles,children:[a.jsx("div",{className:re.first}),a.jsx("div",{className:re.second}),a.jsx("div",{className:re.third}),a.jsx("div",{className:re.fourd})]})}),a.jsx("div",{className:t?re.img+" "+re.active:re.img,style:{backgroundImage:`url(${fi})`}}),a.jsx(Xe,{to:"/memorial",children:a.jsx(De,{text:"читати більше"})})]}),a.jsx("div",{className:re.circles,children:a.jsx("div",{className:re.first})})]})}const dw="_FeedBack_no97o_1",hw="_title_no97o_13",fw="_feedBack__wrapper_no97o_27",pw="_desktop_no97o_35",_w="_contact_block_first_no97o_41",mw="_left_no97o_48",gw="_tell_no97o_69",vw="_tell_name_no97o_70",yw="_name_tell_no97o_77",ww="_description_no97o_87",xw="_right_no97o_94",bw="_list_no97o_113",Cw="_text_no97o_138",Sw="_contact_block_second_no97o_145",Ew="_tel_no97o_69",Nw="_mobile_no97o_190",kw="_question_number_no97o_201",Tw="_contacts_no97o_224",Rw="_contacts__title_no97o_231",Iw="_contacts__wrapper_no97o_239",jw="_item_no97o_266",Ow="_question_no97o_201",Pw="_name_no97o_77",Lw="_position_no97o_354",Aw="_logo_no97o_363",$={FeedBack:dw,title:hw,feedBack__wrapper:fw,desktop:pw,contact_block_first:_w,left:mw,tell:gw,tell_name:vw,name_tell:yw,description:ww,right:xw,list:bw,text:Cw,contact_block_second:Sw,tel:Ew,mobile:Nw,question_number:kw,contacts:Tw,contacts__title:Rw,contacts__wrapper:Iw,item:jw,question:Ow,name:Pw,position:Lw,logo:Aw};function Ln(){return a.jsxs("section",{className:$.FeedBack,children:[a.jsx("h3",{className:$.title,children:"Контакти"}),a.jsxs("div",{className:$.feedBack__wrapper+" "+$.desktop,children:[a.jsxs("div",{className:$.contact_block_second,children:[a.jsxs("div",{className:$.left,children:[a.jsx("div",{className:$.title,children:"З питань отримання безкоштовної юридичної допомоги:"}),a.jsx("div",{className:$.tel,children:"лінія підтримки +380 67 826 00 00 (після виклику натиснути 3)"})]}),a.jsxs("div",{className:$.right,children:[a.jsx("div",{className:$.title,children:"З юридичних питань і психологічної підтримки звертайтеся на лінію підтримки Ветеран Хаб за номером"}),a.jsx("div",{className:$.tel,children:"+380 67 348 28 68"})]})]}),a.jsxs("div",{className:$.contact_block_first,children:[a.jsxs("div",{className:$.left,children:[a.jsx("div",{className:$.title,children:"Запитання та пропозиції:"}),a.jsx("div",{className:$.tell,children:"+380 67 557 27 16"}),a.jsx("div",{className:$.name_tell,children:"Альона Жигура"}),a.jsx("div",{className:$.description,children:"Керівниця відділу КСВ"})]}),a.jsxs("div",{className:$.right,children:[a.jsx("div",{className:$.title,children:"Контакти менеджерок КСВ:"}),a.jsxs("ul",{className:$.list,children:[a.jsxs("li",{children:[a.jsx("a",{href:"tel:+380675572716",children:"+380 67 557 27 16"}),a.jsx("div",{className:$.text,children:"Альона Жигура"})]}),a.jsxs("li",{children:[a.jsx("a",{href:"tel:+380956252907",children:"+380 95 625 29 07"}),a.jsx("div",{className:$.text,children:"Марія Яременко"})]}),a.jsxs("li",{children:[a.jsx("a",{href:"tel:+380671746363",children:"+380 67 174 63 63"}),a.jsx("div",{className:$.text,children:"Надія Грисенко"})]}),a.jsxs("li",{children:[a.jsx("a",{href:"tel:+380664746618",children:"+380 66 474 66 18"}),a.jsx("div",{className:$.text,children:"Марина Мельничук"})]})]})]})]})]}),a.jsxs("div",{className:$.feedBack__wrapper+" "+$.mobile,children:[a.jsxs("div",{className:$.question_number,children:[a.jsx("p",{children:"З юридичних питань і психологічної підтримки звертайтеся на лінію підтримки Ветеран Хаб:"}),a.jsx("a",{href:"tel:+380673482868",children:" +380 67 348 28 68 "})]}),a.jsxs("div",{className:$.question_number,children:[a.jsx("p",{children:"З питань отримання безкоштовної юридичної допомоги:"}),a.jsxs("a",{href:"tel:+380678260000",children:["лінія підтримки ",a.jsx("br",{}),"+380 67 826 00 00 ",a.jsx("br",{}),"(після виклику натиснути 3)"]})]}),a.jsxs("div",{className:$.contacts,children:[a.jsx("div",{className:$.contacts__title,children:"Контакти менеджерок КСВ:"}),a.jsxs("div",{className:$.contacts__wrapper,children:[a.jsxs("div",{className:$.left,children:[a.jsxs("div",{className:$.item,children:[a.jsx("a",{href:"tel:+380675572716",children:"+380 67 557 27 16"}),a.jsx("p",{children:" Альона Жигура "})]}),a.jsxs("div",{className:$.item,children:[a.jsx("a",{href:"tel:+380671746363",children:"+380 67 174 63 63"}),a.jsx("p",{children:" Надія Грисенко "})]})]}),a.jsxs("div",{className:$.right,children:[a.jsxs("div",{className:$.item,children:[a.jsx("a",{href:"tel:+380956252907",children:"+380 95 625 29 07"}),a.jsx("p",{children:" Марія Яременко "})]}),a.jsxs("div",{className:$.item,children:[a.jsx("a",{href:"tel:+380664746618",children:"+380 66 474 66 18"}),a.jsx("p",{children:" Марина Мельничук "})]})]})]}),a.jsxs("div",{className:$.question,children:[a.jsx("div",{className:$.title,children:"Запитання та пропозиції:"}),a.jsx("a",{href:"tel:+380675572716",children:"+380 67 557 27 16"}),a.jsx("div",{className:$.name,children:"Альона Жигура"}),a.jsx("div",{className:$.position,children:"Керівниця відділу КСВ"}),a.jsx("img",{src:bo,alt:"logo",className:$.logo})]})]})]})]})}function Dw(){return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
                    @media screen and (max-width: 768px) { 
                        .feedback {
                            display: none;
                        }  
                    }
                `}),a.jsx(Vp,{}),a.jsxs("div",{className:"mobile-wrapper",children:[a.jsx(by,{}),a.jsx(Hy,{}),a.jsx(uw,{})]}),a.jsx("div",{className:"feedback",children:a.jsx(Ln,{})})]})}var Ad={},Dd={},Hs={},Md={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=e;t.default=n})(Md);var Mw="Expected a function",Wl=0/0,$w="[object Symbol]",Fw=/^\s+|\s+$/g,Bw=/^[-+]0x[0-9a-f]+$/i,Uw=/^0b[01]+$/i,Ww=/^0o[0-7]+$/i,zw=parseInt,Hw=typeof kr=="object"&&kr&&kr.Object===Object&&kr,qw=typeof self=="object"&&self&&self.Object===Object&&self,Vw=Hw||qw||Function("return this")(),Gw=Object.prototype,Kw=Gw.toString,Yw=Math.max,Qw=Math.min,pi=function(){return Vw.Date.now()};function Xw(t,e,n){var r,s,i,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Mw);e=zl(e)||0,to(n)&&(d=!!n.leading,h="maxWait"in n,i=h?Yw(zl(n.maxWait)||0,e):i,f="trailing"in n?!!n.trailing:f);function _(P){var ee=r,N=s;return r=s=void 0,u=P,o=t.apply(N,ee),o}function g(P){return u=P,l=setTimeout(b,e),d?_(P):o}function v(P){var ee=P-c,N=P-u,C=e-ee;return h?Qw(C,i-N):C}function y(P){var ee=P-c,N=P-u;return c===void 0||ee>=e||ee<0||h&&N>=i}function b(){var P=pi();if(y(P))return w(P);l=setTimeout(b,v(P))}function w(P){return l=void 0,f&&r?_(P):(r=s=void 0,o)}function S(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function k(){return l===void 0?o:w(pi())}function T(){var P=pi(),ee=y(P);if(r=arguments,s=this,c=P,ee){if(l===void 0)return g(c);if(h)return l=setTimeout(b,e),_(c)}return l===void 0&&(l=setTimeout(b,e)),o}return T.cancel=S,T.flush=k,T}function to(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Zw(t){return!!t&&typeof t=="object"}function Jw(t){return typeof t=="symbol"||Zw(t)&&Kw.call(t)==$w}function zl(t){if(typeof t=="number")return t;if(Jw(t))return Wl;if(to(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=to(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Fw,"");var n=Uw.test(t);return n||Ww.test(t)?zw(t.slice(2),n?2:8):Bw.test(t)?Wl:+t}var e3=Xw,$d={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var i=arguments[s];if(i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var l=n.apply(null,i);l&&r.push(l)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var c in i)e.call(i,c)&&i[c]&&r.push(c)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})($d);var qs=$d.exports,E={};Object.defineProperty(E,"__esModule",{value:!0});E.checkSpecKeys=E.checkNavigable=E.changeSlide=E.canUseDOM=E.canGoNext=void 0;E.clamp=Fd;E.swipeStart=E.swipeMove=E.swipeEnd=E.slidesOnRight=E.slidesOnLeft=E.slideHandler=E.siblingDirection=E.safePreventDefault=E.lazyStartIndex=E.lazySlidesOnRight=E.lazySlidesOnLeft=E.lazyEndIndex=E.keyHandler=E.initializedState=E.getWidth=E.getTrackLeft=E.getTrackCSS=E.getTrackAnimateCSS=E.getTotalSlides=E.getSwipeDirection=E.getSlideCount=E.getRequiredLazySlides=E.getPreClones=E.getPostClones=E.getOnDemandLazySlides=E.getNavigableIndexes=E.getHeight=E.extractObject=void 0;var t3=n3(p);function n3(t){return t&&t.__esModule?t:{default:t}}function Hl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hl(Object(n),!0).forEach(function(r){r3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fd(t,e,n){return Math.max(e,Math.min(t,n))}var Vt=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()};E.safePreventDefault=Vt;var ga=function(e){for(var n=[],r=va(e),s=ya(e),i=r;i<s;i++)e.lazyLoadedList.indexOf(i)<0&&n.push(i);return n};E.getOnDemandLazySlides=ga;var s3=function(e){for(var n=[],r=va(e),s=ya(e),i=r;i<s;i++)n.push(i);return n};E.getRequiredLazySlides=s3;var va=function(e){return e.currentSlide-Bd(e)};E.lazyStartIndex=va;var ya=function(e){return e.currentSlide+Ud(e)};E.lazyEndIndex=ya;var Bd=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};E.lazySlidesOnLeft=Bd;var Ud=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};E.lazySlidesOnRight=Ud;var ns=function(e){return e&&e.offsetWidth||0};E.getWidth=ns;var wa=function(e){return e&&e.offsetHeight||0};E.getHeight=wa;var xa=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,s,i,o;return r=e.startX-e.curX,s=e.startY-e.curY,i=Math.atan2(s,r),o=Math.round(i*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"};E.getSwipeDirection=xa;var ba=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};E.canGoNext=ba;var i3=function(e,n){var r={};return n.forEach(function(s){return r[s]=e[s]}),r};E.extractObject=i3;var o3=function(e){var n=t3.default.Children.count(e.children),r=e.listRef,s=Math.ceil(ns(r)),i=e.trackRef&&e.trackRef.node,o=Math.ceil(ns(i)),l;if(e.vertical)l=s;else{var c=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(c*=s/100),l=Math.ceil((s-c)/e.slidesToShow)}var u=r&&wa(r.querySelector('[data-index="0"]')),d=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var f=e.lazyLoadedList||[],_=ga(ae(ae({},e),{},{currentSlide:h,lazyLoadedList:f}));f=f.concat(_);var g={slideCount:n,slideWidth:l,listWidth:s,trackWidth:o,currentSlide:h,slideHeight:u,listHeight:d,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(g.autoplaying="playing"),g};E.initializedState=o3;var a3=function(e){var n=e.waitForAnimate,r=e.animating,s=e.fade,i=e.infinite,o=e.index,l=e.slideCount,c=e.lazyLoad,u=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,f=e.slidesToShow,_=e.useCSS,g=e.lazyLoadedList;if(n&&r)return{};var v=o,y,b,w,S={},k={},T=i?o:Fd(o,0,l-1);if(s){if(!i&&(o<0||o>=l))return{};o<0?v=o+l:o>=l&&(v=o-l),c&&g.indexOf(v)<0&&(g=g.concat(v)),S={animating:!0,currentSlide:v,lazyLoadedList:g,targetSlide:v},k={animating:!1,targetSlide:v}}else y=v,v<0?(y=v+l,i?l%h!==0&&(y=l-l%h):y=0):!ba(e)&&v>u?v=y=u:d&&v>=l?(v=i?l:l-1,y=i?0:l-1):v>=l&&(y=v-l,i?l%h!==0&&(y=0):y=l-f),!i&&v+f>=l&&(y=l-f),b=dr(ae(ae({},e),{},{slideIndex:v})),w=dr(ae(ae({},e),{},{slideIndex:y})),i||(b===w&&(v=y),b=w),c&&(g=g.concat(ga(ae(ae({},e),{},{currentSlide:v})))),_?(S={animating:!0,currentSlide:y,trackStyle:Ca(ae(ae({},e),{},{left:b})),lazyLoadedList:g,targetSlide:T},k={animating:!1,currentSlide:y,trackStyle:ur(ae(ae({},e),{},{left:w})),swipeLeft:null,targetSlide:T}):S={currentSlide:y,trackStyle:ur(ae(ae({},e),{},{left:w})),lazyLoadedList:g,targetSlide:T};return{state:S,nextState:k}};E.slideHandler=a3;var l3=function(e,n){var r,s,i,o,l,c=e.slidesToScroll,u=e.slidesToShow,d=e.slideCount,h=e.currentSlide,f=e.targetSlide,_=e.lazyLoad,g=e.infinite;if(o=d%c!==0,r=o?0:(d-h)%c,n.message==="previous")i=r===0?c:u-r,l=h-i,_&&!g&&(s=h-i,l=s===-1?d-1:s),g||(l=f-c);else if(n.message==="next")i=r===0?c:r,l=h+i,_&&!g&&(l=(h+c)%d+r),g||(l=f+c);else if(n.message==="dots")l=n.index*n.slidesToScroll;else if(n.message==="children"){if(l=n.index,g){var v=qd(ae(ae({},e),{},{targetSlide:l}));l>n.currentSlide&&v==="left"?l=l-d:l<n.currentSlide&&v==="right"&&(l=l+d)}}else n.message==="index"&&(l=Number(n.index));return l};E.changeSlide=l3;var c3=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};E.keyHandler=c3;var u3=function(e,n,r){return e.target.tagName==="IMG"&&Vt(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};E.swipeStart=u3;var d3=function(e,n){var r=n.scrolling,s=n.animating,i=n.vertical,o=n.swipeToSlide,l=n.verticalSwiping,c=n.rtl,u=n.currentSlide,d=n.edgeFriction,h=n.edgeDragged,f=n.onEdge,_=n.swiped,g=n.swiping,v=n.slideCount,y=n.slidesToScroll,b=n.infinite,w=n.touchObject,S=n.swipeEvent,k=n.listHeight,T=n.listWidth;if(!r){if(s)return Vt(e);i&&o&&l&&Vt(e);var P,ee={},N=dr(n);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var C=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!l&&!g&&C>10)return{scrolling:!0};l&&(w.swipeLength=C);var D=(c?-1:1)*(w.curX>w.startX?1:-1);l&&(D=w.curY>w.startY?1:-1);var F=Math.ceil(v/y),L=xa(n.touchObject,l),A=w.swipeLength;return b||(u===0&&(L==="right"||L==="down")||u+1>=F&&(L==="left"||L==="up")||!ba(n)&&(L==="left"||L==="up"))&&(A=w.swipeLength*d,h===!1&&f&&(f(L),ee.edgeDragged=!0)),!_&&S&&(S(L),ee.swiped=!0),i?P=N+A*(k/T)*D:c?P=N-A*D:P=N+A*D,l&&(P=N+A*D),ee=ae(ae({},ee),{},{touchObject:w,swipeLeft:P,trackStyle:ur(ae(ae({},n),{},{left:P}))}),Math.abs(w.curX-w.startX)<Math.abs(w.curY-w.startY)*.8||w.swipeLength>10&&(ee.swiping=!0,Vt(e)),ee}};E.swipeMove=d3;var h3=function(e,n){var r=n.dragging,s=n.swipe,i=n.touchObject,o=n.listWidth,l=n.touchThreshold,c=n.verticalSwiping,u=n.listHeight,d=n.swipeToSlide,h=n.scrolling,f=n.onSwipe,_=n.targetSlide,g=n.currentSlide,v=n.infinite;if(!r)return s&&Vt(e),{};var y=c?u/l:o/l,b=xa(i,c),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!i.swipeLength)return w;if(i.swipeLength>y){Vt(e),f&&f(b);var S,k,T=v?g:_;switch(b){case"left":case"up":k=T+ro(n),S=d?no(n,k):k,w.currentDirection=0;break;case"right":case"down":k=T-ro(n),S=d?no(n,k):k,w.currentDirection=1;break;default:S=T}w.triggerSlideHandler=S}else{var P=dr(n);w.trackStyle=Ca(ae(ae({},n),{},{left:P}))}return w};E.swipeEnd=h3;var Wd=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,s=e.infinite?e.slidesToShow*-1:0,i=[];r<n;)i.push(r),r=s+e.slidesToScroll,s+=Math.min(e.slidesToScroll,e.slidesToShow);return i};E.getNavigableIndexes=Wd;var no=function(e,n){var r=Wd(e),s=0;if(n>r[r.length-1])n=r[r.length-1];else for(var i in r){if(n<r[i]){n=s;break}s=r[i]}return n};E.checkNavigable=no;var ro=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,s=e.listRef,i=s.querySelectorAll&&s.querySelectorAll(".slick-slide")||[];if(Array.from(i).every(function(c){if(e.vertical){if(c.offsetTop+wa(c)/2>e.swipeLeft*-1)return r=c,!1}else if(c.offsetLeft-n+ns(c)/2>e.swipeLeft*-1)return r=c,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,l=Math.abs(r.dataset.index-o)||1;return l}else return e.slidesToScroll};E.getSlideCount=ro;var Vs=function(e,n){return n.reduce(function(r,s){return r&&e.hasOwnProperty(s)},!0)?null:console.error("Keys Missing:",e)};E.checkSpecKeys=Vs;var ur=function(e){Vs(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,s=e.slideCount+2*e.slidesToShow;e.vertical?r=s*e.slideHeight:n=Hd(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",c=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=ae(ae({},i),{},{WebkitTransform:o,transform:l,msTransform:c})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),n&&(i.width=n),r&&(i.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};E.getTrackCSS=ur;var Ca=function(e){Vs(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=ur(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n};E.getTrackAnimateCSS=Ca;var dr=function(e){if(e.unslick)return 0;Vs(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,s=e.infinite,i=e.centerMode,o=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,_=e.fade,g=e.vertical,v=0,y,b,w=0;if(_||e.slideCount===1)return 0;var S=0;if(s?(S=-Yn(e),o%c!==0&&n+c>o&&(S=-(n>o?l-(n-o):o%c)),i&&(S+=parseInt(l/2))):(o%c!==0&&n+c>o&&(S=l-o%c),i&&(S=parseInt(l/2))),v=S*u,w=S*f,g?y=n*f*-1+w:y=n*u*-1+v,h===!0){var k,T=r&&r.node;if(k=n+Yn(e),b=T&&T.childNodes[k],y=b?b.offsetLeft*-1:0,i===!0){k=s?n+Yn(e):n,b=T&&T.children[k],y=0;for(var P=0;P<k;P++)y-=T&&T.children[P]&&T.children[P].offsetWidth;y-=parseInt(e.centerPadding),y+=b&&(d-b.offsetWidth)/2}}return y};E.getTrackLeft=dr;var Yn=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};E.getPreClones=Yn;var zd=function(e){return e.unslick||!e.infinite?0:e.slideCount};E.getPostClones=zd;var Hd=function(e){return e.slideCount===1?1:Yn(e)+e.slideCount+zd(e)};E.getTotalSlides=Hd;var qd=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+Vd(e)?"left":"right":e.targetSlide<e.currentSlide-Gd(e)?"right":"left"};E.siblingDirection=qd;var Vd=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,i=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(i)>0&&(o+=1),s&&n%2===0&&(o+=1),o}return s?0:n-1};E.slidesOnRight=Vd;var Gd=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,i=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(i)>0&&(o+=1),!s&&n%2===0&&(o+=1),o}return s?n-1:0};E.slidesOnLeft=Gd;var f3=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};E.canUseDOM=f3;var Gs={};function so(t){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(t)}Object.defineProperty(Gs,"__esModule",{value:!0});Gs.Track=void 0;var yt=Kd(p),_i=Kd(qs),mi=E;function Kd(t){return t&&t.__esModule?t:{default:t}}function io(){return io=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},io.apply(this,arguments)}function p3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ql(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _3(t,e,n){return e&&ql(t.prototype,e),n&&ql(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oo(t,e)}function oo(t,e){return oo=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},oo(t,e)}function g3(t){var e=y3();return function(){var r=rs(t),s;if(e){var i=rs(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return v3(this,s)}}function v3(t,e){if(e&&(so(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ao(t)}function ao(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rs(t){return rs=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},rs(t)}function Vl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vl(Object(n),!0).forEach(function(r){lo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gi=function(e){var n,r,s,i,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,s=o<0||o>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-i-1&&o<=e.currentSlide+i&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var l;e.targetSlide<0?l=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?l=e.targetSlide-e.slideCount:l=e.targetSlide;var c=o===l;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":s,"slick-current":c}},w3=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},vi=function(e,n){return e.key||n},x3=function(e){var n,r=[],s=[],i=[],o=yt.default.Children.count(e.children),l=(0,mi.lazyStartIndex)(e),c=(0,mi.lazyEndIndex)(e);return yt.default.Children.forEach(e.children,function(u,d){var h,f={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=u:h=yt.default.createElement("div",null);var _=w3(Ie(Ie({},e),{},{index:d})),g=h.props.className||"",v=gi(Ie(Ie({},e),{},{index:d}));if(r.push(yt.default.cloneElement(h,{key:"original"+vi(h,d),"data-index":d,className:(0,_i.default)(v,g),tabIndex:"-1","aria-hidden":!v["slick-active"],style:Ie(Ie({outline:"none"},h.props.style||{}),_),onClick:function(w){h.props&&h.props.onClick&&h.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var y=o-d;y<=(0,mi.getPreClones)(e)&&o!==e.slidesToShow&&(n=-y,n>=l&&(h=u),v=gi(Ie(Ie({},e),{},{index:n})),s.push(yt.default.cloneElement(h,{key:"precloned"+vi(h,n),"data-index":n,tabIndex:"-1",className:(0,_i.default)(v,g),"aria-hidden":!v["slick-active"],style:Ie(Ie({},h.props.style||{}),_),onClick:function(w){h.props&&h.props.onClick&&h.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(f)}}))),o!==e.slidesToShow&&(n=o+d,n<c&&(h=u),v=gi(Ie(Ie({},e),{},{index:n})),i.push(yt.default.cloneElement(h,{key:"postcloned"+vi(h,n),"data-index":n,tabIndex:"-1",className:(0,_i.default)(v,g),"aria-hidden":!v["slick-active"],style:Ie(Ie({},h.props.style||{}),_),onClick:function(w){h.props&&h.props.onClick&&h.props.onClick(w),e.focusOnSelect&&e.focusOnSelect(f)}})))}}),e.rtl?s.concat(r,i).reverse():s.concat(r,i)},b3=function(t){m3(n,t);var e=g3(n);function n(){var r;p3(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i)),lo(ao(r),"node",null),lo(ao(r),"handleRef",function(l){r.node=l}),r}return _3(n,[{key:"render",value:function(){var s=x3(this.props),i=this.props,o=i.onMouseEnter,l=i.onMouseOver,c=i.onMouseLeave,u={onMouseEnter:o,onMouseOver:l,onMouseLeave:c};return yt.default.createElement("div",io({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),s)}}]),n}(yt.default.PureComponent);Gs.Track=b3;var Ks={};function co(t){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(t)}Object.defineProperty(Ks,"__esModule",{value:!0});Ks.Dots=void 0;var Or=Yd(p),C3=Yd(qs),Gl=E;function Yd(t){return t&&t.__esModule?t:{default:t}}function Kl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function S3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kl(Object(n),!0).forEach(function(r){E3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k3(t,e,n){return e&&Yl(t.prototype,e),n&&Yl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uo(t,e)}function uo(t,e){return uo=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},uo(t,e)}function R3(t){var e=O3();return function(){var r=ss(t),s;if(e){var i=ss(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return I3(this,s)}}function I3(t,e){if(e&&(co(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j3(t)}function j3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ss(t){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ss(t)}var P3=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},L3=function(t){T3(n,t);var e=R3(n);function n(){return N3(this,n),e.apply(this,arguments)}return k3(n,[{key:"clickHandler",value:function(s,i){i.preventDefault(),this.props.clickHandler(s)}},{key:"render",value:function(){for(var s=this.props,i=s.onMouseEnter,o=s.onMouseOver,l=s.onMouseLeave,c=s.infinite,u=s.slidesToScroll,d=s.slidesToShow,h=s.slideCount,f=s.currentSlide,_=P3({slideCount:h,slidesToScroll:u,slidesToShow:d,infinite:c}),g={onMouseEnter:i,onMouseOver:o,onMouseLeave:l},v=[],y=0;y<_;y++){var b=(y+1)*u-1,w=c?b:(0,Gl.clamp)(b,0,h-1),S=w-(u-1),k=c?S:(0,Gl.clamp)(S,0,h-1),T=(0,C3.default)({"slick-active":c?f>=k&&f<=w:f===k}),P={message:"dots",index:y,slidesToScroll:u,currentSlide:f},ee=this.clickHandler.bind(this,P);v=v.concat(Or.default.createElement("li",{key:y,className:T},Or.default.cloneElement(this.props.customPaging(y),{onClick:ee})))}return Or.default.cloneElement(this.props.appendDots(v),S3({className:this.props.dotsClass},g))}}]),n}(Or.default.PureComponent);Ks.Dots=L3;var Sn={};function ho(t){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}Object.defineProperty(Sn,"__esModule",{value:!0});Sn.PrevArrow=Sn.NextArrow=void 0;var vn=Xd(p),Qd=Xd(qs),A3=E;function Xd(t){return t&&t.__esModule?t:{default:t}}function is(){return is=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},is.apply(this,arguments)}function Ql(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ql(Object(n),!0).forEach(function(r){D3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ql(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jd(t,e,n){return e&&Xl(t.prototype,e),n&&Xl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fo(t,e)}function fo(t,e){return fo=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},fo(t,e)}function th(t){var e=F3();return function(){var r=as(t),s;if(e){var i=as(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return M3(this,s)}}function M3(t,e){if(e&&(ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $3(t)}function $3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function as(t){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},as(t)}var B3=function(t){eh(n,t);var e=th(n);function n(){return Zd(this,n),e.apply(this,arguments)}return Jd(n,[{key:"clickHandler",value:function(s,i){i&&i.preventDefault(),this.props.clickHandler(s,i)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-prev":!0},i=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(s["slick-disabled"]=!0,i=null);var o={key:"0","data-role":"none",className:(0,Qd.default)(s),style:{display:"block"},onClick:i},l={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.prevArrow?c=vn.default.cloneElement(this.props.prevArrow,os(os({},o),l)):c=vn.default.createElement("button",is({key:"0",type:"button"},o)," ","Previous"),c}}]),n}(vn.default.PureComponent);Sn.PrevArrow=B3;var U3=function(t){eh(n,t);var e=th(n);function n(){return Zd(this,n),e.apply(this,arguments)}return Jd(n,[{key:"clickHandler",value:function(s,i){i&&i.preventDefault(),this.props.clickHandler(s,i)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-next":!0},i=this.clickHandler.bind(this,{message:"next"});(0,A3.canGoNext)(this.props)||(s["slick-disabled"]=!0,i=null);var o={key:"1","data-role":"none",className:(0,Qd.default)(s),style:{display:"block"},onClick:i},l={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},c;return this.props.nextArrow?c=vn.default.cloneElement(this.props.nextArrow,os(os({},o),l)):c=vn.default.createElement("button",is({key:"1",type:"button"},o)," ","Next"),c}}]),n}(vn.default.PureComponent);Sn.NextArrow=U3;var nh=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(s,i){return s[0]===n?(r=i,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(n,r){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,s=t(r,n);~s&&r.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,i=this.__entries__;s<i.length;s++){var o=i[s];n.call(r,o[1],o[0])}},e}()}(),po=typeof window<"u"&&typeof document<"u"&&window.document===document,ls=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),W3=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ls):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),z3=2;function H3(t,e){var n=!1,r=!1,s=0;function i(){n&&(n=!1,t()),r&&l()}function o(){W3(i)}function l(){var c=Date.now();if(n){if(c-s<z3)return;r=!0}else n=!0,r=!1,setTimeout(o,e);s=c}return l}var q3=20,V3=["top","right","bottom","left","width","height","size","weight"],G3=typeof MutationObserver<"u",K3=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=H3(this.refresh.bind(this),q3)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!po||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),G3?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!po||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,s=V3.some(function(i){return!!~r.indexOf(i)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),rh=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},En=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ls},sh=Ys(0,0,0,0);function cs(t){return parseFloat(t)||0}function Zl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,s){var i=t["border-"+s+"-width"];return r+cs(i)},0)}function Y3(t){for(var e=["top","right","bottom","left"],n={},r=0,s=e;r<s.length;r++){var i=s[r],o=t["padding-"+i];n[i]=cs(o)}return n}function Q3(t){var e=t.getBBox();return Ys(0,0,e.width,e.height)}function X3(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return sh;var r=En(t).getComputedStyle(t),s=Y3(r),i=s.left+s.right,o=s.top+s.bottom,l=cs(r.width),c=cs(r.height);if(r.boxSizing==="border-box"&&(Math.round(l+i)!==e&&(l-=Zl(r,"left","right")+i),Math.round(c+o)!==n&&(c-=Zl(r,"top","bottom")+o)),!J3(t)){var u=Math.round(l+i)-e,d=Math.round(c+o)-n;Math.abs(u)!==1&&(l-=u),Math.abs(d)!==1&&(c-=d)}return Ys(s.left,s.top,l,c)}var Z3=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof En(t).SVGGraphicsElement}:function(t){return t instanceof En(t).SVGElement&&typeof t.getBBox=="function"}}();function J3(t){return t===En(t).document.documentElement}function e9(t){return po?Z3(t)?Q3(t):X3(t):sh}function t9(t){var e=t.x,n=t.y,r=t.width,s=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return rh(o,{x:e,y:n,width:r,height:s,top:n,right:e+r,bottom:s+n,left:e}),o}function Ys(t,e,n,r){return{x:t,y:e,width:n,height:r}}var n9=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ys(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=e9(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),r9=function(){function t(e,n){var r=t9(n);rh(this,{target:e,contentRect:r})}return t}(),s9=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new nh,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof En(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new n9(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof En(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new r9(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),ih=typeof WeakMap<"u"?new WeakMap:new nh,oh=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=K3.getInstance(),r=new s9(e,n,this);ih.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){oh.prototype[t]=function(){var e;return(e=ih.get(this))[t].apply(e,arguments)}});var i9=function(){return typeof ls.ResizeObserver<"u"?ls.ResizeObserver:oh}();const o9=Object.freeze(Object.defineProperty({__proto__:null,default:i9},Symbol.toStringTag,{value:"Module"})),a9=Qh(o9);Object.defineProperty(Hs,"__esModule",{value:!0});Hs.InnerSlider=void 0;var Te=Sr(p),l9=Sr(Md),c9=Sr(e3),u9=Sr(qs),ce=E,d9=Gs,h9=Ks,Jl=Sn,f9=Sr(a9);function Sr(t){return t&&t.__esModule?t:{default:t}}function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function ds(){return ds=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ds.apply(this,arguments)}function p9(t,e){if(t==null)return{};var n=_9(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _9(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ec(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ec(Object(n),!0).forEach(function(r){q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g9(t,e,n){return e&&tc(t.prototype,e),n&&tc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_o(t,e)}function _o(t,e){return _o=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},_o(t,e)}function y9(t){var e=x9();return function(){var r=hs(t),s;if(e){var i=hs(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return w9(this,s)}}function w9(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}function H(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hs(t){return hs=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},hs(t)}function q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b9=function(t){v9(n,t);var e=y9(n);function n(r){var s;m9(this,n),s=e.call(this,r),q(H(s),"listRefHandler",function(o){return s.list=o}),q(H(s),"trackRefHandler",function(o){return s.track=o}),q(H(s),"adaptHeight",function(){if(s.props.adaptiveHeight&&s.list){var o=s.list.querySelector('[data-index="'.concat(s.state.currentSlide,'"]'));s.list.style.height=(0,ce.getHeight)(o)+"px"}}),q(H(s),"componentDidMount",function(){if(s.props.onInit&&s.props.onInit(),s.props.lazyLoad){var o=(0,ce.getOnDemandLazySlides)(R(R({},s.props),s.state));o.length>0&&(s.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),s.props.onLazyLoad&&s.props.onLazyLoad(o))}var l=R({listRef:s.list,trackRef:s.track},s.props);s.updateState(l,!0,function(){s.adaptHeight(),s.props.autoplay&&s.autoPlay("update")}),s.props.lazyLoad==="progressive"&&(s.lazyLoadTimer=setInterval(s.progressiveLazyLoad,1e3)),s.ro=new f9.default(function(){s.state.animating?(s.onWindowResized(!1),s.callbackTimers.push(setTimeout(function(){return s.onWindowResized()},s.props.speed))):s.onWindowResized()}),s.ro.observe(s.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(c){c.onfocus=s.props.pauseOnFocus?s.onSlideFocus:null,c.onblur=s.props.pauseOnFocus?s.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",s.onWindowResized):window.attachEvent("onresize",s.onWindowResized)}),q(H(s),"componentWillUnmount",function(){s.animationEndCallback&&clearTimeout(s.animationEndCallback),s.lazyLoadTimer&&clearInterval(s.lazyLoadTimer),s.callbackTimers.length&&(s.callbackTimers.forEach(function(o){return clearTimeout(o)}),s.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",s.onWindowResized):window.detachEvent("onresize",s.onWindowResized),s.autoplayTimer&&clearInterval(s.autoplayTimer),s.ro.disconnect()}),q(H(s),"componentDidUpdate",function(o){if(s.checkImagesLoad(),s.props.onReInit&&s.props.onReInit(),s.props.lazyLoad){var l=(0,ce.getOnDemandLazySlides)(R(R({},s.props),s.state));l.length>0&&(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(l)}}),s.props.onLazyLoad&&s.props.onLazyLoad(l))}s.adaptHeight();var c=R(R({listRef:s.list,trackRef:s.track},s.props),s.state),u=s.didPropsChange(o);u&&s.updateState(c,u,function(){s.state.currentSlide>=Te.default.Children.count(s.props.children)&&s.changeSlide({message:"index",index:Te.default.Children.count(s.props.children)-s.props.slidesToShow,currentSlide:s.state.currentSlide}),s.props.autoplay?s.autoPlay("update"):s.pause("paused")})}),q(H(s),"onWindowResized",function(o){s.debouncedResize&&s.debouncedResize.cancel(),s.debouncedResize=(0,c9.default)(function(){return s.resizeWindow(o)},50),s.debouncedResize()}),q(H(s),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,l=!!(s.track&&s.track.node);if(l){var c=R(R({listRef:s.list,trackRef:s.track},s.props),s.state);s.updateState(c,o,function(){s.props.autoplay?s.autoPlay("update"):s.pause("paused")}),s.setState({animating:!1}),clearTimeout(s.animationEndCallback),delete s.animationEndCallback}}),q(H(s),"updateState",function(o,l,c){var u=(0,ce.initializedState)(o);o=R(R(R({},o),u),{},{slideIndex:u.currentSlide});var d=(0,ce.getTrackLeft)(o);o=R(R({},o),{},{left:d});var h=(0,ce.getTrackCSS)(o);(l||Te.default.Children.count(s.props.children)!==Te.default.Children.count(o.children))&&(u.trackStyle=h),s.setState(u,c)}),q(H(s),"ssrInit",function(){if(s.props.variableWidth){var o=0,l=0,c=[],u=(0,ce.getPreClones)(R(R(R({},s.props),s.state),{},{slideCount:s.props.children.length})),d=(0,ce.getPostClones)(R(R(R({},s.props),s.state),{},{slideCount:s.props.children.length}));s.props.children.forEach(function(ee){c.push(ee.props.style.width),o+=ee.props.style.width});for(var h=0;h<u;h++)l+=c[c.length-1-h],o+=c[c.length-1-h];for(var f=0;f<d;f++)o+=c[f];for(var _=0;_<s.state.currentSlide;_++)l+=c[_];var g={width:o+"px",left:-l+"px"};if(s.props.centerMode){var v="".concat(c[s.state.currentSlide],"px");g.left="calc(".concat(g.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:g}}var y=Te.default.Children.count(s.props.children),b=R(R(R({},s.props),s.state),{},{slideCount:y}),w=(0,ce.getPreClones)(b)+(0,ce.getPostClones)(b)+y,S=100/s.props.slidesToShow*w,k=100/w,T=-k*((0,ce.getPreClones)(b)+s.state.currentSlide)*S/100;s.props.centerMode&&(T+=(100-k*S/100)/2);var P={width:S+"%",left:T+"%"};return{slideWidth:k+"%",trackStyle:P}}),q(H(s),"checkImagesLoad",function(){var o=s.list&&s.list.querySelectorAll&&s.list.querySelectorAll(".slick-slide img")||[],l=o.length,c=0;Array.prototype.forEach.call(o,function(u){var d=function(){return++c&&c>=l&&s.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(){h(),u.parentNode.focus()}}u.onload||(s.props.lazyLoad?u.onload=function(){s.adaptHeight(),s.callbackTimers.push(setTimeout(s.onWindowResized,s.props.speed))}:(u.onload=d,u.onerror=function(){d(),s.props.onLazyLoadError&&s.props.onLazyLoadError()}))})}),q(H(s),"progressiveLazyLoad",function(){for(var o=[],l=R(R({},s.props),s.state),c=s.state.currentSlide;c<s.state.slideCount+(0,ce.getPostClones)(l);c++)if(s.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}for(var u=s.state.currentSlide-1;u>=-(0,ce.getPreClones)(l);u--)if(s.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(o)}}),s.props.onLazyLoad&&s.props.onLazyLoad(o)):s.lazyLoadTimer&&(clearInterval(s.lazyLoadTimer),delete s.lazyLoadTimer)}),q(H(s),"slideHandler",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=s.props,u=c.asNavFor,d=c.beforeChange,h=c.onLazyLoad,f=c.speed,_=c.afterChange,g=s.state.currentSlide,v=(0,ce.slideHandler)(R(R(R({index:o},s.props),s.state),{},{trackRef:s.track,useCSS:s.props.useCSS&&!l})),y=v.state,b=v.nextState;if(y){d&&d(g,y.currentSlide);var w=y.lazyLoadedList.filter(function(S){return s.state.lazyLoadedList.indexOf(S)<0});h&&w.length>0&&h(w),!s.props.waitForAnimate&&s.animationEndCallback&&(clearTimeout(s.animationEndCallback),_&&_(g),delete s.animationEndCallback),s.setState(y,function(){u&&s.asNavForIndex!==o&&(s.asNavForIndex=o,u.innerSlider.slideHandler(o)),b&&(s.animationEndCallback=setTimeout(function(){var S=b.animating,k=p9(b,["animating"]);s.setState(k,function(){s.callbackTimers.push(setTimeout(function(){return s.setState({animating:S})},10)),_&&_(y.currentSlide),delete s.animationEndCallback})},f))})}}),q(H(s),"changeSlide",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=R(R({},s.props),s.state),u=(0,ce.changeSlide)(c,o);if(!(u!==0&&!u)&&(l===!0?s.slideHandler(u,l):s.slideHandler(u),s.props.autoplay&&s.autoPlay("update"),s.props.focusOnSelect)){var d=s.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),q(H(s),"clickHandler",function(o){s.clickable===!1&&(o.stopPropagation(),o.preventDefault()),s.clickable=!0}),q(H(s),"keyHandler",function(o){var l=(0,ce.keyHandler)(o,s.props.accessibility,s.props.rtl);l!==""&&s.changeSlide({message:l})}),q(H(s),"selectHandler",function(o){s.changeSlide(o)}),q(H(s),"disableBodyScroll",function(){var o=function(c){c=c||window.event,c.preventDefault&&c.preventDefault(),c.returnValue=!1};window.ontouchmove=o}),q(H(s),"enableBodyScroll",function(){window.ontouchmove=null}),q(H(s),"swipeStart",function(o){s.props.verticalSwiping&&s.disableBodyScroll();var l=(0,ce.swipeStart)(o,s.props.swipe,s.props.draggable);l!==""&&s.setState(l)}),q(H(s),"swipeMove",function(o){var l=(0,ce.swipeMove)(o,R(R(R({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));l&&(l.swiping&&(s.clickable=!1),s.setState(l))}),q(H(s),"swipeEnd",function(o){var l=(0,ce.swipeEnd)(o,R(R(R({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));if(l){var c=l.triggerSlideHandler;delete l.triggerSlideHandler,s.setState(l),c!==void 0&&(s.slideHandler(c),s.props.verticalSwiping&&s.enableBodyScroll())}}),q(H(s),"touchEnd",function(o){s.swipeEnd(o),s.clickable=!0}),q(H(s),"slickPrev",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"previous"})},0))}),q(H(s),"slickNext",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"next"})},0))}),q(H(s),"slickGoTo",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"index",index:o,currentSlide:s.state.currentSlide},l)},0))}),q(H(s),"play",function(){var o;if(s.props.rtl)o=s.state.currentSlide-s.props.slidesToScroll;else if((0,ce.canGoNext)(R(R({},s.props),s.state)))o=s.state.currentSlide+s.props.slidesToScroll;else return!1;s.slideHandler(o)}),q(H(s),"autoPlay",function(o){s.autoplayTimer&&clearInterval(s.autoplayTimer);var l=s.state.autoplaying;if(o==="update"){if(l==="hovered"||l==="focused"||l==="paused")return}else if(o==="leave"){if(l==="paused"||l==="focused")return}else if(o==="blur"&&(l==="paused"||l==="hovered"))return;s.autoplayTimer=setInterval(s.play,s.props.autoplaySpeed+50),s.setState({autoplaying:"playing"})}),q(H(s),"pause",function(o){s.autoplayTimer&&(clearInterval(s.autoplayTimer),s.autoplayTimer=null);var l=s.state.autoplaying;o==="paused"?s.setState({autoplaying:"paused"}):o==="focused"?(l==="hovered"||l==="playing")&&s.setState({autoplaying:"focused"}):l==="playing"&&s.setState({autoplaying:"hovered"})}),q(H(s),"onDotsOver",function(){return s.props.autoplay&&s.pause("hovered")}),q(H(s),"onDotsLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),q(H(s),"onTrackOver",function(){return s.props.autoplay&&s.pause("hovered")}),q(H(s),"onTrackLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),q(H(s),"onSlideFocus",function(){return s.props.autoplay&&s.pause("focused")}),q(H(s),"onSlideBlur",function(){return s.props.autoplay&&s.state.autoplaying==="focused"&&s.autoPlay("blur")}),q(H(s),"render",function(){var o=(0,u9.default)("slick-slider",s.props.className,{"slick-vertical":s.props.vertical,"slick-initialized":!0}),l=R(R({},s.props),s.state),c=(0,ce.extractObject)(l,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=s.props.pauseOnHover;c=R(R({},c),{},{onMouseEnter:u?s.onTrackOver:null,onMouseLeave:u?s.onTrackLeave:null,onMouseOver:u?s.onTrackOver:null,focusOnSelect:s.props.focusOnSelect&&s.clickable?s.selectHandler:null});var d;if(s.props.dots===!0&&s.state.slideCount>=s.props.slidesToShow){var h=(0,ce.extractObject)(l,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=s.props.pauseOnDotsHover;h=R(R({},h),{},{clickHandler:s.changeSlide,onMouseEnter:f?s.onDotsLeave:null,onMouseOver:f?s.onDotsOver:null,onMouseLeave:f?s.onDotsLeave:null}),d=Te.default.createElement(h9.Dots,h)}var _,g,v=(0,ce.extractObject)(l,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=s.changeSlide,s.props.arrows&&(_=Te.default.createElement(Jl.PrevArrow,v),g=Te.default.createElement(Jl.NextArrow,v));var y=null;s.props.vertical&&(y={height:s.state.listHeight});var b=null;s.props.vertical===!1?s.props.centerMode===!0&&(b={padding:"0px "+s.props.centerPadding}):s.props.centerMode===!0&&(b={padding:s.props.centerPadding+" 0px"});var w=R(R({},y),b),S=s.props.touchMove,k={className:"slick-list",style:w,onClick:s.clickHandler,onMouseDown:S?s.swipeStart:null,onMouseMove:s.state.dragging&&S?s.swipeMove:null,onMouseUp:S?s.swipeEnd:null,onMouseLeave:s.state.dragging&&S?s.swipeEnd:null,onTouchStart:S?s.swipeStart:null,onTouchMove:s.state.dragging&&S?s.swipeMove:null,onTouchEnd:S?s.touchEnd:null,onTouchCancel:s.state.dragging&&S?s.swipeEnd:null,onKeyDown:s.props.accessibility?s.keyHandler:null},T={className:o,dir:"ltr",style:s.props.style};return s.props.unslick&&(k={className:"slick-list"},T={className:o}),Te.default.createElement("div",T,s.props.unslick?"":_,Te.default.createElement("div",ds({ref:s.listRefHandler},k),Te.default.createElement(d9.Track,ds({ref:s.trackRefHandler},c),s.props.children)),s.props.unslick?"":g,s.props.unslick?"":d)}),s.list=null,s.track=null,s.state=R(R({},l9.default),{},{currentSlide:s.props.initialSlide,slideCount:Te.default.Children.count(s.props.children)}),s.callbackTimers=[],s.clickable=!0,s.debouncedResize=null;var i=s.ssrInit();return s.state=R(R({},s.state),i),s}return g9(n,[{key:"didPropsChange",value:function(s){for(var i=!1,o=0,l=Object.keys(this.props);o<l.length;o++){var c=l[o];if(!s.hasOwnProperty(c)){i=!0;break}if(!(us(s[c])==="object"||typeof s[c]=="function")&&s[c]!==this.props[c]){i=!0;break}}return i||Te.default.Children.count(this.props.children)!==Te.default.Children.count(s.children)}}]),n}(Te.default.Component);Hs.InnerSlider=b9;var C9=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},S9=C9,E9=S9,N9=function(t){var e=/[height|width]$/;return e.test(t)},nc=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,s){var i=t[r];r=E9(r),N9(r)&&typeof i=="number"&&(i=i+"px"),i===!0?e+=r:i===!1?e+="not "+r:e+="("+r+": "+i+")",s<n.length-1&&(e+=" and ")}),e},k9=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=nc(n),r<t.length-1&&(e+=", ")}),e):nc(t)},T9=k9,ah={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(p);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},s=r;t.default=s})(ah);var yi,rc;function R9(){if(rc)return yi;rc=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},yi=t,yi}var wi,sc;function lh(){if(sc)return wi;sc=1;function t(r,s){var i=0,o=r.length,l;for(i;i<o&&(l=s(r[i],i),l!==!1);i++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return wi={isFunction:n,isArray:e,each:t},wi}var xi,ic;function I9(){if(ic)return xi;ic=1;var t=R9(),e=lh().each;function n(r,s){this.query=r,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(r);var i=this;this.listener=function(o){i.mql=o.currentTarget||o,i.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var s=new t(r);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(r){var s=this.handlers;e(s,function(i,o){if(i.equals(r))return i.destroy(),!s.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(s){s[r]()})}},xi=n,xi}var bi,oc;function j9(){if(oc)return bi;oc=1;var t=I9(),e=lh(),n=e.each,r=e.isFunction,s=e.isArray;function i(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return i.prototype={constructor:i,register:function(o,l,c){var u=this.queries,d=c&&this.browserIsIncapable;return u[o]||(u[o]=new t(o,d)),r(l)&&(l={match:l}),s(l)||(l=[l]),n(l,function(h){r(h)&&(h={match:h}),u[o].addHandler(h)}),this},unregister:function(o,l){var c=this.queries[o];return c&&(l?c.removeHandler(l):(c.clear(),delete this.queries[o])),this}},bi=i,bi}var Ci,ac;function O9(){if(ac)return Ci;ac=1;var t=j9();return Ci=new t,Ci}(function(t){function e(N){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},e(N)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(p),r=Hs,s=l(T9),i=l(ah),o=E;function l(N){return N&&N.__esModule?N:{default:N}}function c(){return c=Object.assign||function(N){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var F in D)Object.prototype.hasOwnProperty.call(D,F)&&(N[F]=D[F])}return N},c.apply(this,arguments)}function u(N,C){var D=Object.keys(N);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(N);C&&(F=F.filter(function(L){return Object.getOwnPropertyDescriptor(N,L).enumerable})),D.push.apply(D,F)}return D}function d(N){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?u(Object(D),!0).forEach(function(F){T(N,F,D[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(D)):u(Object(D)).forEach(function(F){Object.defineProperty(N,F,Object.getOwnPropertyDescriptor(D,F))})}return N}function h(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function f(N,C){for(var D=0;D<C.length;D++){var F=C[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(N,F.key,F)}}function _(N,C,D){return C&&f(N.prototype,C),D&&f(N,D),Object.defineProperty(N,"prototype",{writable:!1}),N}function g(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(C&&C.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),C&&v(N,C)}function v(N,C){return v=Object.setPrototypeOf||function(F,L){return F.__proto__=L,F},v(N,C)}function y(N){var C=S();return function(){var F=k(N),L;if(C){var A=k(this).constructor;L=Reflect.construct(F,arguments,A)}else L=F.apply(this,arguments);return b(this,L)}}function b(N,C){if(C&&(e(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(N)}function w(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(N){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},k(N)}function T(N,C,D){return C in N?Object.defineProperty(N,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):N[C]=D,N}var P=(0,o.canUseDOM)()&&O9(),ee=function(N){g(D,N);var C=y(D);function D(F){var L;return h(this,D),L=C.call(this,F),T(w(L),"innerSliderRefHandler",function(A){return L.innerSlider=A}),T(w(L),"slickPrev",function(){return L.innerSlider.slickPrev()}),T(w(L),"slickNext",function(){return L.innerSlider.slickNext()}),T(w(L),"slickGoTo",function(A){var Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return L.innerSlider.slickGoTo(A,Mt)}),T(w(L),"slickPause",function(){return L.innerSlider.pause("paused")}),T(w(L),"slickPlay",function(){return L.innerSlider.autoPlay("play")}),L.state={breakpoint:null},L._responsiveMediaHandlers=[],L}return _(D,[{key:"media",value:function(L,A){P.register(L,A),this._responsiveMediaHandlers.push({query:L,handler:A})}},{key:"componentDidMount",value:function(){var L=this;if(this.props.responsive){var A=this.props.responsive.map(function(Se){return Se.breakpoint});A.sort(function(Se,ut){return Se-ut}),A.forEach(function(Se,ut){var cn;ut===0?cn=(0,s.default)({minWidth:0,maxWidth:Se}):cn=(0,s.default)({minWidth:A[ut-1]+1,maxWidth:Se}),(0,o.canUseDOM)()&&L.media(cn,function(){L.setState({breakpoint:Se})})});var Mt=(0,s.default)({minWidth:A.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Mt,function(){L.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(L){P.unregister(L.query,L.handler)})}},{key:"render",value:function(){var L=this,A,Mt;this.state.breakpoint?(Mt=this.props.responsive.filter(function(Dn){return Dn.breakpoint===L.state.breakpoint}),A=Mt[0].settings==="unslick"?"unslick":d(d(d({},i.default),this.props),Mt[0].settings)):A=d(d({},i.default),this.props),A.centerMode&&(A.slidesToScroll>1,A.slidesToScroll=1),A.fade&&(A.slidesToShow>1,A.slidesToScroll>1,A.slidesToShow=1,A.slidesToScroll=1);var Se=n.default.Children.toArray(this.props.children);Se=Se.filter(function(Dn){return typeof Dn=="string"?!!Dn.trim():!!Dn}),A.variableWidth&&(A.rows>1||A.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),A.variableWidth=!1);for(var ut=[],cn=null,gt=0;gt<Se.length;gt+=A.rows*A.slidesPerRow){for(var Qs=[],un=gt;un<gt+A.rows*A.slidesPerRow;un+=A.slidesPerRow){for(var Ta=[],$t=un;$t<un+A.slidesPerRow&&(A.variableWidth&&Se[$t].props.style&&(cn=Se[$t].props.style.width),!($t>=Se.length));$t+=1)Ta.push(n.default.cloneElement(Se[$t],{key:100*gt+10*un+$t,tabIndex:-1,style:{width:"".concat(100/A.slidesPerRow,"%"),display:"inline-block"}}));Qs.push(n.default.createElement("div",{key:10*gt+un},Ta))}A.variableWidth?ut.push(n.default.createElement("div",{key:gt,style:{width:cn}},Qs)):ut.push(n.default.createElement("div",{key:gt},Qs))}if(A==="unslick"){var Gh="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:Gh},Se)}else ut.length<=A.slidesToShow&&(A.unslick=!0);return n.default.createElement(r.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},A),ut)}}]),D}(n.default.Component);t.default=ee})(Dd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Dd);function n(s){return s&&s.__esModule?s:{default:s}}var r=e.default;t.default=r})(Ad);const Er=dc(Ad),P9="_arrow_lo63r_1",L9="_arrow_Prev_lo63r_34",A9="_disabled_lo63r_42",D9="_arrow_Next_lo63r_47",hn={arrow:P9,arrow_Prev:L9,disabled:A9,arrow_Next:D9};en.propTypes={vector:m.string.isRequired,clickAction:m.func.isRequired,currentSlide:m.number.isRequired,slider:m.object.isRequired};function en({vector:t,clickAction:e,currentSlide:n,slider:r}){const[s,i]=p.useState(null),[o,l]=p.useState(null);return p.useEffect(()=>{l(r.current.props.children.length)},[r]),p.useEffect(()=>{t==="prev"?i(n===0):n===o-1?i(!0):i(!1)},[n,o,t]),a.jsx("button",{className:t==="prev"?hn.arrow+" "+hn.arrow_Prev+" "+(s?hn.disabled:null):hn.arrow+" "+hn.arrow_Next+" "+(s?hn.disabled:null),onClick:()=>e(),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"35",viewBox:"0 0 18 35",fill:"none",children:a.jsx("path",{d:"M3.07627 17.5L17.6263 2.23655C17.7461 2.11355 17.8408 1.96751 17.9049 1.8069C17.9691 1.64629 18.0014 1.47429 18 1.30085C17.9985 1.12741 17.9635 0.955976 17.8967 0.796473C17.83 0.63697 17.7329 0.492563 17.6111 0.371607C17.4893 0.250651 17.3453 0.155549 17.1872 0.0918035C17.0292 0.0280584 16.8604 -0.0030639 16.6905 0.00023769C16.5206 0.00353928 16.3531 0.0411993 16.1975 0.111038C16.042 0.180877 15.9016 0.281508 15.7844 0.407108L0.363989 16.5853C0.130589 16.8302 0 17.1583 0 17.5C0 17.8417 0.130589 18.1698 0.363989 18.4147L15.7844 34.5929C15.9016 34.7185 16.042 34.8191 16.1975 34.889C16.3531 34.9588 16.5206 34.9965 16.6905 34.9998C16.8604 35.0031 17.0292 34.9719 17.1872 34.9082C17.3453 34.8445 17.4893 34.7494 17.6111 34.6284C17.7329 34.5074 17.83 34.363 17.8967 34.2035C17.9635 34.044 17.9985 33.8726 18 33.6992C18.0014 33.5257 17.9691 33.3537 17.9049 33.1931C17.8408 33.0325 17.7461 32.8865 17.6263 32.7634L3.07627 17.5Z",fill:"black"})})})}const M9="_arrow_pz7w5_1",$9="_arrow_Prev_pz7w5_34",F9="_disabled_pz7w5_42",B9="_arrow_Next_pz7w5_47",fn={arrow:M9,arrow_Prev:$9,disabled:F9,arrow_Next:B9};hr.propTypes={vector:m.string.isRequired,clickAction:m.func.isRequired,currentSlide:m.number,slider:m.object.isRequired};function hr({vector:t,clickAction:e,currentSlide:n,slider:r}){const[s,i]=p.useState(null),[o,l]=p.useState(null);return p.useEffect(()=>{l(r.current.props.children.length)},[r]),p.useEffect(()=>{t==="prev"?i(n===0):n===o-1?i(!0):i(!1)},[n,o,t]),a.jsx("button",{className:t==="prev"?fn.arrow+" "+fn.arrow_Prev+" "+(s?fn.disabled:null):fn.arrow+" "+fn.arrow_Next+" "+(s?fn.disabled:null),onClick:()=>e(),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"25",viewBox:"0 0 13 25",fill:"none",children:a.jsx("path",{d:"M2.36057 12.4999L12.4337 1.9329C12.5166 1.84775 12.5822 1.74665 12.6266 1.63545C12.671 1.52426 12.6933 1.40518 12.6924 1.28511C12.6914 1.16503 12.6671 1.04635 12.6209 0.935926C12.5747 0.825501 12.5075 0.725526 12.4232 0.641788C12.3388 0.558049 12.2391 0.492209 12.1297 0.448078C12.0203 0.403947 11.9034 0.3824 11.7858 0.384686C11.6682 0.386972 11.5522 0.413044 11.4445 0.461394C11.3368 0.509744 11.2396 0.579412 11.1585 0.666365L0.482836 11.8666C0.321251 12.0362 0.230844 12.2634 0.230844 12.4999C0.230844 12.7364 0.321251 12.9636 0.482836 13.1332L11.1585 24.3334C11.2396 24.4204 11.3368 24.4901 11.4445 24.5384C11.5522 24.5868 11.6682 24.6128 11.7858 24.6151C11.9034 24.6174 12.0203 24.5959 12.1297 24.5517C12.2391 24.5076 12.3388 24.4418 12.4232 24.358C12.5075 24.2743 12.5747 24.1743 12.6209 24.0639C12.6671 23.9535 12.6914 23.8348 12.6924 23.7147C12.6933 23.5946 12.671 23.4756 12.6266 23.3644C12.5822 23.2532 12.5166 23.1521 12.4337 23.0669L2.36057 12.4999Z",fill:"white"})})})}ch.propTypes={renderSlide:m.func.isRequired,afterChange:m.func,setSlider:m.func,isArrow:m.bool.isRequired,dark:m.bool,otherSlider:m.object};function ch({renderSlide:t,afterChange:e,setSlider:n,isArrow:r,dark:s,otherSlider:i}){const o=p.useRef(null),[l,c]=p.useState(0);p.useEffect(()=>{n&&n(o.current)},[o,n]);const u={arrows:r,dots:!1,infinite:!1,lazyLoad:!0,speed:500,slidesToShow:1,slidesToScroll:1,prevArrow:s?a.jsx(hr,{vector:"prev",clickAction:()=>{o.current.slickPrev(),i&&i.slickPrev()},currentSlide:Number(l),slider:o}):a.jsx(en,{vector:"prev",clickAction:()=>{o.current.slickPrev(),i&&i.slickPrev()},currentSlide:Number(l),slider:o}),nextArrow:s?a.jsx(hr,{vector:"next",clickAction:()=>{o.current.slickNext(),i&&i.slickNext()},currentSlide:Number(l),slider:o}):a.jsx(en,{vector:"next",clickAction:()=>{o.current.slickNext(),i&&i.slickNext()},currentSlide:Number(l),slider:o}),afterChange:d=>{c(d),e&&e(d)}};return a.jsx(Er,{ref:o,...u,children:t()})}const U9="_newsSlider_xntux_1",W9="_slider_xntux_16",z9="_slide_xntux_16",H9="_wrapperSlider_xntux_44",q9="_title_xntux_62",V9="_desktop_xntux_74",G9="_mobile_xntux_78",K9="_date_xntux_92",Y9="_like_xntux_119",Q9="_like__wrapper_xntux_134",X9="_count_xntux_152",Z9="_wrapper_xntux_44",J9="_image_xntux_179",ex="_active_xntux_193",tx="_content_xntux_207",nx="_description_xntux_222",rx="_bold_xntux_257",sx="_read_xntux_260",ix="_circles_xntux_287",ox="_first_xntux_287",ax="_second_xntux_288",lx="_third_xntux_289",cx="_fourd_xntux_290",ux="_subNewsSlider_xntux_389",dx="_news_xntux_1",hx="_newsItem_xntux_458",fx="_rigth_btn_xntux_491",M={newsSlider:U9,slider:W9,slide:z9,wrapperSlider:H9,title:q9,desktop:V9,mobile:G9,date:K9,like:Y9,like__wrapper:Q9,count:X9,wrapper:Z9,image:J9,active:ex,content:tx,description:nx,bold:rx,read:sx,circles:ix,first:ox,second:ax,third:lx,fourd:cx,subNewsSlider:ux,news:dx,newsItem:hx,rigth_btn:fx};uh.propTypes={news:m.object,goToPage:m.func};function uh({news:t,goToPage:e}){const[n,r]=p.useState(!1);return p.useEffect(()=>{const s=new Image;s.src=t.image,s.onload=()=>{r(!0)}},[t.image]),a.jsx("div",{className:M.slide,children:a.jsxs("div",{className:M.wrapperSlider,children:[a.jsxs("h3",{className:M.title+" "+M.desktop,children:[Ee(t.title,50)," "]}),a.jsxs("div",{className:M.wrapper,children:[a.jsx("div",{className:n?M.image+" "+M.active:M.image,style:{backgroundImage:`url(${t.image})`}}),a.jsx("div",{className:M.date+" "+M.mobile,children:t.date}),a.jsx("h3",{className:M.title+" "+M.mobile,children:Ee(t.title,30)}),a.jsxs("div",{className:M.content,children:[a.jsxs("div",{className:M.description,children:[t.text&&t.text[0]&&a.jsx("p",{children:Ee(t.text[0].value,192)}),t.text&&t.text[1]&&a.jsx("p",{children:Ee(t.text[1].value,192)})]}),a.jsx("button",{className:M.read,onClick:()=>e(t),children:"читати"})]})]}),a.jsx("div",{className:M.date+" "+M.desktop,children:t.date}),a.jsx("div",{className:M.like,children:a.jsxs("div",{className:M.like__wrapper,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",children:a.jsx("path",{d:"M30.69 9.85875C30.5236 9.20739 30.2667 8.58256 29.9269 8.0025C29.6004 7.39907 29.1831 6.8495 28.6894 6.37312C27.9736 5.65977 27.126 5.09237 26.1937 4.7025C24.3172 3.93234 22.2128 3.93234 20.3362 4.7025C19.4551 5.07548 18.6455 5.5989 17.9437 6.24937L17.8406 6.37312L16.5 7.71375L15.1594 6.37312L15.0562 6.24937C14.3545 5.5989 13.5449 5.07548 12.6637 4.7025C10.7872 3.93234 8.68279 3.93234 6.80624 4.7025C5.87395 5.09237 5.02635 5.65977 4.31061 6.37312C3.33167 7.32565 2.63869 8.53301 2.30999 9.85875C2.13512 10.532 2.05187 11.2257 2.06249 11.9212C2.06249 12.5771 2.14499 13.2289 2.30999 13.86C2.48289 14.4995 2.73219 15.1158 3.05249 15.6956C3.3984 16.2917 3.82142 16.8395 4.31061 17.325L16.5 29.5144L28.6894 17.325C29.1782 16.8465 29.5969 16.2979 29.9269 15.6956C30.5967 14.5512 30.9459 13.2473 30.9375 11.9212C30.9482 11.2257 30.8649 10.532 30.69 9.85875Z",fill:"#FF0000"})}),a.jsx("div",{className:M.count,children:t.likes})]})}),a.jsxs("div",{className:M.circles,children:[a.jsx("div",{className:M.first}),a.jsx("div",{className:M.second}),a.jsx("div",{className:M.third}),a.jsx("div",{className:M.fourd})]})]})})}dh.propTypes={slides:m.array,goToPage:m.func,setActiveSlide:m.func,setSlider:m.func};function dh({slides:t,goToPage:e,setActiveSlide:n,setSlider:r}){const s=()=>t.map((i,o)=>a.jsx(uh,{news:i,goToPage:e},o));return a.jsxs("section",{className:M.newsSlider,children:[a.jsx("div",{className:M.slider,children:a.jsx(ch,{renderSlide:s,afterChange:i=>n(i),setSlider:r,isArrow:!0})}),a.jsx("div",{className:M.circles,children:a.jsx("div",{className:M.first})})]})}const px="_pagination_wrapper_k3it2_1",_x="_pagination_k3it2_1",mx="_page_link_k3it2_22",gx="_active_k3it2_29",vx="_arrow_k3it2_32",Je={pagination_wrapper:px,pagination:_x,page_link:mx,active:gx,arrow:vx};hh.propTypes={newsPerPage:m.number.isRequired,totalNews:m.number.isRequired,paginate:m.func.isRequired,currentPage:m.number.isRequired};function hh({newsPerPage:t,totalNews:e,paginate:n,currentPage:r}){const s=[];for(let i=1;i<=Math.ceil(e/t);i++)s.push(i);return a.jsxs("div",{className:Je.pagination_wrapper,children:[a.jsx("button",{className:Je.arrow,onClick:()=>n(r===1?r:--r),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"23",viewBox:"0 0 11 23",fill:"none",children:a.jsx("path",{d:"M1.87994 11.5L10.7716 1.90583C10.8448 1.82852 10.9027 1.73672 10.9419 1.63577C10.9811 1.53481 11.0008 1.42669 11 1.31767C10.9991 1.20866 10.9777 1.1009 10.9369 1.00064C10.8961 0.900381 10.8368 0.809611 10.7623 0.733581C10.6879 0.657552 10.5999 0.597773 10.5033 0.557705C10.4067 0.517637 10.3036 0.498074 10.1998 0.500149C10.0959 0.502225 9.99354 0.525897 9.89849 0.569795C9.80345 0.613694 9.71764 0.676948 9.64603 0.755896L0.222437 10.925C0.0798035 11.079 -9.53674e-07 11.2852 -9.53674e-07 11.5C-9.53674e-07 11.7148 0.0798035 11.921 0.222437 12.075L9.64603 22.2441C9.71764 22.3231 9.80345 22.3863 9.89849 22.4302C9.99354 22.4741 10.0959 22.4978 10.1998 22.4999C10.3036 22.5019 10.4067 22.4824 10.5033 22.4423C10.5999 22.4022 10.6879 22.3425 10.7623 22.2664C10.8368 22.1904 10.8961 22.0996 10.9369 21.9994C10.9777 21.8991 10.9991 21.7913 11 21.6823C11.0008 21.5733 10.9811 21.4652 10.9419 21.3642C10.9027 21.2633 10.8448 21.1715 10.7716 21.0942L1.87994 11.5Z",fill:"black",fillOpacity:r===1?.35:1})})}),a.jsx("ul",{className:Je.pagination,children:s.map(i=>a.jsx("li",{className:r===i?Je.page_link+" "+Je.active:Je.page_link,onClick:()=>n(i),children:a.jsx("a",{className:r===i?Je.page_link+" "+Je.active:Je.page_link,children:i})},i))}),a.jsx("button",{className:Je.arrow,onClick:()=>n(r===s.length?r:++r),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"23",viewBox:"0 0 11 23",fill:"none",children:a.jsx("path",{d:"M9.12006 11.5L0.228377 1.90583C0.15517 1.82852 0.0972944 1.73672 0.0580983 1.63577C0.0189023 1.53481 -0.000835492 1.42669 2.70997e-05 1.31767C0.000889691 1.20866 0.022335 1.1009 0.0631231 1.00064C0.103911 0.900381 0.163232 0.809611 0.237652 0.733581C0.312072 0.657552 0.400114 0.597773 0.496683 0.557705C0.593252 0.517637 0.696431 0.498074 0.800248 0.500149C0.904065 0.502225 1.00646 0.525897 1.10151 0.569795C1.19655 0.613694 1.28236 0.676948 1.35397 0.755896L10.7776 10.925C10.9202 11.079 11 11.2852 11 11.5C11 11.7148 10.9202 11.921 10.7776 12.075L1.35397 22.2441C1.28236 22.3231 1.19655 22.3863 1.10151 22.4302C1.00646 22.4741 0.904065 22.4978 0.800248 22.4999C0.696431 22.5019 0.593252 22.4824 0.496683 22.4423C0.400114 22.4022 0.312072 22.3425 0.237652 22.2664C0.163232 22.1904 0.103911 22.0996 0.0631231 21.9994C0.022335 21.8991 0.000889691 21.7913 2.70997e-05 21.6823C-0.000835492 21.5733 0.0189023 21.4652 0.0580983 21.3642C0.0972944 21.2633 0.15517 21.1715 0.228377 21.0942L9.12006 11.5Z",fill:"black",fillOpacity:r===s.length?.35:1})})})]})}const yx="_newsItem_1ing4_1",wx="_active_1ing4_18",xx="_title_1ing4_21",bx="_info_1ing4_27",Cx="_date_1ing4_34",Sx="_like_1ing4_39",Ex="_like__wrapper_1ing4_44",Nx="_count_1ing4_57",dt={newsItem:yx,active:wx,title:xx,info:bx,date:Cx,like:Sx,like__wrapper:Ex,count:Nx};fh.propTypes={currentNews:m.array.isRequired,activeSlide:m.number.isRequired,btnHandler:m.func.isRequired};function fh({currentNews:t,activeSlide:e,btnHandler:n}){const[r,s]=p.useState([]);return p.useEffect(()=>{s(t)},[t]),a.jsx(a.Fragment,{children:r&&r.map((i,o)=>a.jsxs("div",{className:o===e?dt.newsItem+" "+dt.active:dt.newsItem,onClick:()=>n(i,o),children:[a.jsx("div",{className:dt.title,children:Ee(i.title,30)}),a.jsxs("div",{className:dt.info,children:[a.jsx("div",{className:dt.date,children:i.date}),a.jsx("div",{className:dt.like,children:a.jsxs("div",{className:dt.like__wrapper,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",children:a.jsx("path",{d:"M30.69 9.85875C30.5236 9.20739 30.2667 8.58256 29.9269 8.0025C29.6004 7.39907 29.1831 6.8495 28.6894 6.37312C27.9736 5.65977 27.126 5.09237 26.1937 4.7025C24.3172 3.93234 22.2128 3.93234 20.3362 4.7025C19.4551 5.07548 18.6455 5.5989 17.9437 6.24937L17.8406 6.37312L16.5 7.71375L15.1594 6.37312L15.0562 6.24937C14.3545 5.5989 13.5449 5.07548 12.6637 4.7025C10.7872 3.93234 8.68279 3.93234 6.80624 4.7025C5.87395 5.09237 5.02635 5.65977 4.31061 6.37312C3.33167 7.32565 2.63869 8.53301 2.30999 9.85875C2.13512 10.532 2.05187 11.2257 2.06249 11.9212C2.06249 12.5771 2.14499 13.2289 2.30999 13.86C2.48289 14.4995 2.73219 15.1158 3.05249 15.6956C3.3984 16.2917 3.82142 16.8395 4.31061 17.325L16.5 29.5144L28.6894 17.325C29.1782 16.8465 29.5969 16.2979 29.9269 15.6956C30.5967 14.5512 30.9459 13.2473 30.9375 11.9212C30.9482 11.2257 30.8649 10.532 30.69 9.85875Z",fill:"#FF0000"})}),a.jsx("div",{className:dt.count,children:i.likes})]})})]})]},o))})}ph.propTypes={slides:m.array,activeSlide:m.number,btnHandler:m.func,currentNews:m.array,newsPerPage:m.number,paginate:m.func,currentPage:m.number};function ph({slides:t,activeSlide:e,btnHandler:n,currentNews:r,newsPerPage:s,paginate:i,currentPage:o}){const l=()=>t.map((c,u)=>a.jsxs("button",{className:u===e?M.newsItem+" "+M.active:M.newsItem,onClick:()=>n(c,u),children:[a.jsx("div",{className:M.title,children:Ee(c.title,50)}),a.jsxs("div",{className:M.rigth_btn,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",children:a.jsx("path",{d:"M30.69 9.85875C30.5236 9.20739 30.2667 8.58256 29.9269 8.0025C29.6004 7.39907 29.1831 6.8495 28.6894 6.37312C27.9736 5.65977 27.126 5.09237 26.1937 4.7025C24.3172 3.93234 22.2128 3.93234 20.3362 4.7025C19.4551 5.07548 18.6455 5.5989 17.9437 6.24937L17.8406 6.37312L16.5 7.71375L15.1594 6.37312L15.0562 6.24937C14.3545 5.5989 13.5449 5.07548 12.6637 4.7025C10.7872 3.93234 8.68279 3.93234 6.80624 4.7025C5.87395 5.09237 5.02635 5.65977 4.31061 6.37312C3.33167 7.32565 2.63869 8.53301 2.30999 9.85875C2.13512 10.532 2.05187 11.2257 2.06249 11.9212C2.06249 12.5771 2.14499 13.2289 2.30999 13.86C2.48289 14.4995 2.73219 15.1158 3.05249 15.6956C3.3984 16.2917 3.82142 16.8395 4.31061 17.325L16.5 29.5144L28.6894 17.325C29.1782 16.8465 29.5969 16.2979 29.9269 15.6956C30.5967 14.5512 30.9459 13.2473 30.9375 11.9212C30.9482 11.2257 30.8649 10.532 30.69 9.85875Z",fill:"#FF0000"})}),a.jsx("div",{className:M.count,children:c.likes}),a.jsx("div",{className:M.date,children:c.date})]})]},u));return a.jsxs("section",{className:M.subNewsSlider,children:[a.jsx("h3",{children:"Новини"}),a.jsx("div",{className:M.news+" "+M.desktop,children:l()}),a.jsx("div",{className:M.news+" "+M.mobile,children:a.jsx(fh,{currentNews:r,activeSlide:e,btnHandler:n})}),a.jsx(hh,{newsPerPage:s,totalNews:t.length,paginate:i,currentPage:o}),a.jsx("div",{className:M.circles,children:a.jsx("div",{className:M.first})})]})}function kx(){const[t,e]=p.useState(1),[n,r]=p.useState(0),[s,i]=p.useState(null),[o,l]=p.useState([]),[c]=p.useState(3),u=wo(),d=t*c,h=d-c,f=o.slice(h,d),_=zs("/data/news"),g=w=>e(w),v=w=>s.slickGoTo(w)&&r(w),y=w=>u(`/news/${w.key}`),b=(w,S)=>y(w)&&v(S);return p.useEffect(()=>{ln(_,l,!0)},[_]),a.jsxs(a.Fragment,{children:[a.jsx(dh,{slides:o,goToPage:y,setActiveSlide:r,setSlider:i}),a.jsx(ph,{slides:o,activeSlide:n,btnHandler:b,currentNews:f,newsPerPage:c,paginate:g,currentPage:t})]})}function Tx(){return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
                    @media screen and (max-width: 768px) { 
                        .feedback {
                            display: none;
                        }  
                    }
                `}),a.jsx(kx,{}),a.jsx("div",{className:"feedback",children:a.jsx(Ln,{})})]})}const Rx=async(t,e,n)=>{try{const r=Ws.ref("data/news"),i=(await r.once("value")).val();if(i){const o=Object.values(i).find(u=>u.key===t),l=JSON.parse(localStorage.getItem("news"))||[],c=l.findIndex(u=>u===t);if(o){c!==-1?(l.splice(c,1),o.likes=Number(o.likes)-1):(l.push(t),o.likes=Number(o.likes)+1),localStorage.setItem("news",JSON.stringify(l)),await r.set(i),e(o);const u=JSON.parse(localStorage.getItem("news"))||[];n(u.includes(t))}}}catch(r){console.error("Помилка оновлення лайків:",r)}},Ix=async(t,e)=>{try{const s=(await Ws.ref("data/news").once("value")).val();if(s){const i=Object.values(s).find(o=>o.key===t);e(i)}}catch(n){console.error("Error fetching memorials:",n)}},_h=""+new URL("../img/heart.svg",import.meta.url).href,jx="_NewsDetailes_1xydo_1",Ox="_news_wrapper_1xydo_14",Px="_back__wrapper_1xydo_32",Lx="_back_1xydo_32",Ax="_text_1xydo_75",Dx="_wrapper_1xydo_87",Mx="_title_1xydo_95",$x="_news__image_1xydo_115",Fx="_active_1xydo_127",Bx="_texts_1xydo_140",Ux="_bold_1xydo_164",Wx="_bottom_wrapper_1xydo_168",zx="_date_1xydo_176",Hx="_likes_1xydo_188",qx="_heart_1xydo_207",Vx="_count_1xydo_213",Gx="_circles_1xydo_223",Kx="_first_1xydo_223",Yx="_second_1xydo_224",Qx="_third_1xydo_225",Xx="_fourd_1xydo_226",Zx="_fived_1xydo_227",Jx="_sixed_1xydo_228",eb="_sevened_1xydo_229",J={NewsDetailes:jx,news_wrapper:Ox,back__wrapper:Px,back:Lx,text:Ax,wrapper:Dx,title:Mx,news__image:$x,active:Fx,texts:Bx,bold:Ux,bottom_wrapper:Wx,date:zx,likes:Hx,heart:qx,count:Vx,circles:Gx,first:Kx,second:Yx,third:Qx,fourd:Xx,fived:Zx,sixed:Jx,sevened:eb};mh.propTypes={id:m.string.isRequired};function mh({id:t}){const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(!1);return p.useEffect(()=>{if(e){const l=new Image;l.src=e.image,l.onload=()=>{o(!0)}}},[e]),p.useEffect(()=>{const c=(JSON.parse(localStorage.getItem("news"))||[]).includes(t);s(c),Ix(t,n)},[t]),a.jsx(a.Fragment,{children:e&&a.jsxs("section",{className:J.NewsDetailes,children:[a.jsxs("div",{className:J.news_wrapper,children:[a.jsx("div",{className:J.back__wrapper,children:a.jsxs(Xe,{to:"/news",className:J.back,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"18",viewBox:"0 0 9 18",fill:"none",children:a.jsx("path",{d:"M1.53813 9L8.81315 1.15023C8.87304 1.08697 8.9204 1.01186 8.95247 0.929264C8.98453 0.846663 9.00068 0.758204 8.99998 0.669007C8.99927 0.57981 8.98173 0.491645 8.94835 0.409615C8.91498 0.327585 8.86645 0.253318 8.80556 0.191112C8.74467 0.128906 8.67263 0.0799964 8.59362 0.0472132C8.51461 0.01443 8.43019 -0.00157572 8.34525 0.000122241C8.26031 0.0018202 8.17653 0.0211882 8.09877 0.0571053C8.021 0.0930224 7.95079 0.144776 7.8922 0.20937L0.181994 8.52957C0.0652943 8.65551 0 8.82429 0 9C0 9.17571 0.0652943 9.34449 0.181994 9.47043L7.8922 17.7906C7.95079 17.8552 8.021 17.907 8.09877 17.9429C8.17653 17.9788 8.26031 17.9982 8.34525 17.9999C8.43019 18.0016 8.51461 17.9856 8.59362 17.9528C8.67263 17.92 8.74467 17.8711 8.80556 17.8089C8.86645 17.7467 8.91498 17.6724 8.94835 17.5904C8.98173 17.5084 8.99927 17.4202 8.99998 17.331C9.00068 17.2418 8.98453 17.1533 8.95247 17.0707C8.9204 16.9881 8.87304 16.913 8.81315 16.8498L1.53813 9Z",fill:"black"})}),a.jsx("div",{className:J.text,children:" Назад "})]})}),a.jsxs("div",{className:J.wrapper,children:[a.jsx("h2",{className:J.title,children:e.title}),a.jsx("div",{className:i?J.news__image+" "+J.active:J.news__image,style:{backgroundImage:`url(${e.image})`}}),a.jsx("div",{className:J.texts,children:e.text&&e.text.map(l=>a.jsx("p",{className:l.bold?J.text+" "+J.bold:J.text,children:l.value},l.key))})]}),a.jsxs("div",{className:J.bottom_wrapper,children:[a.jsx("div",{className:J.date,children:e.date}),a.jsxs("div",{className:r?J.likes+" "+J.active:J.likes,onClick:()=>Rx(e.key,n,s),children:[a.jsx("div",{className:J.heart,children:a.jsx("img",{src:_h,alt:"heart"})}),a.jsx("div",{className:J.count,children:e.likes})]})]})]}),a.jsxs("div",{className:J.circles,children:[a.jsx("div",{className:J.first}),a.jsx("div",{className:J.second}),a.jsx("div",{className:J.third}),a.jsx("div",{className:J.fourd}),a.jsx("div",{className:J.fived}),a.jsx("div",{className:J.sixed}),a.jsx("div",{className:J.sevened})]})]})})}function tb(){const{id:t}=Pf();return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
                    @media screen and (max-width: 768px) { 
                        .feedback {
                            display: none;
                        }  
                    }
                `}),a.jsx(mh,{id:t}),a.jsx("div",{className:"feedback",children:a.jsx(Ln,{})})]})}const nb="_memo_1e5ls_1",rb="_title_1e5ls_12",sb="_slider__mobile_1e5ls_28",ib="_slide_1e5ls_28",ob="_noResault_1e5ls_46",ab="_trident_1e5ls_52",lb="_slider__wrapper_1e5ls_68",cb="_image_1e5ls_77",ub="_active_1e5ls_89",db="_name_1e5ls_99",hb="_age_1e5ls_106",fb="_position_1e5ls_112",pb="_btn_1e5ls_118",_b="_PopUp_wrapper_1e5ls_175",mb="_cross_1e5ls_206",gb="_wrapper__top_1e5ls_242",vb="_img_1e5ls_261",yb="_info_1e5ls_292",wb="_wrapper_content_1e5ls_339",xb="_bold_1e5ls_394",X={memo:nb,title:rb,slider__mobile:sb,slide:ib,noResault:ob,trident:ab,slider__wrapper:lb,image:cb,active:ub,name:db,age:hb,position:fb,btn:pb,PopUp_wrapper:_b,cross:mb,wrapper__top:gb,img:vb,info:yb,wrapper_content:wb,bold:xb};gh.propTypes={setValue:m.func};function gh({setValue:t}){return a.jsx("form",{className:X.form,children:a.jsx("input",{type:"text",placeholder:"Пошук за ПІП",className:X.search,onChange:e=>t(e.target.value)})})}vh.propTypes={memo:m.object,moreInfo:m.func};function vh({memo:t,moreInfo:e}){const[n,r]=p.useState(!1);return p.useEffect(()=>{const s=new Image;s.src=t.image,s.onload=()=>{r(!0)}},[t.image]),a.jsxs("div",{className:X.slide,children:[a.jsx("div",{className:X.trident,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"230",height:"361",viewBox:"0 0 230 361",fill:"none",children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M115 0C106.087 9.54635 100.625 22.0717 100.625 35.7481C101.2 65.8766 105.081 95.9375 105.44 126.066C106.159 154.096 97.2467 180.433 86.3936 206.093C82.728 213.202 78.8467 220.175 74.8936 227.149L63.3936 224.915C52.9717 222.951 46.2155 213.473 48.2999 203.723C50.1686 195.125 58.1467 189.234 67.0592 189.167L71.228 189.573L61.8843 116.046C58.7936 83.2767 40.8967 54.5023 14.4469 35.7483C9.84687 32.5662 5.03124 29.6548 0 27.0144V288.488H64.1125C68.9282 312.998 83.2313 334.325 103.356 349.016C108.172 352.063 112.125 356.193 115 361C117.875 356.193 121.828 352.063 126.644 349.016C146.769 334.324 161.072 312.997 165.887 288.488H230V27.0144C224.969 29.6549 220.153 32.5662 215.553 35.7483C189.103 54.5024 171.206 83.2769 168.116 116.046L158.772 189.573L162.941 189.167C171.853 189.234 179.831 195.125 181.7 203.723C183.785 213.473 177.028 222.951 166.606 224.915L155.106 227.149C151.153 220.175 147.272 213.202 143.606 206.093C132.753 180.433 123.841 154.096 124.56 126.066C124.919 95.9375 128.8 65.8766 129.375 35.7481C129.375 22.0718 123.912 9.54637 115 0ZM19.1905 64.7257C31.6249 78.402 39.9623 95.4635 42.4061 114.285L50.0967 175.016C40.3217 179.62 32.8467 188.016 30.0436 198.171H19.1905V64.7257ZM210.809 64.7257V198.171H199.956C197.153 188.016 189.678 179.62 179.903 175.017L187.594 114.285C190.037 95.4636 198.375 78.402 210.809 64.7257ZM115 186.729C120.103 202.572 127.219 217.603 135.987 231.617C127.65 234.055 120.319 238.726 115 244.955C109.681 238.659 102.35 234.055 94.0124 231.617C102.781 217.603 109.897 202.572 115 186.729ZM19.1905 216.249H30.0436C33.4936 228.706 43.7717 238.591 56.9249 241.976L66.1249 244.007C63.6811 252.403 62.3155 261.272 62.3155 270.412H19.1907L19.1905 216.249ZM199.956 216.249H210.809V270.412H167.684C167.684 261.272 166.319 252.403 163.875 244.007L173.075 241.976C186.156 238.591 196.506 228.706 199.956 216.249ZM84.8842 248.138C96.456 249.695 105.44 259.038 105.44 270.412H81.506C81.506 262.694 82.7279 255.247 84.8842 248.138ZM145.115 248.138C147.272 255.247 148.493 262.694 148.493 270.412H124.559C124.559 259.038 133.543 249.695 145.115 248.138ZM83.6621 288.489H105.44V326.472C94.8746 316.045 87.1839 302.978 83.6621 288.489ZM124.559 288.489H146.337C142.815 302.978 135.125 316.045 124.559 326.472V288.489Z",fill:"white",fillOpacity:"0.25"})})}),a.jsxs("div",{className:X.slider__wrapper,children:[a.jsx("div",{className:n?X.image+" "+X.active:X.image,style:{backgroundImage:`url(${t.image})`}}),a.jsx("div",{className:X.name,children:t.title}),a.jsx("div",{className:X.age,children:t.age}),a.jsx("div",{className:X.position,children:t.position}),a.jsx("div",{className:X.btn,onClick:()=>e(t),children:a.jsx(De,{text:"додаткова інформація",noArrow:!0,white:!0})})]})]})}yh.propTypes={fitered:m.array,moreInfo:m.func};function yh({fitered:t,moreInfo:e}){const n=p.useRef(null),r={arrows:!0,dots:!1,infinite:!1,lazyLoad:!0,speed:500,slidesToShow:1,slidesToScroll:1,prevArrow:a.jsx(hr,{vector:"prev",clickAction:()=>{n.current.slickPrev()},slider:n}),nextArrow:a.jsx(hr,{vector:"next",clickAction:()=>{n.current.slickNext()},slider:n})},s=()=>t.length>0?t.map((i,o)=>a.jsx(vh,{memo:i,moreInfo:e},o)):a.jsx("div",{className:X.slide+" "+X.noResault,children:"Пошук не дав результатів"});return p.useEffect(()=>{n.current.slickGoTo(0)},[t]),a.jsx("div",{className:X.slider__mobile,children:a.jsx(Er,{ref:n,...r,children:s()})})}const bb="_PopUp_15qwz_1",Cb="_active_15qwz_20",Sb="_content_15qwz_23",Pr={PopUp:bb,active:Cb,content:Sb};Sa.propTypes={isPopUpOpen:m.bool.isRequired,children:m.node};function Sa({isPopUpOpen:t,children:e}){return a.jsx("div",{className:t?Pr.PopUp+" "+Pr.active:Pr.PopUp,children:a.jsx("div",{className:Pr.content,children:e})})}const lc=""+new URL("../img/cross.svg",import.meta.url).href;wh.propTypes={closePopUp:m.func};function wh({closePopUp:t}){const[e,n]=p.useState(!1);return p.useEffect(()=>{const r=new Image;r.src=lc,r.onload=()=>{n(!0)}},[]),a.jsx("div",{className:e?X.cross+" "+X.active:X.cross,onClick:()=>t(),style:{backgroundImage:`url(${lc})`}})}xh.propTypes={selectedItem:m.object,closePopUp:m.func};function xh({selectedItem:t,closePopUp:e}){const[n,r]=p.useState(!1);return p.useEffect(()=>{const s=new Image;s.src=t.image,s.onload=()=>{r(!0)}},[t.image]),a.jsxs("div",{className:X.PopUp_wrapper,children:[a.jsx(wh,{closePopUp:e}),a.jsxs("div",{className:X.wrapper__top,children:[a.jsx("div",{className:n?X.img+" "+X.active:X.img,style:{backgroundImage:`url(${t.image})`}}),a.jsxs("div",{className:X.info,children:[a.jsx("div",{className:X.name,children:t.title}),a.jsx("div",{className:X.position,children:t.position})]})]}),a.jsx("div",{className:X.wrapper_content,children:t.text&&t.text.map(s=>a.jsx("p",{className:s.bold?X.bold:null,children:s.value},s.key))})]})}bh.propTypes={isPopUpOpen:m.bool,selectedItem:m.object,closePopUp:m.func};function bh({isPopUpOpen:t,selectedItem:e,closePopUp:n}){return a.jsx(Sa,{isPopUpOpen:t,children:e&&a.jsx(xh,{selectedItem:e,closePopUp:n})})}const Eb="_pagination_wrapper_1xxyh_1",Nb="_pagination_1xxyh_1",kb="_page_link_1xxyh_22",Tb="_active_1xxyh_28",Rb="_arrow_1xxyh_31",et={pagination_wrapper:Eb,pagination:Nb,page_link:kb,active:Tb,arrow:Rb};Ch.propTypes={memoPerPage:m.number.isRequired,totalMemo:m.number.isRequired,paginate:m.func.isRequired,currentPage:m.number.isRequired};function Ch({memoPerPage:t,totalMemo:e,paginate:n,currentPage:r}){const s=[];for(let o=1;o<=Math.ceil(e/t);o++)s.push(o);const i=()=>s.map(o=>a.jsx("li",{className:r===o?et.page_link+" "+et.active:et.page_link,onClick:()=>n(o),children:a.jsx("a",{className:r===o?et.page_link+" "+et.active:et.page_link,children:o})},o));return a.jsxs("div",{className:et.pagination_wrapper,children:[a.jsx("button",{className:et.arrow,onClick:()=>n(r===1?r:--r),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"23",viewBox:"0 0 11 23",fill:"none",children:a.jsx("path",{d:"M1.87994 11.5L10.7716 1.90583C10.8448 1.82852 10.9027 1.73672 10.9419 1.63577C10.9811 1.53481 11.0008 1.42669 11 1.31767C10.9991 1.20866 10.9777 1.1009 10.9369 1.00064C10.8961 0.900381 10.8368 0.809611 10.7623 0.733581C10.6879 0.657552 10.5999 0.597773 10.5033 0.557705C10.4067 0.517637 10.3036 0.498074 10.1998 0.500149C10.0959 0.502225 9.99354 0.525897 9.89849 0.569795C9.80345 0.613694 9.71764 0.676948 9.64603 0.755896L0.222437 10.925C0.0798035 11.079 -9.53674e-07 11.2852 -9.53674e-07 11.5C-9.53674e-07 11.7148 0.0798035 11.921 0.222437 12.075L9.64603 22.2441C9.71764 22.3231 9.80345 22.3863 9.89849 22.4302C9.99354 22.4741 10.0959 22.4978 10.1998 22.4999C10.3036 22.5019 10.4067 22.4824 10.5033 22.4423C10.5999 22.4022 10.6879 22.3425 10.7623 22.2664C10.8368 22.1904 10.8961 22.0996 10.9369 21.9994C10.9777 21.8991 10.9991 21.7913 11 21.6823C11.0008 21.5733 10.9811 21.4652 10.9419 21.3642C10.9027 21.2633 10.8448 21.1715 10.7716 21.0942L1.87994 11.5Z",fill:"black",fillOpacity:r===1?.35:1})})}),a.jsx("ul",{className:et.pagination,children:i()}),a.jsx("button",{className:et.arrow,onClick:()=>n(r===s.length?r:++r),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"23",viewBox:"0 0 11 23",fill:"none",children:a.jsx("path",{d:"M9.12006 11.5L0.228377 1.90583C0.15517 1.82852 0.0972944 1.73672 0.0580983 1.63577C0.0189023 1.53481 -0.000835492 1.42669 2.70997e-05 1.31767C0.000889691 1.20866 0.022335 1.1009 0.0631231 1.00064C0.103911 0.900381 0.163232 0.809611 0.237652 0.733581C0.312072 0.657552 0.400114 0.597773 0.496683 0.557705C0.593252 0.517637 0.696431 0.498074 0.800248 0.500149C0.904065 0.502225 1.00646 0.525897 1.10151 0.569795C1.19655 0.613694 1.28236 0.676948 1.35397 0.755896L10.7776 10.925C10.9202 11.079 11 11.2852 11 11.5C11 11.7148 10.9202 11.921 10.7776 12.075L1.35397 22.2441C1.28236 22.3231 1.19655 22.3863 1.10151 22.4302C1.00646 22.4741 0.904065 22.4978 0.800248 22.4999C0.696431 22.5019 0.593252 22.4824 0.496683 22.4423C0.400114 22.4022 0.312072 22.3425 0.237652 22.2664C0.163232 22.1904 0.103911 22.0996 0.0631231 21.9994C0.022335 21.8991 0.000889691 21.7913 2.70997e-05 21.6823C-0.000835492 21.5733 0.0189023 21.4652 0.0580983 21.3642C0.0972944 21.2633 0.15517 21.1715 0.228377 21.0942L9.12006 11.5Z",fill:"black",fillOpacity:r===s.length?.35:1})})})]})}const Ib="_memorial_1qeqw_1",jb="_item_1qeqw_11",Ob="_noResault_1qeqw_24",Pb="_trident_1qeqw_34",Lb="_item_left_1qeqw_46",Ab="_active_1qeqw_59",Db="_item_rigth_1qeqw_62",Mb="_item_name_1qeqw_65",$b="_item_age_1qeqw_66",Fb="_item_position_1qeqw_67",Bb="_btn_1qeqw_82",$e={memorial:Ib,item:jb,noResault:Ob,trident:Pb,item_left:Lb,active:Ab,item_rigth:Db,item_name:Mb,item_age:$b,item_position:Fb,btn:Bb};Sh.propTypes={item:m.object,moreInfo:m.func};function Sh({item:t,moreInfo:e}){const[n,r]=p.useState(!1);return p.useEffect(()=>{const s=new Image;s.src=t.image,s.onload=()=>{r(!0)}},[t.image]),a.jsxs("div",{className:$e.item,children:[a.jsx("div",{className:$e.trident,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"230",height:"361",viewBox:"0 0 230 361",fill:"none",children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M115 0C106.087 9.54635 100.625 22.0717 100.625 35.7481C101.2 65.8766 105.081 95.9375 105.44 126.066C106.159 154.096 97.2467 180.433 86.3936 206.093C82.728 213.202 78.8467 220.175 74.8936 227.149L63.3936 224.915C52.9717 222.951 46.2155 213.473 48.2999 203.723C50.1686 195.125 58.1467 189.234 67.0592 189.167L71.228 189.573L61.8843 116.046C58.7936 83.2767 40.8967 54.5023 14.4469 35.7483C9.84687 32.5662 5.03124 29.6548 0 27.0144V288.488H64.1125C68.9282 312.998 83.2313 334.325 103.356 349.016C108.172 352.063 112.125 356.193 115 361C117.875 356.193 121.828 352.063 126.644 349.016C146.769 334.324 161.072 312.997 165.887 288.488H230V27.0144C224.969 29.6549 220.153 32.5662 215.553 35.7483C189.103 54.5024 171.206 83.2769 168.116 116.046L158.772 189.573L162.941 189.167C171.853 189.234 179.831 195.125 181.7 203.723C183.785 213.473 177.028 222.951 166.606 224.915L155.106 227.149C151.153 220.175 147.272 213.202 143.606 206.093C132.753 180.433 123.841 154.096 124.56 126.066C124.919 95.9375 128.8 65.8766 129.375 35.7481C129.375 22.0718 123.912 9.54637 115 0ZM19.1905 64.7257C31.6249 78.402 39.9623 95.4635 42.4061 114.285L50.0967 175.016C40.3217 179.62 32.8467 188.016 30.0436 198.171H19.1905V64.7257ZM210.809 64.7257V198.171H199.956C197.153 188.016 189.678 179.62 179.903 175.017L187.594 114.285C190.037 95.4636 198.375 78.402 210.809 64.7257ZM115 186.729C120.103 202.572 127.219 217.603 135.987 231.617C127.65 234.055 120.319 238.726 115 244.955C109.681 238.659 102.35 234.055 94.0124 231.617C102.781 217.603 109.897 202.572 115 186.729ZM19.1905 216.249H30.0436C33.4936 228.706 43.7717 238.591 56.9249 241.976L66.1249 244.007C63.6811 252.403 62.3155 261.272 62.3155 270.412H19.1907L19.1905 216.249ZM199.956 216.249H210.809V270.412H167.684C167.684 261.272 166.319 252.403 163.875 244.007L173.075 241.976C186.156 238.591 196.506 228.706 199.956 216.249ZM84.8842 248.138C96.456 249.695 105.44 259.038 105.44 270.412H81.506C81.506 262.694 82.7279 255.247 84.8842 248.138ZM145.115 248.138C147.272 255.247 148.493 262.694 148.493 270.412H124.559C124.559 259.038 133.543 249.695 145.115 248.138ZM83.6621 288.489H105.44V326.472C94.8746 316.045 87.1839 302.978 83.6621 288.489ZM124.559 288.489H146.337C142.815 302.978 135.125 316.045 124.559 326.472V288.489Z",fill:"white",fillOpacity:"0.25"})})}),a.jsx("div",{className:n?$e.item_left+" "+$e.active:$e.item_left,style:{backgroundImage:`url(${t.image})`},children:" "}),a.jsxs("div",{className:$e.item_rigth,children:[a.jsxs("div",{className:$e.item_name,children:[Ee(t.title,70)," "]}),a.jsxs("div",{className:$e.item_age,children:[" ",Ee(t.age,48)," "]}),a.jsxs("div",{className:$e.item_position,children:[Ee(t.position,48)," "]}),a.jsx("div",{className:$e.btn,onClick:()=>e(t),children:a.jsx(De,{text:"додаткова інформація",noArrow:!0,white:!0})})]})]})}Eh.propTypes={currentMemo:m.array.isRequired,moreInfo:m.func.isRequired};function Eh({currentMemo:t,moreInfo:e}){const[n,r]=p.useState([]);return p.useEffect(()=>{r(t)},[t]),a.jsx("div",{className:$e.memorial,children:n.length>0?n.map((s,i)=>a.jsx(Sh,{item:s,moreInfo:e},i)):a.jsx("div",{className:$e.item+" "+$e.noResault,children:" Пошук не дав результатів "})})}function Ub(){const[t,e]=p.useState([]),[n,r]=p.useState(1),[s]=p.useState(3),[i,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(""),h=t.filter(w=>w.title.toLowerCase().includes(u.toLowerCase())),f=zs("/data/memorial"),_=n*s,g=_-s,v=h.slice(g,_),y=w=>{o(w),c(!0)},b=()=>{o(null),c(!1)};return p.useEffect(()=>{ln(f,e,!0)},[f]),a.jsxs("section",{className:X.memo,children:[a.jsx("div",{className:X.title,children:" Наші Герої "}),a.jsx(gh,{setValue:d}),a.jsx(Eh,{currentMemo:v,moreInfo:y}),a.jsx(Ch,{memoPerPage:s,totalMemo:t.length,paginate:r,currentPage:n}),a.jsx(yh,{fitered:h,moreInfo:y}),a.jsx(bh,{isPopUpOpen:l,selectedItem:i,closePopUp:b})]})}function Wb(){return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
                    @media screen and (max-width: 768px) { 
                        .feedback {
                            display: none;
                        }  
                    }
                `}),a.jsx(Ub,{}),a.jsx("div",{className:"feedback",children:a.jsx(Ln,{})})]})}const zb="_pagination_wrapper_1sm8m_1",Hb="_pagination_1sm8m_1",qb="_page_link_1sm8m_32",Vb="_active_1sm8m_39",Gb="_arrow_1sm8m_47",tt={pagination_wrapper:zb,pagination:Hb,page_link:qb,active:Vb,arrow:Gb};Nh.propTypes={memoPerPage:m.number.isRequired,totalMemo:m.number.isRequired,paginate:m.func.isRequired,currentPage:m.number.isRequired};function Nh({memoPerPage:t,totalMemo:e,paginate:n,currentPage:r}){const s=[];for(let i=1;i<=Math.ceil(e/t);i++)s.push(i);return a.jsxs("div",{className:tt.pagination_wrapper,children:[a.jsx("button",{className:tt.arrow,onClick:()=>n(r===1?r:--r),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"23",viewBox:"0 0 11 23",fill:"none",children:a.jsx("path",{d:"M1.87994 11.5L10.7716 1.90583C10.8448 1.82852 10.9027 1.73672 10.9419 1.63577C10.9811 1.53481 11.0008 1.42669 11 1.31767C10.9991 1.20866 10.9777 1.1009 10.9369 1.00064C10.8961 0.900381 10.8368 0.809611 10.7623 0.733581C10.6879 0.657552 10.5999 0.597773 10.5033 0.557705C10.4067 0.517637 10.3036 0.498074 10.1998 0.500149C10.0959 0.502225 9.99354 0.525897 9.89849 0.569795C9.80345 0.613694 9.71764 0.676948 9.64603 0.755896L0.222437 10.925C0.0798035 11.079 -9.53674e-07 11.2852 -9.53674e-07 11.5C-9.53674e-07 11.7148 0.0798035 11.921 0.222437 12.075L9.64603 22.2441C9.71764 22.3231 9.80345 22.3863 9.89849 22.4302C9.99354 22.4741 10.0959 22.4978 10.1998 22.4999C10.3036 22.5019 10.4067 22.4824 10.5033 22.4423C10.5999 22.4022 10.6879 22.3425 10.7623 22.2664C10.8368 22.1904 10.8961 22.0996 10.9369 21.9994C10.9777 21.8991 10.9991 21.7913 11 21.6823C11.0008 21.5733 10.9811 21.4652 10.9419 21.3642C10.9027 21.2633 10.8448 21.1715 10.7716 21.0942L1.87994 11.5Z",fill:"black",fillOpacity:r===1?.35:1})})}),a.jsx("ul",{className:tt.pagination,children:s.map(i=>a.jsx("li",{className:r===i?tt.page_link+" "+tt.active:tt.page_link,onClick:()=>n(i),children:a.jsx("a",{className:r===i?tt.page_link+" "+tt.active:tt.page_link,children:i})},i))}),a.jsx("button",{className:tt.arrow,onClick:()=>n(r===s.length?r:++r),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"23",viewBox:"0 0 11 23",fill:"none",children:a.jsx("path",{d:"M9.12006 11.5L0.228377 1.90583C0.15517 1.82852 0.0972944 1.73672 0.0580983 1.63577C0.0189023 1.53481 -0.000835492 1.42669 2.70997e-05 1.31767C0.000889691 1.20866 0.022335 1.1009 0.0631231 1.00064C0.103911 0.900381 0.163232 0.809611 0.237652 0.733581C0.312072 0.657552 0.400114 0.597773 0.496683 0.557705C0.593252 0.517637 0.696431 0.498074 0.800248 0.500149C0.904065 0.502225 1.00646 0.525897 1.10151 0.569795C1.19655 0.613694 1.28236 0.676948 1.35397 0.755896L10.7776 10.925C10.9202 11.079 11 11.2852 11 11.5C11 11.7148 10.9202 11.921 10.7776 12.075L1.35397 22.2441C1.28236 22.3231 1.19655 22.3863 1.10151 22.4302C1.00646 22.4741 0.904065 22.4978 0.800248 22.4999C0.696431 22.5019 0.593252 22.4824 0.496683 22.4423C0.400114 22.4022 0.312072 22.3425 0.237652 22.2664C0.163232 22.1904 0.103911 22.0996 0.0631231 21.9994C0.022335 21.8991 0.000889691 21.7913 2.70997e-05 21.6823C-0.000835492 21.5733 0.0189023 21.4652 0.0580983 21.3642C0.0972944 21.2633 0.15517 21.1715 0.228377 21.0942L9.12006 11.5Z",fill:"black",fillOpacity:r===s.length?.35:1})})})]})}const Kb="_museums_fbomq_1",Yb="_item_fbomq_6",Qb="_active_fbomq_22",Xb="_item__image_fbomq_26",Wn={museums:Kb,item:Yb,active:Qb,item__image:Xb};kh.propTypes={currentMemo:m.array.isRequired,showInfo:m.func.isRequired,currentSlide:m.number.isRequired};function kh({currentMemo:t,showInfo:e,currentSlide:n}){const[r,s]=p.useState([]);return p.useEffect(()=>{s(t)},[t]),a.jsx("div",{className:Wn.museums,children:r.map((i,o)=>a.jsx("div",{className:n===o?Wn.item+" "+Wn.active:Wn.item,onClick:()=>{e(o)},children:a.jsx("div",{className:Wn.item__image,style:{backgroundImage:`url(${i.image})`},children:" "})},o))})}const Zb="_MuseumBlock_9dqj2_1",Jb="_title_9dqj2_12",e4="_MuseumBlock_wrapper_9dqj2_29",t4="_mobile_9dqj2_37",n4="_back_9dqj2_42",r4="_text_9dqj2_56",s4="_active_9dqj2_64",i4="_pagination_9dqj2_76",o4="_short__info_9dqj2_93",a4="_mobile_slider_9dqj2_110",l4="_item_9dqj2_118",c4="_item__image_9dqj2_130",u4="_item__content_9dqj2_151",d4="_description_9dqj2_157",h4="_item__texts_9dqj2_164",f4="_btn_9dqj2_184",p4="_circles_9dqj2_200",_4="_first_9dqj2_208",m4="_second_9dqj2_209",g4="_third_9dqj2_210",v4="_fourd_9dqj2_211",y4="_desktop_9dqj2_264",w4="_descriptions_9dqj2_271",W={MuseumBlock:Zb,title:Jb,MuseumBlock_wrapper:e4,mobile:t4,back:n4,text:r4,active:s4,pagination:i4,short__info:o4,mobile_slider:a4,item:l4,item__image:c4,item__content:u4,description:d4,item__texts:h4,btn:f4,circles:p4,first:_4,second:m4,third:g4,fourd:v4,desktop:y4,descriptions:w4},x4="_PopUp_wrapper_12oed_1",b4="_cross_12oed_30",C4="_image_12oed_50",S4="_title_12oed_70",E4="_text_12oed_82",N4="_desktop_12oed_87",k4="_texts_12oed_97",je={PopUp_wrapper:x4,cross:b4,image:C4,title:S4,text:E4,desktop:N4,texts:k4};Th.propTypes={isPopUpOpen:m.bool.isRequired,selectedItem:m.object,closePopUp:m.func.isRequired};function Th({isPopUpOpen:t,selectedItem:e,closePopUp:n}){return a.jsx(Sa,{isPopUpOpen:t,children:e&&a.jsxs("div",{className:je.PopUp_wrapper,children:[a.jsx("div",{className:je.cross,onClick:()=>{n()},children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"59",height:"59",viewBox:"0 0 59 59",fill:"none",children:[a.jsx("g",{clipPath:"url(#clip0_361_47)",children:a.jsx("path",{d:"M31.811 29.5L45.3974 15.9136C45.6659 15.6001 45.8062 15.1968 45.7902 14.7843C45.7743 14.3718 45.6033 13.9806 45.3114 13.6887C45.0196 13.3968 44.6283 13.2258 44.2158 13.2099C43.8033 13.194 43.4001 13.3342 43.0865 13.6027L29.5001 27.1891L15.9138 13.5864C15.6051 13.2777 15.1866 13.1044 14.7501 13.1044C14.3137 13.1044 13.8951 13.2777 13.5865 13.5864C13.2779 13.895 13.1046 14.3135 13.1046 14.75C13.1046 15.1864 13.2779 15.605 13.5865 15.9136L27.1893 29.5L13.5865 43.0864C13.415 43.2333 13.2756 43.4141 13.1773 43.6174C13.0789 43.8207 13.0236 44.0422 13.0149 44.2679C13.0062 44.4936 13.0442 44.7187 13.1266 44.929C13.209 45.1393 13.334 45.3303 13.4937 45.49C13.6534 45.6497 13.8444 45.7747 14.0547 45.8571C14.265 45.9395 14.4901 45.9775 14.7158 45.9688C14.9415 45.9601 15.163 45.9048 15.3663 45.8065C15.5696 45.7081 15.7504 45.5688 15.8974 45.3972L29.5001 31.8108L43.0865 45.3972C43.4001 45.6657 43.8033 45.806 44.2158 45.79C44.6283 45.7741 45.0196 45.6031 45.3114 45.3113C45.6033 45.0194 45.7743 44.6281 45.7902 44.2156C45.8062 43.8032 45.6659 43.3999 45.3974 43.0864L31.811 29.5Z",fill:"black"})}),a.jsx("defs",{children:a.jsx("clipPath",{id:"clip0_361_47",children:a.jsx("rect",{width:"59",height:"59",fill:"white"})})})]})}),a.jsx("div",{className:je.image,style:{backgroundImage:`url(${e.image})`}}),a.jsx("div",{className:je.title,children:e.title}),e.text&&e.text.map(r=>a.jsx("p",{className:r.bold?je.text+" "+je.bold+" "+je.desktop:je.text+" "+je.desktop,children:r.value},r.key)),a.jsx("div",{className:je.texts+" "+je.mobile,children:e.text&&e.text.map(r=>a.jsx("p",{className:r.bold?je.text+" "+je.bold:je.text,children:r.value},r.key))})]})})}const T4="_slider_1shin_1",R4="_arrow_1shin_10",I4="_arrow_Prev_1shin_10",j4="_item_1shin_13",O4="_item__image_1shin_27",P4="_item__content_1shin_41",L4="_description_1shin_49",A4="_item__texts_1shin_57",D4="_btn_1shin_74",M4="_circles_1shin_89",$4="_first_1shin_89",F4="_second_1shin_90",B4="_third_1shin_91",U4="_fourd_1shin_92",We={slider:T4,arrow:R4,arrow_Prev:I4,item:j4,item__image:O4,item__content:P4,description:L4,item__texts:A4,btn:D4,circles:M4,first:$4,second:F4,third:B4,fourd:U4};Rh.propTypes={slides:m.array,setIsPopUpOpen:m.func,slider1:m.object,slider2:m.object,currentSlide:m.number,setCurrentSlide:m.func};function Rh({slides:t,setIsPopUpOpen:e,slider1:n,slider2:r,currentSlide:s,setCurrentSlide:i}){const o={arrows:!0,dots:!1,infinite:!1,lazyLoad:!0,slidesToShow:1,slidesToScroll:1,initialSlide:0,speed:300,swipeToSlide:!0,fade:!0,cssEase:"linear",prevArrow:a.jsx(en,{vector:"prev",clickAction:()=>n.current.slickPrev(),currentSlide:Number(s),slider:n}),nextArrow:a.jsx(en,{vector:"next",clickAction:()=>n.current.slickNext(),currentSlide:Number(s),slider:n}),afterChange:c=>{i(c)}},l=()=>t.map(c=>a.jsxs("div",{className:We.item,children:[a.jsx("div",{className:We.item__image,style:{backgroundImage:`url(${c.image})`}}),a.jsxs("div",{className:We.item__content,children:[a.jsx("div",{className:We.description,children:c.title}),a.jsxs("div",{className:We.item__texts,children:[c.text&&c.text[0]&&a.jsx("p",{children:Ee(c.text[0].value,246)}),c.text&&c.text[1]&&a.jsx("p",{children:Ee(c.text[1].value,120)}),c.text&&c.text[2]&&a.jsx("p",{children:"..."})]}),a.jsx("div",{className:We.btn,onClick:()=>{e(!0)},children:a.jsx(De,{text:"детальніше"})})]}),a.jsxs("div",{className:We.circles,children:[a.jsx("div",{className:We.first}),a.jsx("div",{className:We.second}),a.jsx("div",{className:We.third}),a.jsx("div",{className:We.fourd})]})]},c.key));return a.jsx("div",{className:We.slider,children:a.jsx(Er,{asNavFor:r.current,ref:n,...o,children:l()})})}const W4="_arrow_1igh5_1",z4="_arrow_Prev_1igh5_19",H4="_disabled_1igh5_22",q4="_arrow_Next_1igh5_27",pn={arrow:W4,arrow_Prev:z4,disabled:H4,arrow_Next:q4};mo.propTypes={vector:m.string.isRequired,clickAction:m.func.isRequired,currentSlide:m.number.isRequired,slider:m.object.isRequired,itemsLength:m.number};function mo({vector:t,clickAction:e,currentSlide:n,slider:r,itemsLength:s}){const[i,o]=p.useState(null),[l,c]=p.useState(null);return p.useEffect(()=>{c(r.current.props.children.length)},[r]),p.useEffect(()=>{t==="prev"?o(n===0):n===s-1?o(!0):o(!1)},[n,l,t,s]),a.jsx("button",{className:t==="prev"?pn.arrow+" "+pn.arrow_Prev+" "+(i?pn.disabled:null):pn.arrow+" "+pn.arrow_Next+" "+(i?pn.disabled:null),onClick:()=>e(),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"35",viewBox:"0 0 18 35",fill:"none",children:a.jsx("path",{d:"M3.07627 17.5L17.6263 2.23655C17.7461 2.11355 17.8408 1.96751 17.9049 1.8069C17.9691 1.64629 18.0014 1.47429 18 1.30085C17.9985 1.12741 17.9635 0.955976 17.8967 0.796473C17.83 0.63697 17.7329 0.492563 17.6111 0.371607C17.4893 0.250651 17.3453 0.155549 17.1872 0.0918035C17.0292 0.0280584 16.8604 -0.0030639 16.6905 0.00023769C16.5206 0.00353928 16.3531 0.0411993 16.1975 0.111038C16.042 0.180877 15.9016 0.281508 15.7844 0.407108L0.363989 16.5853C0.130589 16.8302 0 17.1583 0 17.5C0 17.8417 0.130589 18.1698 0.363989 18.4147L15.7844 34.5929C15.9016 34.7185 16.042 34.8191 16.1975 34.889C16.3531 34.9588 16.5206 34.9965 16.6905 34.9998C16.8604 35.0031 17.0292 34.9719 17.1872 34.9082C17.3453 34.8445 17.4893 34.7494 17.6111 34.6284C17.7329 34.5074 17.83 34.363 17.8967 34.2035C17.9635 34.044 17.9985 33.8726 18 33.6992C18.0014 33.5257 17.9691 33.3537 17.9049 33.1931C17.8408 33.0325 17.7461 32.8865 17.6263 32.7634L3.07627 17.5Z",fill:"black"})})})}const V4="_sub_slider_q4o30_1",G4="_slick_q4o30_7",K4="_item_q4o30_12",Y4="_item__image_q4o30_21",Q4="_active_q4o30_32",X4="_arrows_q4o30_39",Ft={sub_slider:V4,slick:G4,item:K4,item__image:Y4,active:Q4,arrows:X4};Ih.propTypes={slides:m.array,slider1:m.object,slider2:m.object,currentSlide:m.number,setCurrentSlide:m.func};function Ih({slides:t,slider1:e,slider2:n,currentSlide:r}){const s=l=>{e.current.slickGoTo(l),n.current.slickGoTo(l)},i={infinite:!0,arrows:!0,slidesToShow:t.length>=9?9:t.length,slidesToScroll:1,variableWidth:!0,centerMode:!0,className:Ft.slick,centerPadding:"0",speed:0},o=()=>t.map((l,c)=>a.jsx("div",{className:Ft.item,onClick:()=>s(c),children:a.jsx("div",{className:r===c?Ft.item__image+" "+Ft.active:Ft.item__image,style:{backgroundImage:`url(${l.image})`}})},l.key));return a.jsxs("div",{className:Ft.sub_slider,children:[a.jsx(Er,{asNavFor:e.current,ref:n,...i,children:o()}),a.jsxs("div",{className:Ft.arrows,children:[a.jsx(mo,{vector:"prev",clickAction:()=>{n.current.slickPrev()},currentSlide:Number(r),slider:n,itemsLength:t.length}),a.jsx(mo,{vector:"next",clickAction:()=>{n.current.slickNext()},currentSlide:Number(r),slider:n,itemsLength:t.length})]})]})}function Z4(){const[t,e]=p.useState([]),[n,r]=p.useState(0),[s,i]=p.useState(!1),[o,l]=p.useState(null),[c,u]=p.useState(1),[d,h]=p.useState(!1),[f]=p.useState(16),_=p.useRef(null),g=p.useRef(null),v=p.useRef(null),y=c*f,b=y-f,w=t.slice(b,y),S=async()=>{try{const F=(await Ws.ref("data/museum").once("value")).val();if(F){const L=Object.values(F);e(L)}}catch(C){console.error("Помилка завантаження:",C)}},k=C=>{u(C)};p.useEffect(()=>{l(t[n])},[n,t]);const T=(C,D)=>D.length<=C?D:D.substring(0,+C-3)+"...",P=()=>t.map(C=>a.jsxs("div",{className:W.item,children:[a.jsx("div",{className:W.item__image,style:{backgroundImage:`url(${C.image})`}}),a.jsxs("div",{className:W.item__content,children:[a.jsx("div",{className:W.description,children:C.title}),a.jsxs("div",{className:W.item__texts,children:[C.text&&C.text[0]&&a.jsx("p",{children:T(90,C.text[0].value)}),C.text&&C.text[1]&&a.jsx("p",{children:T(90,C.text[1].value)})]}),a.jsx("div",{className:W.btn,onClick:()=>{i(!0)},children:a.jsx(De,{text:"детальніше"})})]})]},C.key)),ee=C=>{v.current.slickGoTo(C),h(!0)},N={arrows:!0,dots:!1,infinite:!1,lazyLoad:!0,slidesToShow:1,slidesToScroll:1,initialSlide:0,speed:300,swipeToSlide:!0,prevArrow:a.jsx(en,{vector:"prev",clickAction:()=>{v.current.slickPrev()},currentSlide:Number(n),slider:v}),nextArrow:a.jsx(en,{vector:"next",clickAction:()=>{v.current.slickNext()},currentSlide:Number(n),slider:v}),afterChange:C=>{r(C)}};return p.useEffect(()=>{S()},[]),a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:W.MuseumBlock,children:[a.jsx("div",{className:W.title,children:"Музей"}),a.jsxs("div",{className:W.MuseumBlock_wrapper+" "+W.desktop,children:[a.jsx(Rh,{slides:t,setIsPopUpOpen:i,slider1:_,slider2:g,currentSlide:n,setCurrentSlide:r}),a.jsx(Ih,{slides:t,slider1:_,slider2:g,currentSlide:n})]}),a.jsxs("div",{className:W.MuseumBlock_wrapper+" "+W.mobile,children:[a.jsx("div",{className:d?W.back+" "+W.active:W.back,onClick:d?()=>h(!1):null,children:a.jsx("div",{className:W.text,children:"Всі експонати"})}),a.jsxs("div",{className:d?W.pagination:W.pagination+" "+W.active,children:[a.jsx(kh,{currentMemo:w,showInfo:ee,currentSlide:n}),a.jsx(Nh,{memoPerPage:f,totalMemo:t.length,paginate:k,currentPage:c})]}),a.jsx("div",{className:d?W.short__info+" "+W.active:W.short__info,children:a.jsx("div",{className:W.mobile_slider,children:a.jsx(Er,{ref:v,...N,children:P()})})}),a.jsxs("div",{className:W.circles,children:[a.jsx("div",{className:d?W.first+" "+W.active:W.first}),a.jsx("div",{className:d?W.second+" "+W.active:W.second}),a.jsx("div",{className:d?W.third+" "+W.active:W.third}),a.jsx("div",{className:d?W.fourd+" "+W.active:W.fourd})]})]}),a.jsx("div",{className:W.circles,children:a.jsx("div",{className:W.first})})]}),a.jsx(Th,{isPopUpOpen:s,selectedItem:o,closePopUp:()=>i(!1)})]})}function J4(){return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
                    @media screen and (max-width: 768px) { 
                        .feedback {
                            display: none;
                        }  
                    }
                `}),a.jsx(Z4,{}),a.jsx("div",{className:"feedback",children:a.jsx(Ln,{})})]})}const e5="_ContactsWrapper_heygb_1",t5={ContactsWrapper:e5};function n5(){return a.jsx("div",{className:t5.ContactsWrapper,children:a.jsx(Ln,{})})}function r5(){return a.jsx(n5,{})}const s5="_adminePanel_9wtrc_1",i5="_item_9wtrc_8",o5="_active_9wtrc_23",nt={adminePanel:s5,item:i5,active:o5};jh.propTypes={onMenuItemClick:m.func.isRequired,selectedMenuItem:m.string.isRequired};function jh({selectedMenuItem:t,onMenuItemClick:e}){return a.jsxs("div",{className:nt.adminePanel,children:[a.jsx("div",{className:t==="news"?nt.item+" "+nt.active:nt.item,onClick:()=>e("news"),children:"Новини"}),a.jsx("div",{className:t==="memorial"?nt.item+" "+nt.active:nt.item,onClick:()=>e("memorial"),children:"Меморіал"}),a.jsx("div",{className:t==="museum"?nt.item+" "+nt.active:nt.item,onClick:()=>e("museum"),children:"Музей"})]})}function Oh(){return a.jsxs("svg",{fill:"#fd0",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 45.402 45.402",children:[a.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),a.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("g",{id:"SVGRepo_iconCarrier",children:a.jsx("g",{children:a.jsx("path",{d:"M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141 c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27 c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435 c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z"})})})]})}function Nr(){return a.jsxs("svg",{fill:"#f00",viewBox:"-2.4 -2.4 28.80 28.80",xmlns:"http://www.w3.org/2000/svg",id:"cross-circle",className:"icon glyph",children:[a.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),a.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("g",{id:"SVGRepo_iconCarrier",children:a.jsx("path",{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm3.71,12.29a1,1,0,0,1,0,1.42,1,1,0,0,1-1.42,0L12,13.42,9.71,15.71a1,1,0,0,1-1.42,0,1,1,0,0,1,0-1.42L10.58,12,8.29,9.71A1,1,0,0,1,9.71,8.29L12,10.58l2.29-2.29a1,1,0,0,1,1.42,1.42L13.42,12Z"})})]})}let Lr;const a5=new Uint8Array(16);function l5(){if(!Lr&&(Lr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lr(a5)}const be=[];for(let t=0;t<256;++t)be.push((t+256).toString(16).slice(1));function c5(t,e=0){return be[t[e+0]]+be[t[e+1]]+be[t[e+2]]+be[t[e+3]]+"-"+be[t[e+4]]+be[t[e+5]]+"-"+be[t[e+6]]+be[t[e+7]]+"-"+be[t[e+8]]+be[t[e+9]]+"-"+be[t[e+10]]+be[t[e+11]]+be[t[e+12]]+be[t[e+13]]+be[t[e+14]]+be[t[e+15]]}const u5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cc={randomUUID:u5};function fs(t,e,n){if(cc.randomUUID&&!e&&!t)return cc.randomUUID();t=t||{};const r=t.random||(t.rng||l5)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let s=0;s<16;++s)e[n+s]=r[s];return e}return c5(r)}const Ph=(t,e)=>{const n=fs();e(r=>({...r,text:[...r.text,{key:n,value:"",bold:t}]}))},d5=async(t,e,n,r)=>{try{await e.child(t.key).update(t),n(),r(!1)}catch(s){console.error("Помилка зміни новини:",s)}},h5="_editForm_1fi8k_1",f5="_form_wrapper_1fi8k_16",p5="_cross_1fi8k_24",_5="_image_1fi8k_47",m5="_label_1fi8k_50",g5="_label_wrapper_1fi8k_61",v5="_download_1fi8k_66",y5="_label_image_1fi8k_76",w5="_addText_1fi8k_88",x5="_text_name_1fi8k_99",b5="_text_plus_1fi8k_105",C5="_texts_1fi8k_109",S5="_text_1fi8k_99",E5="_isFat_1fi8k_130",N5="_buttom_1fi8k_145",G={editForm:h5,form_wrapper:f5,cross:p5,image:_5,label:m5,label_wrapper:g5,download:v5,label_image:y5,addText:w5,text_name:x5,text_plus:b5,texts:C5,text:S5,isFat:E5,buttom:N5},Lh=async t=>{const n=(r=>{const i=r.split("?")[0].split("/").map(o=>decodeURIComponent(o));return i[i.length-1]})(t.image);try{const r=ma(Od(),`${n}`);await Kv(r)}catch(r){console.error("Помилка видалення зображення:",r)}},Pe=async(t,e,n,r,s,i,o)=>{if(r==="image"){const l=t.target.files[0],c=ma(Ld,`${e}/${l.name+fs()}`);o(!1),Lh(n);try{await Id(c,l);const u=await jd(c);i(d=>({...d,image:u})),o(!0)}catch(u){console.error("Помилка завантаження зображення:",u)}}else if(r==="text"){const{value:l}=t.target;i(c=>{const u=c.text.map(d=>d.key===s?{...d,value:l}:d);return{...c,text:u}})}else{const{value:l}=t.target;i(c=>({...c,[r]:l}))}},An=(t,e)=>{e(n=>{const r=n.text.filter(s=>s.key!==t);return{...n,text:r}})};Ah.propTypes={name:m.string,dataItem:m.object,imageLoad:m.bool,setDataItem:m.func,setImageLoad:m.func};function Ah({name:t,dataItem:e,imageLoad:n,setDataItem:r,setImageLoad:s}){return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:G.label,children:[a.jsx("div",{className:G.label_wrapper,children:a.jsx("div",{className:G.download,style:{backgroundImage:n?`url(${e.image})`:"none"}})}),a.jsx("label",{className:G.label_image,htmlFor:"image",children:n?"Фото завантажене":"Додати фото"}),a.jsx("input",{id:"image",className:G.image,type:"file",onChange:i=>Pe(i,t,e,"image",null,r,s)})]}),a.jsx("input",{type:"text",placeholder:"Заголовок",onChange:i=>Pe(i,t,e,"title",null,r,s),value:e.title}),a.jsx("input",{type:"number",placeholder:"Лайки",onChange:i=>Pe(i,t,e,"likes",null,r,s),value:e.likes}),a.jsx("input",{type:"text",placeholder:"Дата створення",onChange:i=>Pe(i,t,e,"date",null,r,s),value:e.date}),a.jsx("div",{className:G.texts,children:e.text&&e.text.map(i=>a.jsxs("div",{className:G.text,children:[a.jsx("input",{type:"text",placeholder:"Введіть текст",style:{fontWeight:i.bold?"bold":"normal"},onChange:o=>Pe(o,t,e,"text",i.key,r,s),value:i.value}),a.jsx("div",{className:G.cross,onClick:()=>An(i.key,r),children:"X"})]},i.key))})]})}Dh.propTypes={name:m.string,dataItem:m.object,imageLoad:m.bool,setDataItem:m.func,setImageLoad:m.func};function Dh({name:t,dataItem:e,imageLoad:n,setDataItem:r,setImageLoad:s}){return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:G.label,children:[a.jsx("div",{className:G.label_wrapper,children:a.jsx("div",{className:G.download,style:{backgroundImage:n?`url(${e.image})`:"none"}})}),a.jsx("label",{className:G.label_image,htmlFor:"image",children:n?"Фото завантажене":"Додати фото"}),a.jsx("input",{id:"image",className:G.image,type:"file",onChange:i=>Pe(i,t,e,"image",null,r,s)})]}),a.jsx("input",{type:"text",placeholder:"Заголовок",onChange:i=>Pe(i,t,e,"title",null,r,s),value:e.title}),a.jsx("input",{type:"text",placeholder:"Дата створення",onChange:i=>Pe(i,t,e,"date",null,r,s),value:e.date}),a.jsx("div",{className:G.texts,children:e.text&&e.text.map(i=>a.jsxs("div",{className:G.text,children:[a.jsx("input",{type:"text",placeholder:"Введіть текст",style:{fontWeight:i.bold?"bold":"normal"},onChange:o=>Pe(o,t,e,"text",i.key,r,s),value:i.value}),a.jsx("div",{className:G.cross,onClick:()=>An(i.key,r),children:"X"})]},i.key))})]})}Mh.propTypes={name:m.string,dataItem:m.object,imageLoad:m.bool,setDataItem:m.func,setImageLoad:m.func};function Mh({name:t,dataItem:e,imageLoad:n,setDataItem:r,setImageLoad:s}){return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:G.label,children:[a.jsx("div",{className:G.label_wrapper,children:a.jsx("div",{className:G.download,style:{backgroundImage:n?`url(${e.image})`:"none"}})}),a.jsx("label",{className:G.label_image,htmlFor:"image",children:n?"Фото завантажене":"Додати фото"}),a.jsx("input",{id:"image",className:G.image,type:"file",onChange:i=>Pe(i,t,e,"image",null,r,s)})]}),a.jsx("input",{type:"text",placeholder:"ПIП",onChange:i=>Pe(i,t,e,"title",null,r,s),value:e.title}),a.jsx("input",{type:"text",placeholder:"Роки життя",onChange:i=>Pe(i,t,e,"age",null,r,s),value:e.age}),a.jsx("input",{type:"text",placeholder:"Посада",onChange:i=>Pe(i,t,e,"position",null,r,s),value:e.position}),a.jsx("div",{className:G.texts,children:e.text&&e.text.map(i=>a.jsxs("div",{className:G.text,children:[a.jsx("input",{type:"text",placeholder:"Введіть текст",style:{fontWeight:i.bold?"bold":"normal"},onChange:o=>Pe(o,t,e,"text",i.key,r,s),value:i.value}),a.jsx("div",{className:G.cross,onClick:()=>An(i.key,r),children:"X"})]},i.key))})]})}$h.propTypes={name:m.string,dataRef:m.object.isRequired,fetchData:m.func.isRequired,item:m.object.isRequired,setPopUpEdit:m.func.isRequired};function $h({name:t,dataRef:e,fetchData:n,item:r,setPopUpEdit:s}){const[i,o]=p.useState(!1),[l,c]=p.useState(!0),[u,d]=p.useState({title:r.title||null,image:r.image||null,age:r.age||null,position:r.position||null,likes:r.likes||0,text:r.text||[],date:r.date,key:r.key});return a.jsx("form",{className:G.editForm,children:a.jsxs("div",{className:G.form_wrapper,children:[a.jsx("div",{className:G.cross,onClick:()=>s(!1),children:a.jsx(Nr,{})}),t==="news"?a.jsx(Ah,{name:t,dataItem:u,imageLoad:l,setDataItem:d,setImageLoad:c}):null,t==="memorial"?a.jsx(Mh,{name:t,dataItem:u,imageLoad:l,setDataItem:d,setImageLoad:c}):null,t==="museum"?a.jsx(Dh,{name:t,dataItem:u,imageLoad:l,setDataItem:d,setImageLoad:c}):null,a.jsxs("div",{className:G.addText,onClick:()=>Ph(i,d),children:[a.jsx("div",{className:G.text_name,children:"Додати текст"}),a.jsxs("div",{className:G.text_plus,children:[" ",a.jsx(Oh,{})," "]})]}),a.jsxs("div",{className:G.isFat,children:[a.jsx("div",{className:G.text,children:" Жирний текст "}),a.jsx("input",{type:"checkbox",checked:i,onChange:()=>o(!i)})]}),a.jsx("div",{className:G.buttom,onClick:()=>d5(u,e,n,s),children:a.jsx(De,{text:"Застосувати Зміни",noArrow:!0})})]})})}const k5=(t,e,n,r,s)=>{if(e.every(o=>Object.prototype.hasOwnProperty.call(t,o))&&t.key!==null&&t.key!==void 0)n.child(t.key).set(t).then(()=>{r()}).then(()=>{s(!1)});else return null},T5=()=>{const t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return`${e<10?"0":""}${e}.${n<10?"0":""}${n}.${r}`},R5="_addForm_1x9ms_1",I5="_form_wrapper_1x9ms_16",j5="_cross_1x9ms_24",O5="_image_1x9ms_47",P5="_label_1x9ms_50",L5="_label_wrapper_1x9ms_61",A5="_download_1x9ms_66",D5="_label_image_1x9ms_76",M5="_addText_1x9ms_88",$5="_text_name_1x9ms_99",F5="_text_plus_1x9ms_105",B5="_texts_1x9ms_109",U5="_text_1x9ms_99",W5="_isFat_1x9ms_130",z5="_buttom_1x9ms_146",K={addForm:R5,form_wrapper:I5,cross:j5,image:O5,label:P5,label_wrapper:L5,download:A5,label_image:D5,addText:M5,text_name:$5,text_plus:F5,texts:B5,text:U5,isFat:W5,buttom:z5},Ke=async(t,e,n,r,s,i)=>{if(n==="image"){const o=t.target.files[0],l=ma(Ld,`${e}/${o.name+fs()}`);try{await Id(l,o);const c=await jd(l);s(u=>({...u,image:c})),s(u=>({...u,key:fs()})),i(!0)}catch(c){console.error("Помилка завантаження зображення:",c)}}else if(n==="text"){const{value:o}=t.target;s(l=>{const c=l.text.map(u=>u.key===r?{...u,value:o}:u);return{...l,text:c}})}else{const{value:o}=t.target;s(l=>({...l,[n]:o}))}};Fh.propTypes={name:m.string,dataItem:m.object,imageLoad:m.bool,setDataItem:m.func,setImageLoad:m.func};function Fh({name:t,dataItem:e,imageLoad:n,setDataItem:r,setImageLoad:s}){return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:K.label,children:[a.jsx("div",{className:K.label_wrapper,children:a.jsx("div",{className:K.download,style:{backgroundImage:n?`url(${e.image})`:"none"}})}),a.jsx("label",{className:K.label_image,htmlFor:"image",children:n?"Фото завантажене":"Додати фото"}),a.jsx("input",{id:"image",className:K.image,type:"file",onChange:i=>Ke(i,t,"image",null,r,s)})]}),a.jsx("input",{type:"text",placeholder:"Заголовок",onChange:i=>Ke(i,t,"title",null,r,s)}),a.jsx("div",{className:K.texts,children:e.text&&e.text.map(i=>a.jsxs("div",{className:K.text,children:[a.jsx("input",{type:"text",placeholder:"Введіть текст",style:{fontWeight:i.bold?"bold":"normal"},onChange:o=>Ke(o,"text",i.key,r,s)}),a.jsx("div",{className:K.cross,onClick:()=>An(i.key,r),children:"X"})]},i.key))})]})}Bh.propTypes={name:m.string,dataItem:m.object,imageLoad:m.bool,setDataItem:m.func,setImageLoad:m.func};function Bh({name:t,dataItem:e,imageLoad:n,setDataItem:r,setImageLoad:s}){return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:K.label,children:[a.jsx("div",{className:K.label_wrapper,children:a.jsx("div",{className:K.download,style:{backgroundImage:n?`url(${e.image})`:"none"}})}),a.jsx("label",{className:K.label_image,htmlFor:"image",children:n?"Фото завантажене":"Додати фото"}),a.jsx("input",{id:"image",className:K.image,type:"file",onChange:i=>Ke(i,t,"image",null,r,s)})]}),a.jsx("input",{type:"text",placeholder:"Заголовок",onChange:i=>Ke(i,t,"title",null,r,s)}),a.jsx("div",{className:K.texts,children:e.text&&e.text.map(i=>a.jsxs("div",{className:K.text,children:[a.jsx("input",{type:"text",placeholder:"Введіть текст",style:{fontWeight:i.bold?"bold":"normal"},onChange:o=>Ke(o,t,"text",i.key,r,s)}),a.jsx("div",{className:K.cross,onClick:()=>An(i.key,r),children:"X"})]},i.key))})]})}Uh.propTypes={name:m.string,dataItem:m.object,imageLoad:m.bool,setDataItem:m.func,setImageLoad:m.func};function Uh({name:t,dataItem:e,imageLoad:n,setDataItem:r,setImageLoad:s}){return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:K.label,children:[a.jsx("div",{className:K.label_wrapper,children:a.jsx("div",{className:K.download,style:{backgroundImage:n?`url(${e.image})`:"none"}})}),a.jsx("label",{className:K.label_image,htmlFor:"image",children:n?"Фото завантажене":"Додати фото"}),a.jsx("input",{id:"image",className:K.image,type:"file",onChange:i=>Ke(i,t,"image",null,r,s)})]}),a.jsx("input",{type:"text",placeholder:"ПIП",onChange:i=>Ke(i,t,"title",null,r,s)}),a.jsx("input",{type:"text",placeholder:"Роки життя",onChange:i=>Ke(i,t,"age",null,r,s)}),a.jsx("input",{type:"text",placeholder:"Посада",onChange:i=>Ke(i,t,"position",null,r,s)}),a.jsx("div",{className:K.texts,children:e.text&&e.text.map(i=>a.jsxs("div",{className:K.text,children:[a.jsx("input",{type:"text",placeholder:"Введіть текст",style:{fontWeight:i.bold?"bold":"normal"},onChange:o=>Ke(o,t,"text",i.key,r,s)}),a.jsx("div",{className:K.cross,onClick:()=>An(i.key,r),children:"X"})]},i.key))})]})}Wh.propTypes={name:m.string.isRequired,dataRef:m.object.isRequired,setPopUpAdd:m.func.isRequired,updateList:m.func.isRequired};function Wh({name:t,dataRef:e,setPopUpAdd:n,updateList:r}){const[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState({image:null,title:null,age:null,position:null,text:[],date:T5(),likes:0,count:-1,key:null});return a.jsx("form",{className:K.addForm,children:a.jsxs("div",{className:K.form_wrapper,children:[a.jsx("div",{className:K.cross,onClick:()=>n(!1),children:a.jsx(Nr,{})}),t==="news"?a.jsx(Fh,{name:t,dataItem:c,imageLoad:o,setDataItem:u,setImageLoad:l}):null,t==="memorial"?a.jsx(Uh,{name:t,dataItem:c,imageLoad:o,setDataItem:u,setImageLoad:l}):null,t==="museum"?a.jsx(Bh,{name:t,dataItem:c,imageLoad:o,setDataItem:u,setImageLoad:l}):null,a.jsxs("div",{className:K.addText,onClick:()=>Ph(s,u),children:[a.jsx("div",{className:K.text_name,children:"Додати текст"}),a.jsxs("div",{className:K.text_plus,children:[" ",a.jsx(Oh,{})," "]})]}),a.jsxs("div",{className:K.isFat,children:[a.jsx("div",{className:K.text,children:" Жирний текст "}),a.jsx("input",{type:"checkbox",checked:s,onChange:()=>i(!s)})]}),a.jsx("div",{className:K.buttom,onClick:()=>k5(c,["image","title","date"],e,r,n),children:a.jsx(De,{text:"Створити новину",noArrow:!0})})]})})}const uc=(t,e)=>t.find(n=>n.count===e),tn=async(t,e,n,r,s)=>{const i=t.count,o=uc(e,i),l=e.slice().sort((_,g)=>_.count-g.count),c=l.findIndex(_=>_.count===i),d=(_=>_+(s?1:-1))(c);if(d<0||d>=e.length)return null;const h=l[d].count,f=uc(e,h);try{await n.child(o.key).update({count:h}),await n.child(f.key).update({count:i}),await r()}catch(_){console.error("Помилка при зміні позиції елементу:",_)}},H5=async(t,e)=>{try{const r=(await t.once("value")).val(),s=Object.keys(r).filter(c=>r[c].count===-1),i=async(c,u)=>{const d=r[c].count+u;await t.child(c).update({count:d});const f=Object.keys(r).filter(_=>r[_].count===d).filter(_=>_!==c);f.length>0&&await Promise.all(f.map(async _=>i(_,1)))};await Promise.all(s.map(async c=>i(c,1)));const l=Array.from(new Set(Object.values(r).map(c=>c.count))).map(async c=>{const u=Object.keys(r).filter(d=>r[d].count===c);for(let d=1;d<u.length;d++)await i(u[d],1)});await Promise.all(l),await e()}catch(n){console.error("Помилка при оновленні списку:",n)}},q5="_added_jptoc_1",V5="_items_jptoc_25",G5="_wrapperBlock_jptoc_32",K5="_five_jptoc_44",Y5="_other_jptoc_47",Q5="_title_jptoc_50",X5="_item_jptoc_25",Z5="_item_content_jptoc_81",J5="_date_jptoc_91",eC="_name_jptoc_98",tC="_like_jptoc_105",nC="_count_jptoc_115",rC="_item_setting_jptoc_120",sC="_arrows_jptoc_126",iC="_arrow_jptoc_126",oC="_setting_jptoc_127",aC="_cross_jptoc_128",lC="_arrowBottom_jptoc_154",I={added:q5,items:V5,wrapperBlock:G5,five:K5,other:Y5,title:Q5,item:X5,item_content:Z5,date:J5,name:eC,like:tC,count:nC,item_setting:rC,arrows:sC,arrow:iC,setting:oC,cross:aC,arrowBottom:lC};function Ea(){return a.jsxs("svg",{fill:"#fd0",height:"200px",width:"200px",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 489.802 489.802",stroke:"#fd0",strokeWidth:"0.00489802",children:[a.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),a.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#ffffff",strokeWidth:"2.938812"}),a.jsx("g",{id:"SVGRepo_iconCarrier",children:a.jsx("g",{children:a.jsx("path",{d:"M20.701,281.901l32.1,0.2c4.8,24.7,14.3,48.7,28.7,70.5l-22.8,22.6c-8.2,8.1-8.2,21.2-0.2,29.4l24.6,24.9 c8.1,8.2,21.2,8.2,29.4,0.2l22.8-22.6c21.6,14.6,45.5,24.5,70.2,29.5l-0.2,32.1c-0.1,11.5,9.2,20.8,20.7,20.9l35,0.2 c11.5,0.1,20.8-9.2,20.9-20.7l0.2-32.1c24.7-4.8,48.7-14.3,70.5-28.7l22.6,22.8c8.1,8.2,21.2,8.2,29.4,0.2l24.9-24.6 c8.2-8.1,8.2-21.2,0.2-29.4l-22.6-22.8c14.6-21.6,24.5-45.5,29.5-70.2l32.1,0.2c11.5,0.1,20.8-9.2,20.9-20.7l0.2-35 c0.1-11.5-9.2-20.8-20.7-20.9l-32.1-0.2c-4.8-24.7-14.3-48.7-28.7-70.5l22.8-22.6c8.2-8.1,8.2-21.2,0.2-29.4l-24.6-24.9 c-8.1-8.2-21.2-8.2-29.4-0.2l-22.8,22.6c-21.6-14.6-45.5-24.5-70.2-29.5l0.2-32.1c0.1-11.5-9.2-20.8-20.7-20.9l-35-0.2 c-11.5-0.1-20.8,9.2-20.9,20.7l-0.3,32.1c-24.8,4.8-48.8,14.3-70.5,28.7l-22.6-22.8c-8.1-8.2-21.2-8.2-29.4-0.2l-24.8,24.6 c-8.2,8.1-8.2,21.2-0.2,29.4l22.6,22.8c-14.6,21.6-24.5,45.5-29.5,70.2l-32.1-0.2c-11.5-0.1-20.8,9.2-20.9,20.7l-0.2,35 C-0.099,272.401,9.201,281.801,20.701,281.901z M179.301,178.601c36.6-36.2,95.5-35.9,131.7,0.7s35.9,95.5-0.7,131.7 s-95.5,35.9-131.7-0.7S142.701,214.801,179.301,178.601z"})})})]})}function Nn(){return a.jsxs("svg",{fill:"#fd0",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),a.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("g",{id:"SVGRepo_iconCarrier",children:a.jsx("path",{fillRule:"evenodd",d:"M4.38710056,10.7902954 L4.29289322,10.7071068 C3.93240926,10.3466228 3.90467972,9.77939176 4.20970461,9.38710056 L4.29289322,9.29289322 L11.2928932,2.29289322 L11.336853,2.2514958 L11.336853,2.2514958 L11.4046934,2.19633458 L11.4046934,2.19633458 L11.5159379,2.12467117 L11.5159379,2.12467117 L11.628664,2.07122549 L11.628664,2.07122549 L11.734007,2.03584514 L11.734007,2.03584514 L11.8819045,2.00690716 L11.8819045,2.00690716 L12,2 L12.0752385,2.00278786 L12.0752385,2.00278786 L12.2007258,2.02024007 L12.2007258,2.02024007 L12.3121425,2.04973809 L12.3121425,2.04973809 L12.4232215,2.09367336 L12.4232215,2.09367336 L12.5207088,2.14599545 L12.5207088,2.14599545 L12.625449,2.21968877 L12.625449,2.21968877 L12.7071068,2.29289322 L19.7071068,9.29289322 C20.0976311,9.68341751 20.0976311,10.3165825 19.7071068,10.7071068 C19.3466228,11.0675907 18.7793918,11.0953203 18.3871006,10.7902954 L18.2928932,10.7071068 L13,5.416 L13,21 C13,21.5522847 12.5522847,22 12,22 C11.4477153,22 11,21.5522847 11,21 L11,5.414 L5.70710678,10.7071068 C5.34662282,11.0675907 4.77939176,11.0953203 4.38710056,10.7902954 L4.29289322,10.7071068 L4.38710056,10.7902954 Z"})})]})}const Na=async(t,e,n)=>{try{const s=(await e.orderByChild("key").equalTo(t.key).once("value")).val();if(s){const i=Object.keys(s)[0];await Lh(t),await e.child(i).remove()}n(i=>i.filter(o=>o.key!==t.key))}catch(r){console.error("Помилка видалення елементу:",r)}},ka=(t,e,n)=>{e(t),n(!0)};zh.propTypes={items:m.array,dataRef:m.object,setDataItem:m.func,setPopUpEdit:m.func,setItems:m.func};function zh({items:t,dataRef:e,setDataItem:n,setItems:r,setPopUpEdit:s}){const i=()=>ln(e,r,!0),o={first:{value:"Головна Новина",style:I.first},five:{value:"Наступні 5",style:I.five},other:{value:"Інші Новини",style:I.other}},l=(c,u,d)=>a.jsxs("div",{className:I.wrapperBlock+" "+c.style,children:[a.jsx("div",{className:I.title,children:c.value}),a.jsx("div",{className:I.items,children:t.slice(u,d).map(h=>a.jsxs("div",{className:I.item,children:[a.jsxs("div",{className:I.item_content,children:[a.jsxs("div",{className:I.date,children:[" ",h.date," "]}),a.jsxs("div",{className:I.name,children:[" ",Ee(h.title,30)," "]}),a.jsxs("div",{className:I.like,children:[a.jsx("img",{src:_h,alt:"heart"}),a.jsx("div",{className:I.count,children:h.likes})]})]}),a.jsxs("div",{className:I.item_setting,children:[a.jsxs("div",{className:I.arrows,children:[a.jsx("div",{className:I.arrow+" "+I.arrowBottom,onClick:()=>tn(h,t,e,i,!0),children:a.jsx(Nn,{})}),a.jsx("div",{className:I.arrow+" "+I.arrowTop,onClick:()=>tn(h,t,e,i,!1),children:a.jsx(Nn,{})})]}),a.jsx("div",{className:I.setting,onClick:()=>ka(h,n,s),children:a.jsx(Ea,{})}),a.jsx("div",{className:I.cross,onClick:()=>Na(h,e,r),children:a.jsx(Nr,{})})]})]},h.key))})]});return a.jsxs(a.Fragment,{children:[l(o.first,0,1),l(o.five,1,6),l(o.other,6)]})}Hh.propTypes={items:m.array,dataRef:m.object,setDataItem:m.func,setPopUpEdit:m.func,setItems:m.func};function Hh({items:t,dataRef:e,setDataItem:n,setItems:r,setPopUpEdit:s}){const i=()=>ln(e,r,!0);return(()=>a.jsx("div",{className:I.wrapperBlock,children:a.jsx("div",{className:I.items,children:t.map(l=>a.jsxs("div",{className:I.item,children:[a.jsxs("div",{className:I.item_content,children:[a.jsxs("div",{className:I.date,children:[" ",l.date," "]}),a.jsxs("div",{className:I.name,children:[" ",Ee(l.title,30)," "]})]}),a.jsxs("div",{className:I.item_setting,children:[a.jsxs("div",{className:I.arrows,children:[a.jsx("div",{className:I.arrow+" "+I.arrowBottom,onClick:()=>tn(l,t,e,i,!0),children:a.jsx(Nn,{})}),a.jsx("div",{className:I.arrow+" "+I.arrowTop,onClick:()=>tn(l,t,e,i,!1),children:a.jsx(Nn,{})})]}),a.jsx("div",{className:I.setting,onClick:()=>ka(l,n,s),children:a.jsx(Ea,{})}),a.jsx("div",{className:I.cross,onClick:()=>Na(l,e,r),children:a.jsx(Nr,{})})]})]},l.key))})}))()}qh.propTypes={items:m.array,dataRef:m.object,setDataItem:m.func,setPopUpEdit:m.func,setItems:m.func};function qh({items:t,dataRef:e,setDataItem:n,setItems:r,setPopUpEdit:s}){const i=()=>ln(e,r,!0);return(()=>a.jsx("div",{className:I.wrapperBlock,children:a.jsx("div",{className:I.items,children:t.map(l=>a.jsxs("div",{className:I.item,children:[a.jsxs("div",{className:I.item_content,children:[a.jsxs("div",{className:I.date,children:[" ",l.date," "]}),a.jsxs("div",{className:I.name,children:[" ",Ee(l.title,30)," "]})]}),a.jsxs("div",{className:I.item_setting,children:[a.jsxs("div",{className:I.arrows,children:[a.jsx("div",{className:I.arrow+" "+I.arrowBottom,onClick:()=>tn(l,t,e,i,!0),children:a.jsx(Nn,{})}),a.jsx("div",{className:I.arrow+" "+I.arrowTop,onClick:()=>tn(l,t,e,i,!1),children:a.jsx(Nn,{})})]}),a.jsx("div",{className:I.setting,onClick:()=>ka(l,n,s),children:a.jsx(Ea,{})}),a.jsx("div",{className:I.cross,onClick:()=>Na(l,e,r),children:a.jsx(Nr,{})})]})]},l.key))})}))()}Ar.propTypes={name:m.string.isRequired,title:m.string.isRequired};function Ar({name:t,title:e}){const[n,r]=p.useState([]),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(null),d=zs(`/data/${t}`),h=()=>ln(d,r,!0),f=()=>H5(d,h);return p.useEffect(()=>{n.length===0&&h()},[n]),a.jsxs("section",{children:[a.jsx("div",{className:I.added,onClick:()=>i(!0),children:e}),a.jsxs("div",{className:I.items,children:[t==="news"?a.jsx(zh,{items:n,dataRef:d,setDataItem:u,setItems:r,setPopUpEdit:l}):null,t==="memorial"?a.jsx(qh,{items:n,dataRef:d,setDataItem:u,setItems:r,setPopUpEdit:l}):null,t==="museum"?a.jsx(Hh,{items:n,dataRef:d,setDataItem:u,setItems:r,setPopUpEdit:l}):null]}),s&&a.jsx(Wh,{name:t,dataRef:d,fetchData:h,setPopUpAdd:i,changePosition:tn,updateList:f}),o&&a.jsx($h,{name:t,dataRef:d,fetchData:h,item:c,setPopUpEdit:l})]})}const cC="_checkPass_1g5ta_1",uC="_input_1g5ta_11",dC="_error_1g5ta_24",hC="_btn_1g5ta_27",zn={checkPass:cC,input:uC,error:dC,btn:hC};Vh.propTypes={setPassValid:m.func.isRequired};function Vh({setPassValid:t}){const[e,n]=p.useState(""),[r,s]=p.useState(!1),i=()=>{s(!0),setTimeout(()=>{s(!1)},300)},o=()=>{e==="1111"?t(!0):i()};return a.jsxs("div",{className:zn.checkPass,children:[a.jsx("input",{type:"password",className:r?zn.input+" "+zn.error:zn.input,placeholder:"Введіть пароль",onChange:l=>n(l.target.value),value:e}),a.jsx("button",{className:zn.btn,onClick:()=>o(),children:"OK"})]})}function fC(){const[t,e]=p.useState("news"),[n,r]=p.useState(!1),s=i=>{e(i)};return a.jsx("section",{children:n?a.jsxs(a.Fragment,{children:[a.jsx(jh,{selectedMenuItem:t,onMenuItemClick:s}),t==="news"&&a.jsx(Ar,{name:t,title:"Додати Новину"}),t==="memorial"&&a.jsx(Ar,{name:t,title:"Додати Меморіал"}),t==="museum"&&a.jsx(Ar,{name:t,title:"Додати Музей"})]}):a.jsx(Vh,{setPassValid:r})})}function pC(){return a.jsx(a.Fragment,{children:"Page404"})}function _C(){return a.jsx(a.Fragment,{children:a.jsx(Kf,{children:a.jsxs(rt,{path:"/",element:a.jsx(Ip,{}),children:[a.jsx(rt,{index:!0,element:a.jsx(Dw,{})}),a.jsx(rt,{path:"news",element:a.jsx(Tx,{})}),a.jsx(rt,{path:"news/:id",element:a.jsx(tb,{})}),a.jsx(rt,{path:"memorial",element:a.jsx(Wb,{})}),a.jsx(rt,{path:"museum",element:a.jsx(J4,{})}),a.jsx(rt,{path:"contacts",element:a.jsx(r5,{})}),a.jsx(rt,{path:"admin",element:a.jsx(fC,{})}),a.jsx(rt,{path:"*",element:a.jsx(pC,{})})]})})})}Si.createRoot(document.getElementById("root")).render(a.jsx(ep,{children:a.jsx(_C,{})}));
